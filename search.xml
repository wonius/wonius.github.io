<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>01Pico Pro Maker Kit åˆ·å…¥Android-Things</title>
    <url>/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    2017å¹´åº•ï¼Œå‚åŠ äº†GDDä¸Šæµ·æ´»åŠ¨ï¼Œåˆæ¬¡æ¥è§¦äº†Android Thingsï¼Œå¹¶ä¸”æ‹¿åˆ°äº†ä¸€å—å¼€å‘æ¿ï¼ŒPico Pro Maker Kitï¼Œæ‹¿å›æ¥åæœ‰äº‹ä¸€ç›´é—²ç½®ã€‚æœ€è¿‘æœ‰æ—¶é—´æå‡ºæ¥ç ”ç©¶ä¸‹ã€‚</p>
<img data-src="/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/1.JPG" class="" title="æœªå¼€è‹">

<h2 id="ç»„è£…"><a href="#ç»„è£…" class="headerlink" title="ç»„è£…"></a>ç»„è£…</h2><p>â€‹    ç»„è£…å¾ˆç®€å•ï¼ŒæŒ‰ç…§å®˜ç½‘æ•™ç¨‹åšï¼Œå¾ˆå¿«å°±ç»„è£…å¥½äº†ã€‚</p>
<p>â€‹    <a href="https://developer.android.google.cn/things/hardware/imx7d-kit.html#install-at">https://developer.android.google.cn/things/hardware/imx7d-kit.html#install-at</a></p>
<p>â€‹    ä¸è¿‡æˆ‘æ‹¿åˆ°çš„æ˜¯é˜‰å‰²ç‰ˆï¼Œæ²¡æœ‰Rainbow HATï¼Œå·®è¯„â€¦</p>
<img data-src="/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/2.JPG" class="" title="ç»„è£…å®Œæˆ">

<h2 id="ä¸‹è½½Android-Things"><a href="#ä¸‹è½½Android-Things" class="headerlink" title="ä¸‹è½½Android-Things"></a>ä¸‹è½½Android-Things</h2><p>â€‹    åˆ°å®˜ç½‘ä¸‹è½½Android things setup utilityã€‚å¯æ˜¯å®˜ç½‘ä¸Šçš„é“¾æ¥ä¸€ç›´æ— æ³•ä¸‹è½½ï¼Œåæ¥è”ç³»äº†googleé‡Œçš„å¼€å‘äººå‘˜ï¼Œå‘åˆ°æˆ‘çš„é‚®ç®±æ‰æ‹¿åˆ°ã€‚å·²ç»ä¸Šä¼ åˆ°ç™¾åº¦ç½‘ç›˜ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½ã€‚ï¼ˆä¹‹å‰åœ¨ç½‘ä¸Šæœ‰æœåˆ°æŸåŒå­¦ä¸Šä¼ åˆ°csdnï¼Œä¸‹è½½è¿˜éœ€è¦ç§¯åˆ†ï¼Œæ²¡ç§¯åˆ†çš„å®å®å¿ƒé‡Œè‹¦/(ã„’oã„’)/~~ï¼‰</p>
<p>é“¾æ¥: <a href="https://pan.baidu.com/s/1dgmIvk">https://pan.baidu.com/s/1dgmIvk</a> å¯†ç : rsps</p>
<h2 id="é…ç½®fastboot"><a href="#é…ç½®fastboot" class="headerlink" title="é…ç½®fastboot"></a>é…ç½®fastboot</h2><p>â€‹    åœ¨å†™å…¥é•œåƒä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿å·²å®‰è£…SDKï¼ˆæˆ‘è£…äº†Android Studioï¼Œå†…ç½®SDKã€‚ä½ ä¹Ÿå¯ä»¥å•ç‹¬è£…ï¼‰ã€‚å°†fastbootæ‰€åœ¨ç›®å½•åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œä¸ç„¶æ— æ³•æˆåŠŸæ‰§è¡Œfastbootå‘½ä»¤ã€‚</p>
<img data-src="/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/6.png" class="" title="æ‰¾ä¸åˆ°fastbootå‘½ä»¤">

<p>æŸ¥æ‰¾fastbootæ–‡ä»¶ç›®å½•ï¼Œå¹¶ç¡®ä¿fastbootæœ‰æ‰§è¡Œæƒé™ï¼Œå¹¶ä¸”å±ä¸»æ­£ç¡®ï¼š</p>
<img data-src="/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/4.png" class="" title="fastboot">

<p>åŠ å…¥ç¯å¢ƒå˜é‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ‘å®‰è£…äº†ohmyzshæ’ä»¶ï¼Œæ‰€ä»¥éœ€è¦ç¼–è¾‘.zshrcã€‚åŒå­¦ä»¬æ ¹æ®å®é™…é…ç½®ä¿®æ”¹</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶æœ«å°¾ä¸­åŠ å…¥</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/Users/woniu/Library/Android/sdk/platform-tools</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ«å¿˜äº†ç¼–è¯‘</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æµ‹æ˜¯å¦å¯ç”¨</span></span><br><span class="line">fastboot -h</span><br></pre></td></tr></table></figure>



<h2 id="å†™å…¥Android-Things"><a href="#å†™å…¥Android-Things" class="headerlink" title="å†™å…¥Android-Things"></a>å†™å…¥Android-Things</h2><p>â€‹    ä¸‹è½½Android things setup utilityæˆåŠŸä¹‹åï¼Œè§£å‹ï¼Œè¿è¡Œandroid-things-setup-utility-macosï¼ŒæŒ‰ç…§æç¤ºé€‰æ‹©ï¼Œåœ¨çº¿ä¸‹è½½é•œåƒå¹¶ä¸”åˆ·å…¥ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ã€‚æ²¡æœ‰æ¡ä»¶çš„åŒå­¦ä¹Ÿå¯ä»¥åˆ°æˆ‘çš„ç™¾åº¦äº‘ä¸‹è½½iot_imx7d_picoé•œåƒï¼Œæ‰‹åŠ¨å®‰è£…ã€‚é“¾æ¥: <a href="https://pan.baidu.com/s/1hticxNI">https://pan.baidu.com/s/1hticxNI</a> å¯†ç : 4rvcï¼‰ã€‚</p>
<img data-src="/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/3.png" class="" title="æ‰¾ä¸åˆ°fastbootå‘½ä»¤">

<p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œæœ€åæŠ¥é”™äº†ï¼ŒåŸå› æ˜¯æ‰¾ä¸åˆ°fastbootå‘½ä»¤ã€‚å½“æˆ‘é…ç½®å¥½fastbootåé‡æ–°åœ¨çº¿å®‰è£…ï¼Œä¸€ç›´æ— æ³•ä¸‹è½½ã€‚åªå¥½ä¸‹è½½é•œåƒæ‰‹åŠ¨å®‰è£…ã€‚</p>
<p>ä¸‹è½½iot_imx7d_picoåï¼Œè§£å‹ï¼Œåˆ°è¯¥ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./flash-all.sh		//Winç³»ç»Ÿä¸‹æ‰§è¡Œflash-all.bat</span><br></pre></td></tr></table></figure>

<p>ä¹‹åé™å¾…å®‰è£…ï¼Œå®Œæˆåä¼šè‡ªåŠ¨é‡å¯ï¼Œå°±å¯ä»¥äº†ï¼š</p>
<img data-src="/2018/01/06/01Pico-Pro-Maker-Kit-%E5%88%B7%E5%85%A5Android-Things/5.jpeg" class="" title="æˆåŠŸ">
]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>Android-Things</tag>
      </tags>
  </entry>
  <entry>
    <title>02åˆ›å»ºAndroid Thingså·¥ç¨‹</title>
    <url>/2018/01/16/02%E5%88%9B%E5%BB%BAAndroid-Things%E5%B7%A5%E7%A8%8B/</url>
    <content><![CDATA[<p><a href="https://partner.android.com/things/console/#/">https://partner.android.com/things/console/#/</a></p>
<p><a href="https://developer.android.com/things/training/first-device/create-studio-project.html">https://developer.android.com/things/training/first-device/create-studio-project.html</a></p>
<p><a href="https://developer.android.com/studio/projects/create-project.html">https://developer.android.com/studio/projects/create-project.html</a></p>
]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>Android-Things</tag>
      </tags>
  </entry>
  <entry>
    <title>AWSå…è´¹EC2åˆ›å»ºè®°å½•</title>
    <url>/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h2 id="æ³¨å†ŒAWSè´¦å·"><a href="#æ³¨å†ŒAWSè´¦å·" class="headerlink" title="æ³¨å†ŒAWSè´¦å·"></a>æ³¨å†ŒAWSè´¦å·</h2><p>å¦‚æœæ²¡æœ‰AWSè´¦å·ï¼Œè¯·å…ˆæ³¨å†Œã€‚æ³¨æ„AWSè´¦å·ä¸Amazonå•†åŸæ˜¯ä¸¤å¥—è´¦å·ç³»ç»Ÿï¼Œä¸èƒ½å…±ç”¨ã€‚<a href="https://aws.amazon.com/cn/">AWSä¸»é¡µ</a></p>
<h2 id="é€‰æ‹©æœºæˆ¿"><a href="#é€‰æ‹©æœºæˆ¿" class="headerlink" title="é€‰æ‹©æœºæˆ¿"></a>é€‰æ‹©æœºæˆ¿</h2><p>é€‰æ‹©åŠ å·æœºæˆ¿ï¼Œé€Ÿåº¦å¿«ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/1%E4%B8%BB%E6%9C%BA.jpg" class="">

<h2 id="é€‰æ‹©ç³»ç»Ÿé•œåƒ"><a href="#é€‰æ‹©ç³»ç»Ÿé•œåƒ" class="headerlink" title="é€‰æ‹©ç³»ç»Ÿé•œåƒ"></a>é€‰æ‹©ç³»ç»Ÿé•œåƒ</h2><p>æ³¨æ„é€‰æ‹©å…è´¹å¥—é¤ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/2%E9%95%9C%E5%83%8F.jpg" class="">

<h2 id="é€‰æ‹©å®ä¾‹"><a href="#é€‰æ‹©å®ä¾‹" class="headerlink" title="é€‰æ‹©å®ä¾‹"></a>é€‰æ‹©å®ä¾‹</h2><p>åŒæ ·ï¼Œé€‰æ‹©å…è´¹å¥—é¤ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/3%E5%AE%9E%E4%BE%8B.jpg" class="">

<h2 id="å®ä¾‹é…ç½®"><a href="#å®ä¾‹é…ç½®" class="headerlink" title="å®ä¾‹é…ç½®"></a>å®ä¾‹é…ç½®</h2><p>é»˜è®¤é…ç½®å°±å¯ä»¥ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/4%E9%85%8D%E7%BD%AE.jpg" class="">

<h2 id="è®¾ç½®å­˜å‚¨"><a href="#è®¾ç½®å­˜å‚¨" class="headerlink" title="è®¾ç½®å­˜å‚¨"></a>è®¾ç½®å­˜å‚¨</h2><p>é»˜è®¤5Gï¼Œå¯ä»¥è°ƒæ•´åˆ°30Gï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/5%E5%AD%98%E5%82%A8.jpg" class="">

<h2 id="è®¾ç½®æ ‡ç­¾"><a href="#è®¾ç½®æ ‡ç­¾" class="headerlink" title="è®¾ç½®æ ‡ç­¾"></a>è®¾ç½®æ ‡ç­¾</h2><p>å³å®ä¾‹æ ‡ç­¾ï¼Œç”¨æ¥åŒºåˆ†ä¸åŒå®ä¾‹ã€‚è¿™é‡Œæˆ‘æ·»åŠ äº†Nameæ ‡ç­¾ï¼Œå¹¶ä¸ºè¯¥å®ä¾‹å‘½åï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/6%E6%A0%87%E7%AD%BE.jpg" class="">

<h2 id="è®¾ç½®å®‰å…¨ç»„"><a href="#è®¾ç½®å®‰å…¨ç»„" class="headerlink" title="è®¾ç½®å®‰å…¨ç»„"></a>è®¾ç½®å®‰å…¨ç»„</h2><p>è®¾ç½®å¼€æ”¾çš„æ¥å£ï¼Œå°†å¸¸ç”¨çš„sshã€httpã€httpsåè®®å¼€æ”¾ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/7%E5%AE%89%E5%85%A8%E7%BB%84.jpg" class="">

<h2 id="è®¾ç½®ç§˜é’¥å¯¹"><a href="#è®¾ç½®ç§˜é’¥å¯¹" class="headerlink" title="è®¾ç½®ç§˜é’¥å¯¹"></a>è®¾ç½®ç§˜é’¥å¯¹</h2><p>è®¾ç½®ç§˜é’¥å¯¹ï¼Œå¹¶ä¸‹è½½ã€‚ä½¿ç”¨sshè®¿é—®æœåŠ¡å™¨æ—¶ç”¨äºæ ¡éªŒï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/8AwsKeyPair.jpg" class="">

<h2 id="SSHè®¿é—®"><a href="#SSHè®¿é—®" class="headerlink" title="SSHè®¿é—®"></a>SSHè®¿é—®</h2><p>åˆ›å»ºå®Œæˆåï¼ŒæŸ¥çœ‹åˆ›å»ºå¥½çš„å®ä¾‹ï¼Œç³»ç»Ÿä¼šä»‹ç»å¦‚ä½•é€šè¿‡sshè®¿é—®æœåŠ¡å™¨ã€‚å°†ä¸Šä¸€æ­¥ä¸‹è½½å¥½çš„pemæ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°ï¼Œè®¾ç½®æƒé™ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤è¿›è¡Œé“¾æ¥ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/9ssh.jpg" class="">

<p>æ¯æ¬¡éƒ½è¦åˆ°pemæ‰€åœ¨ç›®å½•è®¿é—®ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚å¯ä»¥å°†pemåŠ å…¥åˆ°sshä¸­ï¼Œå°±å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä¸‹è®¿é—®äº†(åˆ«å¿˜äº†å…ˆå°†pemæ–‡ä»¶æƒé™ä¿®æ”¹ä¸º400)ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/10ssh-add.jpg" class="">

<p>è¿æ¥æœåŠ¡å™¨ï¼š</p>
<img data-src="/2018/03/17/AWS%E5%85%8D%E8%B4%B9EC2%E5%88%9B%E5%BB%BA%E8%AE%B0%E5%BD%95/11ssh2.jpg" class="">
]]></content>
      <categories>
        <category>äº‘æœåŠ¡å™¨</category>
      </categories>
      <tags>
        <tag>AWS</tag>
      </tags>
  </entry>
  <entry>
    <title>BlockChainå…¥é—¨</title>
    <url>/2018/05/21/BlockChain%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h2 id="æ™ºèƒ½åˆçº¦"><a href="#æ™ºèƒ½åˆçº¦" class="headerlink" title="æ™ºèƒ½åˆçº¦"></a>æ™ºèƒ½åˆçº¦</h2><p>é¦–å…ˆè¦ç†è§£æ™ºèƒ½åˆçº¦ï¼Œä¸‹é¢è¿™ç¯‡æ¯”è¾ƒé€šä¿—æ˜“æ‡‚</p>
<p><a href="http://www.figurefinance.com/news/shownews.php?lang=cn&amp;id=4827">http://www.figurefinance.com/news/shownews.php?lang=cn&amp;id=4827</a></p>
<p>è¿™ç¯‡æ¯”è¾ƒå®˜æ–¹ï¼š</p>
<p><a href="http://www.8btc.com/what-are-smart-contracts-in-search-of-a-consensus">http://www.8btc.com/what-are-smart-contracts-in-search-of-a-consensus</a></p>
<h2 id="ä»¥å¤ªåŠå…¥é—¨"><a href="#ä»¥å¤ªåŠå…¥é—¨" class="headerlink" title="ä»¥å¤ªåŠå…¥é—¨"></a>ä»¥å¤ªåŠå…¥é—¨</h2><p><a href="http://me.tryblockchain.org/getting-up-to-speed-on-ethereum.html">http://me.tryblockchain.org/getting-up-to-speed-on-ethereum.html</a></p>
]]></content>
      <categories>
        <category>BlockChain</category>
      </categories>
      <tags>
        <tag>BlockChain</tag>
        <tag>Ethereum</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOSå®‰è£…NodeJS</title>
    <url>/2018/02/06/CentOS%E5%AE%89%E8%A3%85NodeJS/</url>
    <content><![CDATA[<p>â€‹    æœ€è¿‘éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…nodejsï¼Œç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œæ–‡ç« éƒ½æ˜¯è½¬æ¥è½¬å»ï¼Œéƒ½å‡ºåˆ°9.xç‰ˆæœ¬äº†è¿˜åœ¨è®²å¦‚ä½•è£…6.xï¼Œå¾ˆæ— è¯­ã€‚æ‰€ä»¥è‡ªå·±æ•´ç†ä¸€ä¸‹ã€‚</p>
<h3 id="é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬"><a href="#é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬" class="headerlink" title="é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬"></a>é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬</h3><p>â€‹    yumå®‰è£…è‡ªå¸¦nodjsç‰ˆæœ¬å¤ªä½ï¼Œåˆ°<a href="https://github.com/nodesource/distributions">nodeæºç ç‰ˆæœ¬</a>ä¸Šé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼Œæˆ‘å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬ï¼Œ9.x</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -sL https://rpm.nodesource.com/setup_9.x | bash -</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y nodejs</span><br></pre></td></tr></table></figure>

<h3 id="æ£€æŸ¥nodeã€npmç‰ˆæœ¬"><a href="#æ£€æŸ¥nodeã€npmç‰ˆæœ¬" class="headerlink" title="æ£€æŸ¥nodeã€npmç‰ˆæœ¬"></a>æ£€æŸ¥nodeã€npmç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<h3 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h3><p>â€‹    é™¤äº†åœ¨çº¿å®‰è£…ï¼Œè¿˜æœ‰ä¸‹è½½å®‰è£…åŒ…ã€åŠ å‹ã€ç¼–è¯‘å®‰è£…çš„æ–¹æ³•ï¼Œæ“ä½œç¹çï¼Œä¸æ¨èã€‚</p>
]]></content>
      <categories>
        <category>Frontend</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOSå®‰è£…zshå’Œoh-my-zsh</title>
    <url>/2017/12/18/CentOs%E5%AE%89%E8%A3%85zsh%E5%92%8Coh-my-zsh/</url>
    <content><![CDATA[<h3 id="æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„shell"><a href="#æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„shell" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„shell"></a>æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„shell</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure>
<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>

<p><em>PS.é»˜è®¤çš„shellä¸€èˆ¬éƒ½æ˜¯bash</em></p>
<h3 id="æŸ¥çœ‹binä¸‹æ˜¯å¦æœ‰zshåŒ…"><a href="#æŸ¥çœ‹binä¸‹æ˜¯å¦æœ‰zshåŒ…" class="headerlink" title="æŸ¥çœ‹binä¸‹æ˜¯å¦æœ‰zshåŒ…"></a>æŸ¥çœ‹binä¸‹æ˜¯å¦æœ‰zshåŒ…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br></pre></td></tr></table></figure>

<p><em>PSï¼šé»˜è®¤æ²¡æœ‰å®‰è£…zsh</em></p>
<h3 id="å®‰è£…zshåŒ…"><a href="#å®‰è£…zshåŒ…" class="headerlink" title="å®‰è£…zshåŒ…"></a>å®‰è£…zshåŒ…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum -y install zsh</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®ŒæˆåæŸ¥çœ‹shellåˆ—è¡¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br><span class="line">/bin/zsh</span><br></pre></td></tr></table></figure>

<h3 id="åˆ‡æ¢shellè‡³zsh"><a href="#åˆ‡æ¢shellè‡³zsh" class="headerlink" title="åˆ‡æ¢shellè‡³zsh"></a>åˆ‡æ¢shellè‡³zsh</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>

<p>chshç”¨æ³•è¯·è‡ªè¡ŒæŸ¥æ‰¾ï¼Œè¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Shell changed.</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æŸ¥çœ‹shellï¼Œå·²ç»æ›´æ¢ä¸ºzshï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>

<p>éœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>

<p>é‡å¯åæŸ¥çœ‹shellï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/zsh</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum -y install git</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…oh-my-zsh"><a href="#å®‰è£…oh-my-zsh" class="headerlink" title="å®‰è£…oh-my-zsh"></a>å®‰è£…oh-my-zsh</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br></pre></td></tr></table></figure>

<p>å‡ºç°å¦‚ä¸‹ç•Œé¢æ˜¾ç¤ºå®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">         __                                     __   </span><br><span class="line">  ____  / /_     ____ ___  __  __   ____  _____/ /_  </span><br><span class="line"> / __ \/ __ \   / __ `__ \/ / / /  /_  / / ___/ __ \ </span><br><span class="line">/ /_/ / / / /  / / / / / / /_/ /    / /_(__  ) / / / </span><br><span class="line">\____/_/ /_/  /_/ /_/ /_/\__, /    /___/____/_/ /_/  </span><br><span class="line">                        /____/                       ....is now installed!</span><br><span class="line">Please look over the ~/.zshrc file to select plugins, themes, and options.</span><br><span class="line"></span><br><span class="line">p.s. Follow us at https://twitter.com/ohmyzsh.</span><br><span class="line"></span><br><span class="line">p.p.s. Get stickers and t-shirts at http://shop.planetargon.com.</span><br></pre></td></tr></table></figure>

<p><em>æ·»åŠ æ’ä»¶ã€æ¢themesä¿®æ”¹æ–‡ä»¶</em></p>
<p>å¦‚æœæ‰§è¡Œå‘½ä»¤æ—¶æç¤º==warning: cannot set LC_CTYPE locale==ï¼Œä¿®æ”¹profileæ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure>

<p>åœ¨æ–‡ä»¶æœ«å°¾å¤„æ·»åŠ ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> LC_ALL=en_US.UTF-8</span><br><span class="line"><span class="built_in">export</span> LC_CTYPE=en_US.UTF-8</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åæ›´æ–°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="ä¸»é¢˜è®¾ç½®"><a href="#ä¸»é¢˜è®¾ç½®" class="headerlink" title="ä¸»é¢˜è®¾ç½®"></a>ä¸»é¢˜è®¾ç½®</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦çš„ä¸»é¢˜</span><br><span class="line">ls ~/.oh-my-zsh/themes</span><br><span class="line"></span><br><span class="line">//æ‰¾åˆ°ZSH_THEMEï¼Œå°†åé¢çš„å€¼æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜</span><br><span class="line">vim ~/.zshrc</span><br><span class="line"></span><br><span class="line">//è®¾ç½®å…¶ä»–ä¸»é¢˜ï¼Œå…ˆå°†ä¸»é¢˜å®‰è£…åˆ°<span class="variable">$ZSH_CUSTOM</span>/themesç›®å½•ï¼Œå†è®¾ç½®</span><br></pre></td></tr></table></figure>

<p>æ¨èå‡ ä¸ªä¸»é¢˜ï¼š</p>
<ul>
<li>ys</li>
<li>aussiegeek</li>
<li>bira</li>
<li>agnoster</li>
</ul>
<p>æ›´å¤šä¸»é¢˜ï¼š</p>
<p><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/themes">https://github.com/robbyrussell/oh-my-zsh/wiki/themes</a></p>
<h3 id="æ’ä»¶è®¾ç½®"><a href="#æ’ä»¶è®¾ç½®" class="headerlink" title="æ’ä»¶è®¾ç½®"></a>æ’ä»¶è®¾ç½®</h3><p>è¿™é‡Œåˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„æ’ä»¶ï¼Œè®¾ç½®æ–¹æ³•ä¸€æ ·ã€‚æ’ä»¶å¾ˆå¤šï¼ŒæŒ‰éœ€ç´¢å–ã€‚å¦åˆ™ä¼šå½±å“shellåŠ è½½é€Ÿåº¦</p>
<h4 id="git"><a href="#git" class="headerlink" title="git"></a>git</h4><p>é»˜è®¤è‡ªå¸¦gitæ’ä»¶ï¼Œå¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹æœ‰å“ªäº›å¿«æ·æŒ‡ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> | grep git</span><br></pre></td></tr></table></figure>

<h4 id="zsh-autosuggestionsï¼ˆå‘½ä»¤è¡¥å…¨ï¼‰"><a href="#zsh-autosuggestionsï¼ˆå‘½ä»¤è¡¥å…¨ï¼‰" class="headerlink" title="zsh-autosuggestionsï¼ˆå‘½ä»¤è¡¥å…¨ï¼‰"></a>zsh-autosuggestionsï¼ˆå‘½ä»¤è¡¥å…¨ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å®‰è£…æ’ä»¶</span><br><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br><span class="line"></span><br><span class="line">//æ·»åŠ é…ç½®</span><br><span class="line">vim ~/.zshrc</span><br><span class="line">//æ‰¾åˆ°pluginsï¼Œå°†zsh-autosuggestionsæ·»åŠ åˆ°æ‹¬å·é‡Œ</span><br></pre></td></tr></table></figure>

<h4 id="zsh-syntax-highlightingï¼ˆå‘½ä»¤é«˜äº®ï¼‰"><a href="#zsh-syntax-highlightingï¼ˆå‘½ä»¤é«˜äº®ï¼‰" class="headerlink" title="zsh-syntax-highlightingï¼ˆå‘½ä»¤é«˜äº®ï¼‰"></a>zsh-syntax-highlightingï¼ˆå‘½ä»¤é«˜äº®ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å®‰è£…æ’ä»¶</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting</span><br><span class="line"></span><br><span class="line">//æ·»åŠ é…ç½®</span><br><span class="line">vim ~/.zshrc</span><br><span class="line">//æ‰¾åˆ°pluginsï¼Œå°†zsh-syntax-highlightingæ·»åŠ åˆ°æ‹¬å·é‡Œ</span><br></pre></td></tr></table></figure>

<h4 id="autojumpï¼ˆç›®å½•å¿«é€Ÿè·³è½¬ï¼‰"><a href="#autojumpï¼ˆç›®å½•å¿«é€Ÿè·³è½¬ï¼‰" class="headerlink" title="autojumpï¼ˆç›®å½•å¿«é€Ÿè·³è½¬ï¼‰"></a>autojumpï¼ˆç›®å½•å¿«é€Ÿè·³è½¬ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å®‰è£…autojump</span><br><span class="line">brew install autojump</span><br><span class="line"></span><br><span class="line">//é…ç½®.zshrcã€‚ä¸‹é¢è¿™æ®µï¼Œåœ¨å®‰è£…å®Œæˆåä¼šæœ‰æç¤ºï¼Œç›´æ¥æ‹·è´</span><br><span class="line">[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–ç³»ç»Ÿå®‰è£…æ–¹æ³•å¯ä»¥åˆ°å®˜æ–¹ä¸Šå»çœ‹ã€‚å¦å¤–æ³¨æ„ï¼Œåªæœ‰è¿›è¿‡çš„ç›®å½•ï¼Œæ‰ä¼šç›´æ¥è¿›å…¥</p>
<p><a href="https://github.com/wting/autojump">https://github.com/wting/autojump</a></p>
<h4 id="æ›´å¤šæ’ä»¶"><a href="#æ›´å¤šæ’ä»¶" class="headerlink" title="æ›´å¤šæ’ä»¶"></a>æ›´å¤šæ’ä»¶</h4><p><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins">https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins</a></p>
]]></content>
      <categories>
        <category>Shell</category>
      </categories>
      <tags>
        <tag>Shell</tag>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOSå½»åº•åˆ é™¤å¹¶é‡è£…ã€å‡çº§Mysql</title>
    <url>/2017/12/18/CentOs%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%E5%B9%B6%E9%87%8D%E8%A3%85Mysql/</url>
    <content><![CDATA[<h3 id="åˆ é™¤Mysql"><a href="#åˆ é™¤Mysql" class="headerlink" title="åˆ é™¤Mysql"></a>åˆ é™¤Mysql</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å¤‡ä»½æ•°æ®</span><br><span class="line">mysqldump -u xxx -h xxx -P 3306 -p --all-databases &gt; databases.sql</span><br><span class="line">mysqldump -u xxx -h xxx -P 3306 -p *** &gt; ***.sql</span><br><span class="line"></span><br><span class="line">//åœæ­¢æœåŠ¡</span><br><span class="line">service mysqld stop</span><br><span class="line"></span><br><span class="line">//å¸è½½ç›¸å…³è½¯ä»¶</span><br><span class="line">yum remove mysql mysql-*</span><br><span class="line"></span><br><span class="line">//æ‰¾åˆ°é—ç•™æ–‡ä»¶ï¼Œå¹¶åˆ é™¤</span><br><span class="line">find / -name mysql</span><br><span class="line">sudo rm -rf **</span><br><span class="line"></span><br><span class="line">//æ‰¾åˆ°ä¾èµ–åŒ…ï¼Œå¹¶å¸è½½</span><br><span class="line">rpm -qa| grep mysql</span><br><span class="line">yum remove ***</span><br></pre></td></tr></table></figure>



<h3 id="é‡è£…Mysql"><a href="#é‡è£…Mysql" class="headerlink" title="é‡è£…Mysql"></a>é‡è£…Mysql</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//é‡æ–°å®‰è£…</span><br><span class="line">yum install mysql mysql-server mysql-libs</span><br></pre></td></tr></table></figure>



<h3 id="å‡çº§é«˜ç‰ˆæœ¬Mysql"><a href="#å‡çº§é«˜ç‰ˆæœ¬Mysql" class="headerlink" title="å‡çº§é«˜ç‰ˆæœ¬Mysql"></a>å‡çº§é«˜ç‰ˆæœ¬Mysql</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ï¼Œelç‰ˆæœ¬ã€i686è¿˜æ˜¯x86â€”â€”64ç­‰</span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line">//åˆ°é•œåƒä¸­æ‰¾é€‚åˆè‡ªå·±çš„é•œåƒï¼Œæ‹¿åˆ°é“¾æ¥</span><br><span class="line">http://mirrors.sohu.com/mysql/</span><br><span class="line"></span><br><span class="line">//ä¸‹è½½é•œåƒ(é€‚åˆæˆ‘ç³»ç»Ÿçš„é•œåƒ)</span><br><span class="line">weget http://mirrors.sohu.com/mysql/MySQL-5.7/mysql-5.7.18-1.el6.x86_64.rpm-bundle.tar</span><br><span class="line"></span><br><span class="line">//ä¸‹è½½åè§£å‹</span><br><span class="line">tar xvf mysql-5.7.18-1.el6.x86_64.rpm-bundle.tar</span><br><span class="line"></span><br><span class="line">//ä¾æ¬¡å®‰è£…æœåŠ¡</span><br><span class="line">yum localinstall mysql-***-common-***.rpm mysql-***-libs-***.rpm mysql-***-client-***.rmp mysql-***-server-***.rpm</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹mysqlç‰ˆæœ¬</span><br><span class="line">mysql -V</span><br><span class="line"></span><br><span class="line">//å¯åŠ¨mysql</span><br><span class="line">service mysqld start</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹rootç”¨æˆ·åˆå§‹å¯†ç </span><br><span class="line">grep <span class="string">&#x27;temporary password&#x27;</span> /var/<span class="built_in">log</span>/mysqld.log  (æˆ–/root/.mysql_secret)</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨å¯†ç ç™»å½•ä¹‹åï¼Œç”¨ä¸‹é¢å‘½ä»¤ä¿®æ”¹å¯†ç </span><br><span class="line">ALTER USER â€˜root<span class="string">&#x27;@&#x27;</span>localhost<span class="string">&#x27; IDENTIFIED BY &#x27;</span>ä½ çš„å¯†ç <span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//å°†MysqlåŠ åˆ°æœåŠ¡è‡ªå¯åŠ¨</span></span><br><span class="line"><span class="string">chkconfig mysqld on</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
        <tag>CentOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerå¸¸ç”¨æ–¹æ³•</title>
    <url>/2018/03/18/Docker/</url>
    <content><![CDATA[<h1 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æºä¸­æœ‰ï¼Œç›´æ¥yumå®‰è£…</span><br><span class="line">yum install docker-io -y</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹dockerç‰ˆæœ¬</span><br><span class="line">docker -v</span><br><span class="line"></span><br><span class="line">//å¯åŠ¨</span><br><span class="line">service docker start</span><br><span class="line"></span><br><span class="line">//è®¾ç½®å¼€æœºè‡ªå¯</span><br><span class="line">chkconfig docker on</span><br></pre></td></tr></table></figure>

<h1 id="é…ç½®Docker"><a href="#é…ç½®Docker" class="headerlink" title="é…ç½®Docker"></a>é…ç½®Docker</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//è®¾ç½®è…¾è®¯äº‘é•œåƒæº</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;OPTIONS=&#x27;--registry-mirror=https://mirror.ccs.tencentyun.com&#x27;&quot;</span> &gt;&gt; /etc/sysconfig/docker</span><br><span class="line"></span><br><span class="line">//é‡æ–°åŠ è½½æœåŠ¡ï¼Œé‡å¯</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">service docker restart</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…é•œåƒ"><a href="#å®‰è£…é•œåƒ" class="headerlink" title="å®‰è£…é•œåƒ"></a>å®‰è£…é•œåƒ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æ‹‰å–ä¸€ä¸ªcentosé•œåƒ</span><br><span class="line">docker pull centos</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹dockerä¸­æœ‰çš„é•œåƒ</span><br><span class="line">docker images</span><br></pre></td></tr></table></figure>

<h1 id="è¿è¡Œé•œåƒ"><a href="#è¿è¡Œé•œåƒ" class="headerlink" title="è¿è¡Œé•œåƒ"></a>è¿è¡Œé•œåƒ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//è¿è¡Œdockerå®¹å™¨ä¸­çš„centosï¼Œå¹¶ä½¿ç”¨bash shell</span><br><span class="line">docker run -it centos /bin/bash</span><br><span class="line"></span><br><span class="line">//ç›´æ¥è¿è¡Œé•œåƒ</span><br><span class="line">docker run -it -p port:port centos</span><br><span class="line"></span><br><span class="line">//ç™»å½•åå¯ä»¥æŒ‰è‡ªå·±éœ€è¦åšæ“ä½œ</span><br><span class="line">Â·Â·Â·Â·Â·Â·</span><br><span class="line"></span><br><span class="line">//é€€å‡ºé•œåƒ</span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<h1 id="ä¿å­˜é•œåƒ"><a href="#ä¿å­˜é•œåƒ" class="headerlink" title="ä¿å­˜é•œåƒ"></a>ä¿å­˜é•œåƒ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ï¼Œè·å–å®¹å™¨id</span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line">//ä¿å­˜</span><br><span class="line">docker commit -m=<span class="string">&quot;ä½ çš„å¤‡æ³¨&quot;</span> å®¹å™¨id é•œåƒid</span><br></pre></td></tr></table></figure>

<h1 id="æ‰“åŒ…é•œåƒ"><a href="#æ‰“åŒ…é•œåƒ" class="headerlink" title="æ‰“åŒ…é•œåƒ"></a>æ‰“åŒ…é•œåƒ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker build -t imageName .</span><br><span class="line"></span><br><span class="line">// æŸ¥çœ‹é•œåƒ</span><br><span class="line">docker images | grep imageName</span><br></pre></td></tr></table></figure>

<h1 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images </span><br><span class="line">docker rmi imageid</span><br><span class="line"></span><br><span class="line">// å¦‚æœå·²ç»è¿è¡Œï¼Œå…ˆåˆ é™¤å®¹å™¨id</span><br><span class="line">docker ps -a</span><br><span class="line">docker rm containerid</span><br><span class="line">docker rmi imageid</span><br><span class="line"></span><br><span class="line">// å¦‚æœæœ‰é•œåƒfromè¯¥é•œåƒï¼Œå…ˆåˆ é™¤å­é•œåƒ(æŠ¥image has dependent child images)</span><br><span class="line">// æŸ¥çœ‹æœ‰å“ªäº›ä¾èµ–å­é•œåƒ</span><br><span class="line">docker image inspect --format=<span class="string">&#x27;&#123;&#123;.RepoTags&#125;&#125; &#123;&#123;.Id&#125;&#125; &#123;&#123;.Parent&#125;&#125;&#x27;</span> $(docker image ls -q --filter since=*****)</span><br><span class="line">// åˆ é™¤å­é•œåƒ</span><br><span class="line">docker rmi *** *** ***</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Tips:</p>
<p>å¦‚æœé•œåƒè¢«è¦†ç›–ï¼Œå¯¼è‡´åé¢çš„tagä¸º<code>&lt;none&gt;</code>ï¼Œæ— æ³•å¯¹å…¶è¿›è¡Œæ“ä½œçš„è¯ï¼š</p>
<p>docker tag imgId xxxxx</p>
<p>docker rmi xxxxx</p>
</blockquote>
<h1 id="å¯¼å…¥ã€å¯¼å‡ºé•œåƒ"><a href="#å¯¼å…¥ã€å¯¼å‡ºé•œåƒ" class="headerlink" title="å¯¼å…¥ã€å¯¼å‡ºé•œåƒ"></a>å¯¼å…¥ã€å¯¼å‡ºé•œåƒ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># export &amp; importï¼ˆå®¹å™¨æ“ä½œï¼‰</span></span><br><span class="line">docker <span class="built_in">export</span> -o xxx.tar xxxid(å®¹å™¨id)</span><br><span class="line">cat xxx.tar | docker import - xxxname(é•œåƒåxxx/xxx:1.0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save &amp; loadï¼ˆé•œåƒæ“ä½œï¼‰</span></span><br><span class="line">docker save -o xxx.tar xxxid(å®¹å™¨id)</span><br><span class="line">docker load -I xxx.tar</span><br></pre></td></tr></table></figure>



<h1 id="é•œåƒä»“åº“"><a href="#é•œåƒä»“åº“" class="headerlink" title="é•œåƒä»“åº“"></a>é•œåƒä»“åº“</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç™»å½•è¿œç¨‹ä»“åº“</span></span><br><span class="line">docker login hub.yun.***** -u xxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€å…ˆç™»å½•</span></span><br><span class="line">docker push imageName</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­çš„é•œåƒ</span></span><br><span class="line">docker search imageName</span><br></pre></td></tr></table></figure>



<h1 id="Dockerfileè¯­æ³•"><a href="#Dockerfileè¯­æ³•" class="headerlink" title="Dockerfileè¯­æ³•"></a>Dockerfileè¯­æ³•</h1><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">//æ‹‰å–åŸºç¡€é•œåƒ</span><br><span class="line"><span class="keyword">FROM</span> &lt;IMAGE&gt;</span><br><span class="line"></span><br><span class="line">//è®¾ç½®é•œåƒä½œè€…</span><br><span class="line"><span class="keyword">MAINTAINER</span> &lt;NAME&gt; &lt;EMAIL&gt;</span><br><span class="line"></span><br><span class="line">//ä¸ºåç»­çš„ <span class="keyword">RUN</span><span class="bash"> ã€ CMD ã€ ENTRYPOINT æŒ‡å®šå·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> &lt;PATH&gt;</span></span><br><span class="line"></span><br><span class="line">//åˆ›å»ºé•œåƒæ—¶æ‰§è¡Œ</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> &lt;COMMAND&gt;</span></span><br><span class="line"></span><br><span class="line">//é•œåƒåˆ›å»ºæˆåŠŸåï¼Œåœ¨é•œåƒä¸­æ‰§è¡Œã€‚å¦‚æœæœ‰å¤šæ¡ï¼Œåªæ‰§è¡Œæœ€åä¸€æ¡ã€‚å¯è¢«docker <span class="keyword">run</span><span class="bash">è¦†ç›–</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>]ä½¿ç”¨<span class="built_in">exec</span>æ‰§è¡Œï¼Œæ¨è </span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">command</span> param1 param2ï¼Œåœ¨/bin/shä¸Šæ‰§è¡Œ </span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>] æä¾›ç»™ENTRYPOINTåšé»˜è®¤å‚æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line">//ä¸<span class="keyword">CMD</span><span class="bash">ç±»ä¼¼ã€‚ä¸å¯è¢«docker runè¦†ç›–ï¼Œé™¤éåŠ ä¸Š--entrypoint</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> <span class="built_in">command</span> param1 param2</span></span><br><span class="line"></span><br><span class="line">//å¤åˆ¶ï¼Œsrcå¯ä»¥ä¸ºDockerfileæ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯urlã€‚å¦‚æœæ˜¯urlï¼Œä¼šä¸‹è½½å¹¶å¤åˆ¶åˆ°destï¼›å¯è‡ªåŠ¨è§£å‹</span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> &lt;SRC&gt; &lt;DEST&gt;</span></span><br><span class="line"></span><br><span class="line">//å¤åˆ¶ï¼Œsrcä¸ºDockerfileæ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„</span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> &lt;SRC&gt; &lt;DEST&gt;</span></span><br><span class="line"></span><br><span class="line">//å®¹å™¨æš´éœ²çš„ç«¯å£å·ã€‚å¤šä¸ªä»¥ç©ºæ ¼é—´éš”</span><br><span class="line"><span class="keyword">EXPOSE</span> &lt;PORT&gt;</span><br><span class="line"></span><br><span class="line">//è®¾ç½®ç¯å¢ƒå˜é‡</span><br><span class="line"><span class="keyword">ENV</span> &lt;KEY&gt; &lt;VALUE&gt;</span><br><span class="line"></span><br><span class="line">//æŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ–UIDï¼Œåç»­çš„<span class="keyword">RUN</span><span class="bash">ã€CMDã€ENTRYPOINTä½¿ç”¨è¯¥ç”¨æˆ·</span></span><br><span class="line"><span class="keyword">USER</span> daemon</span><br><span class="line"></span><br><span class="line">//åœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ªæŒ‚è½½ï¼ŒæŒ‚è½½åˆ°å®¹å™¨çš„æŒ‡å®šè·¯å¾„ã€‚ä¸å¦‚docker <span class="keyword">run</span><span class="bash"> -vå¼ºå¤§</span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> &lt;PATH&gt;</span></span><br><span class="line"></span><br><span class="line">//å…¶ä»–é•œåƒ<span class="keyword">FROM</span>è¯¥é•œåƒæ—¶ï¼Œæ‰§è¡Œ</span><br><span class="line"><span class="keyword">ONBUILD</span> [INSTRUCTION]</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¸ªğŸŒ°</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"><span class="keyword">MAINTAINER</span> nobody <span class="string">&quot;xx@163.com&quot;</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir -p /opt/jdk/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir -p /opt/tomcat/</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> jdk1.7.0_79 /opt/jdk/</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> tomcat  /opt/tomcat/</span></span><br><span class="line"><span class="keyword">ENV</span> CATALINA_HOME /opt/tomcat</span><br><span class="line"><span class="keyword">ENV</span> JAVA_HOME /opt/jdk</span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"><span class="keyword">ENV</span> PATH $PATH:$JAVA_HOME/bin</span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;/opt/tomcat/bin/catalina.sh&quot;</span>,<span class="string">&quot;run&quot;</span>]</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerfileä¸Mavenå‚æ•°é—´çš„é‚£ç‚¹äº‹å„¿</title>
    <url>/2018/09/28/Dockerfile%E4%B8%8EMaven%E5%8F%82%E6%95%B0%E9%97%B4%E7%9A%84%E9%82%A3%E7%82%B9%E4%BA%8B%E5%84%BF/</url>
    <content><![CDATA[<h1 id="Mavenè®¾ç½®Dockerfileå‚æ•°"><a href="#Mavenè®¾ç½®Dockerfileå‚æ•°" class="headerlink" title="Mavenè®¾ç½®Dockerfileå‚æ•°"></a>Mavenè®¾ç½®Dockerfileå‚æ•°</h1><p>é¡¹ç›®ä¸­éœ€è¦æ ¹æ®ä¸åŒç¯å¢ƒï¼Œé•œåƒé‡Œtomctä¸­catalina.shé‡ŒæŸä¸ªå‚æ•°å€¼ä¹Ÿè¦ä¸åŒã€‚</p>
<p>é¡¹ç›®ä¸­ç”¨äº†docker-maven-pluginæ’ä»¶ç®¡ç†dockerï¼Œæ‰€ä»¥æƒ³åˆ°é€šè¿‡mavenå‚æ•°è¿›è¡Œè®¾ç½®ã€‚</p>
<h2 id="pomé…ç½®"><a href="#pomé…ç½®" class="headerlink" title="pomé…ç½®"></a>pomé…ç½®</h2><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="meta"># åœ¨docker-maven-pluginæ’ä»¶ä¸­å¢åŠ é…ç½®</span></span><br><span class="line"><span class="params">&lt;plugin&gt;</span></span><br><span class="line">	...</span><br><span class="line">	<span class="params">&lt;configuration&gt;</span></span><br><span class="line">		...</span><br><span class="line">		<span class="params">&lt;buildArgs&gt;</span></span><br><span class="line">			<span class="meta"># æ ‡ç­¾åä¸ºkeyï¼Œæ ‡ç­¾å€¼ä¸ºvalue</span></span><br><span class="line">			<span class="params">&lt;APP_NAME&gt;</span>$&#123;appName&#125;<span class="params">&lt;/APP_NAME&gt;</span></span><br><span class="line">		<span class="params">&lt;/buildArgs&gt;</span></span><br><span class="line">		...</span><br><span class="line">	<span class="params">&lt;/configuration&gt;</span></span><br><span class="line">	...</span><br><span class="line"><span class="params">&lt;/plugin&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># ç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="params">&lt;profiles&gt;</span></span><br><span class="line">	<span class="params">&lt;profile&gt;</span></span><br><span class="line">		<span class="params">&lt;id&gt;</span>ci<span class="params">&lt;/id&gt;</span></span><br><span class="line">		<span class="params">&lt;properties&gt;</span></span><br><span class="line">			<span class="params">&lt;appName&gt;</span>hello-ci<span class="params">&lt;/appName&gt;</span></span><br><span class="line">		<span class="params">&lt;/properties&gt;</span></span><br><span class="line">	<span class="params">&lt;/profile&gt;</span></span><br><span class="line">	...</span><br><span class="line"><span class="params">&lt;/profiles&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="dockerfileé…ç½®"><a href="#dockerfileé…ç½®" class="headerlink" title="dockerfileé…ç½®"></a>dockerfileé…ç½®</h2><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment"># å®šä¹‰å‚æ•°</span></span><br><span class="line"><span class="keyword">ARG</span> APP_NAME</span><br><span class="line"><span class="comment"># å¢åŠ CATALINAçš„ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="keyword">ENV</span> CATALINA_OPTS -DapplicationName=$APP_NAME</span><br></pre></td></tr></table></figure>

<h2 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h2><p>é™¤äº†ç”¨dockeræ’ä»¶ï¼Œè¿˜å¯ä»¥æ˜¯ç”¨execæ’ä»¶ï¼Œè¿è¡Œshellè„šæœ¬æˆ–javaæ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼æ›´è‡ªç”±ä¸€ç‚¹ã€‚</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerfileè®°å½•</title>
    <url>/2018/09/21/Dockerfile%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="dockerfile1"><a href="#dockerfile1" class="headerlink" title="dockerfile1"></a>dockerfile1</h1><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> hub.yun.paic.com.cn/library/tomcat:<span class="number">8.5</span>-jre8</span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> USER_NAME woniu</span><br><span class="line"><span class="keyword">ENV</span> USER_UID <span class="number">789</span></span><br><span class="line"><span class="keyword">ENV</span> ADMIN_NAME admin</span><br><span class="line"><span class="keyword">ENV</span> USER_GROUP_ID <span class="number">5682</span></span><br><span class="line"><span class="keyword">ENV</span> ADMIN_GROUP_ID <span class="number">603</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> groupadd -g <span class="variable">$USER_GROUP_ID</span> <span class="variable">$USER_NAME</span> &amp;&amp; groupadd -g <span class="variable">$ADMIN_GROUP_ID</span> -u <span class="variable">$ADMIN_NAME</span> \</span></span><br><span class="line"><span class="bash">&amp;&amp; useradd -l -r <span class="variable">$USER_NAME</span> -g <span class="variable">$USER_NAME</span> -u <span class="variable">$USER_UID</span> \</span></span><br><span class="line"><span class="bash">&amp;&amp; usermod -a -G <span class="variable">$ADMIN_NAME</span>  <span class="variable">$USER_NAME</span> \</span></span><br><span class="line"><span class="bash">&amp;&amp; mkdir /usr/<span class="built_in">local</span>/tomcat/hello &amp;&amp; chown -R <span class="variable">$USER_NAME</span>:<span class="variable">$USER_NAME</span> /usr/<span class="built_in">local</span>/tomcat</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> catalina.sh /usr/<span class="built_in">local</span>/tomcat/bin/catalina.sh</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> chown <span class="variable">$USER_NAME</span>:<span class="variable">$USER_NAME</span> /usr/<span class="built_in">local</span>/tomcat/bin/catalina.sh</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> chmod 750 /usr/<span class="built_in">local</span>/tomcat/bin/catalina.sh</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">USER</span> $USER_NAME</span><br></pre></td></tr></table></figure>

<h1 id="dockerfile2"><a href="#dockerfile2" class="headerlink" title="dockerfile2"></a>dockerfile2</h1><p>è¯¥dockerfileåŸºäºä¸Šä¸€ä¸ªï¼Œç”±äºä¸Šä¸€ä¸ªdockerfileæœ€ååˆ‡æ¢åˆ°ç”¨æˆ·woniuï¼Œæ²¡æœ‰mkdiræƒé™ï¼Œæ‰€ä»¥éœ€è¦å…ˆåˆ‡æ¢åˆ°rootç”¨æˆ·ã€‚</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> hub.yun.paic.com.cn/library/tomcat:<span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">USER</span> root</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir -p /wls/wls81/agent</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> agent /wls/wls81/agent</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> chown -R <span class="variable">$USER_NAME</span>:<span class="variable">$USER_NAME</span> /wls/wls81</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> catalina.sh /usr/<span class="built_in">local</span>/tomcat/bin/catalina.sh</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> chown <span class="variable">$USER_NAME</span>:<span class="variable">$USER_NAME</span> /usr/<span class="built_in">local</span>/tomcat/bin/catalina.sh</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> chmod 750 /usr/<span class="built_in">local</span>/tomcat/bin/catalina.sh</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">USER</span> $USER_NAME</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>å®¹å™¨å†…æƒé™æ­£å¸¸ï¼Œæ— æƒé™åˆ›å»ºç›®å½•</title>
    <url>/2019/12/30/Docker%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="å®¹å™¨å†…æƒé™æ­£å¸¸ï¼Œæ— æƒé™åˆ›å»ºç›®å½•"><a href="#å®¹å™¨å†…æƒé™æ­£å¸¸ï¼Œæ— æƒé™åˆ›å»ºç›®å½•" class="headerlink" title="å®¹å™¨å†…æƒé™æ­£å¸¸ï¼Œæ— æƒé™åˆ›å»ºç›®å½•"></a>å®¹å™¨å†…æƒé™æ­£å¸¸ï¼Œæ— æƒé™åˆ›å»ºç›®å½•</h1><h3 id="ç›¸å…³ç¯å¢ƒ"><a href="#ç›¸å…³ç¯å¢ƒ" class="headerlink" title="ç›¸å…³ç¯å¢ƒ"></a>ç›¸å…³ç¯å¢ƒ</h3><ol>
<li>Docker 18.09.07</li>
<li>kernel 4.4.185</li>
</ol>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>å®¹å™¨å†…ç”¨æˆ·ä¸ºæŸç‰¹å®šç”¨æˆ·ï¼Œæ¯”å¦‚woniuï¼Œå®¹å™¨å†…åº”ç”¨è¦åœ¨aç›®å½•ä¸‹åˆ›å»ºæ–°ç›®å½•ï¼Œaç›®å½•å±ä¸»ä¸ºwoniuï¼Œæƒé™750ã€‚ä½†æ˜¯åœ¨åˆ›å»ºæ—¶æŠ¥é”™ï¼Œæƒé™ä¸è¶³ã€‚</p>
<h3 id="æ’æŸ¥è¿‡ç¨‹"><a href="#æ’æŸ¥è¿‡ç¨‹" class="headerlink" title="æ’æŸ¥è¿‡ç¨‹"></a>æ’æŸ¥è¿‡ç¨‹</h3><ol>
<li>é¦–å…ˆæ’æŸ¥é•œåƒæ˜¯å¦æ­£å¸¸ã€‚åœ¨å…¶ä»–ä¸»æœºruné•œåƒï¼Œè¿›å…¥å®¹å™¨ï¼Œå¯ä»¥æˆåŠŸåˆ›å»ºç›®å½•ï¼›</li>
<li>å¯¹æ¯”ä¸¤ä¸ªç¯å¢ƒçš„dockerç‰ˆæœ¬ã€é…ç½®ç­‰ï¼Œé€šè¿‡è°ƒæ•´dockeré…ç½®ç­‰ï¼Œè¿˜æ˜¯æ— æ³•è§£å†³é—®é¢˜ï¼Œæ’é™¤dockerå½±å“ï¼›</li>
<li>å¯¹æ¯”ä¸¤ä¸ªç¯å¢ƒç³»ç»Ÿå†…æ ¸ï¼Œå‘ç°å†…æ ¸ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œåˆ†åˆ«ä¸º3.10.0 å’Œ4.4.185ï¼›</li>
</ol>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>å°†å†…æ ¸ç‰ˆæœ¬æœ‰4.4.185é™ä¸º3.10.0ï¼Œè¿è¡Œå®¹å™¨ï¼Œæ­£å¸¸ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><del>åº”è¯¥æ˜¯dockeråœ¨4.4.185ä¸Šæœ‰bugï¼Œæœ‰å¾…ç¡®è®¤ã€‚</del></p>
<p>åæ¥å‘ç°ï¼Œè²Œä¼¼å’Œtomcatç‰ˆæœ¬æœ‰å…³ï¼Œ9.0ç‰ˆæœ¬æ™®éå­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œè·Ÿé•œåƒåˆ†å±‚æœ‰å…³ã€‚</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> centos:<span class="number">7.2</span>.<span class="number">1511</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> apache-tomcat-9.0.30.tar.gz /opt/</span></span><br><span class="line"><span class="comment"># ä¹‹å‰çš„dockerfileï¼Œè§£å‹ä¸æˆæƒé€šè¿‡ä¸¤æ¡RUNæ‰§è¡Œï¼Œåœ¨ä¸åŒå±‚çº§ï¼Œæƒé™æœ‰é—®é¢˜</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">cd</span> /opt \</span></span><br><span class="line"><span class="bash">&amp;&amp; tar xvf apache-tomcat-9.0.30.tar.gz \</span></span><br><span class="line"><span class="bash">RUN groupadd -g 5666 demo &amp;&amp; useradd -l -r demo -g demo -u 666 \</span></span><br><span class="line"><span class="bash">&amp;&amp; chown -R demo:demo /opt/apache-tomcat-9.0.30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¹‹åçš„dockerfileï¼Œè§£å‹ä¸æˆæƒåœ¨ä¸€æ¡RUNï¼ŒåŒä¸€å±‚çº§ï¼Œæ­£å¸¸</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">cd</span> /opt \</span></span><br><span class="line"><span class="bash">&amp;&amp; tar xvf apache-tomcat-9.0.30.tar.gz \</span></span><br><span class="line"><span class="bash">&amp;&amp; groupadd -g 5666 demo &amp;&amp; useradd -l -r demo -g demo -u 666 \</span></span><br><span class="line"><span class="bash">&amp;&amp; chown -R demo:demo /opt/apache-tomcat-9.0.30</span></span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/docker-library/tomcat/issues/35">https://github.com/docker-library/tomcat/issues/35</a></p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>GDD China 2018</title>
    <url>/2018/09/19/GDD2018/</url>
    <content><![CDATA[<h2 id="æ´»åŠ¨é“¾æ¥"><a href="#æ´»åŠ¨é“¾æ¥" class="headerlink" title="æ´»åŠ¨é“¾æ¥"></a>æ´»åŠ¨é“¾æ¥</h2><p><a href="https://www.google.cn/intl/zh-CN/events/developerdays2018/">https://www.google.cn/intl/zh-CN/events/developerdays2018/</a></p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>â€‹    å‚åŠ è¿‡GDD2017ï¼Œè¿™æ¬¡æ„Ÿå—ä¸å¤ªä¸€æ ·ã€‚æ— è®ºè§„æ¨¡ã€äººæ•°è¾ƒå»å¹´ç¿»äº†å‡ å€ã€‚å…‰æ’é˜Ÿå·®ä¸å¤šèŠ±äº†30åˆ†é’Ÿã€‚ä»Šå¹´ä¸»æ¨è¿˜æ˜¯TensorFlowï¼ŒFlutterå®£ä¼ åŠ›åº¦ä¹Ÿæ¯”è¾ƒå¤§ã€‚2Fè®¾äº†ä½“éªŒåŒºï¼Œå› ä¸ºå»å¹´å‚åŠ è¿‡æ‰€ä»¥æ²¡æ€ä¹ˆä½“éªŒã€‚</p>
]]></content>
      <categories>
        <category>æ´»åŠ¨</category>
      </categories>
      <tags>
        <tag>GDD</tag>
      </tags>
  </entry>
  <entry>
    <title>GPUå®‰è£…Dockerç¯å¢ƒ</title>
    <url>/2019/06/27/GPU%E5%AE%89%E8%A3%85Docker%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h1 id="nvidiaé©±åŠ¨ã€cudaã€cudnnã€TensorFlowç‰ˆæœ¬å¯¹åº”å…³ç³»"><a href="#nvidiaé©±åŠ¨ã€cudaã€cudnnã€TensorFlowç‰ˆæœ¬å¯¹åº”å…³ç³»" class="headerlink" title="nvidiaé©±åŠ¨ã€cudaã€cudnnã€TensorFlowç‰ˆæœ¬å¯¹åº”å…³ç³»"></a>nvidiaé©±åŠ¨ã€cudaã€cudnnã€TensorFlowç‰ˆæœ¬å¯¹åº”å…³ç³»</h1><p><strong>cudaã€cudnnã€dockerã€nvidia-dockerç‰ˆæœ¬ä¸€å®šçœ‹æ˜¯å¦å…¼å®¹ã€‚ä¸åŒç‰ˆæœ¬æœ‰å…¼å®¹é—®é¢˜ã€‚</strong></p>
<p>nvidiaé©±åŠ¨ã€cudaå¯¹åº”å…³ç³»</p>
<p><a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html">https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html</a></p>
<p>cudaã€cudnnå¯¹åº”å…³ç³»</p>
<p><a href="https://developer.nvidia.com/rdp/cudnn-archive">https://developer.nvidia.com/rdp/cudnn-archive</a></p>
<p>TensorFlowã€cudaã€cudnnã€pythonå¯¹åº”å…³ç³»</p>
<p><a href="https://tensorflow.google.cn/install/source#linux">https://tensorflow.google.cn/install/source#linux</a></p>
<h2 id="å‡çº§é©±åŠ¨ï¼ˆéå¿…é¡»ï¼‰"><a href="#å‡çº§é©±åŠ¨ï¼ˆéå¿…é¡»ï¼‰" class="headerlink" title="å‡çº§é©±åŠ¨ï¼ˆéå¿…é¡»ï¼‰"></a>å‡çº§é©±åŠ¨ï¼ˆéå¿…é¡»ï¼‰</h2><p>å¦‚æœå·²ç»å®‰è£…ä½ç‰ˆæœ¬çš„é©±åŠ¨ï¼Œéœ€è¦å‡çº§ï¼Œéœ€è¦å°†æ‰€æœ‰ä½¿ç”¨nvidiaçš„ç¨‹åºæš‚åœï¼ˆä¸€èˆ¬åªæœ‰dockerï¼‰ï¼Œå†å¸è½½ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆæš‚åœdocker</span></span><br><span class="line">service docker stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœ‰å“ªäº›nvidiaæ¨¡å—ï¼Œä¾æ¬¡å¸è½½</span></span><br><span class="line">lsmod | grep nvidia</span><br><span class="line">rmmod nvidia-*</span><br><span class="line">rmmod nvidia</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…nvidia-dockeræ—¶ï¼Œå®‰è£…äº†ä¸€äº›ä¸nvidiaç›¸å…³çš„åŒ…ï¼Œä¸€èµ·å¸è½½</span></span><br><span class="line">rpm -qa | grep nvidia</span><br><span class="line">rpm -e --nodeps *-nvidia-*</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åå®‰è£…nvidiaé©±åŠ¨ã€nvidia-docker</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹é©±åŠ¨ç‰ˆæœ¬</span></span><br><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure>



<h1 id="å®‰è£…Python3"><a href="#å®‰è£…Python3" class="headerlink" title="å®‰è£…Python3"></a>å®‰è£…Python3</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir -p /usr/<span class="built_in">local</span>/python3</span><br><span class="line">tar -zxvf Python-3.6.6.tgz</span><br><span class="line"><span class="built_in">cd</span> Python-3.6.6</span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span>/python3</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/python3/bin/python3 /usr/bin/python3</span><br><span class="line">vim ~/.bash_profile</span><br><span class="line"><span class="comment"># åŠ å…¥</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/bin:/usr/<span class="built_in">local</span>/python3/bin</span><br><span class="line"><span class="comment"># éªŒè¯</span></span><br><span class="line">python3 -V</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…pip3"><a href="#å®‰è£…pip3" class="headerlink" title="å®‰è£…pip3"></a>å®‰è£…pip3</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf pip-9.0.1.tgz</span><br><span class="line"><span class="built_in">cd</span> pip-9.0.1</span><br><span class="line">python3 setup.py install</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/bin/pip /usr/bin/pip3</span><br><span class="line">pip3 -V</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…cuda"><a href="#å®‰è£…cuda" class="headerlink" title="å®‰è£…cuda"></a>å®‰è£…cuda</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># rpmå®‰è£…</span></span><br><span class="line">wget http://mirrors.*******/cuda-repo-rhel7-9-0-local-9.0.176-1.x86_64.rpm</span><br><span class="line">rpm -ivh cuda-repo-*.rpm</span><br><span class="line">yum clean expire-cache</span><br><span class="line">yum install -y cuda</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/<span class="built_in">local</span>/cuda/lib64:/usr/<span class="built_in">local</span>/cuda/extras/CUPTI/lib64:<span class="variable">$LD_LIBRARY_PATH</span></span><br><span class="line"><span class="built_in">export</span> CUDA_HOME=/usr/<span class="built_in">local</span>/cuda</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/cuda/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯æ˜¯å¦æˆåŠŸï¼š</span></span><br><span class="line">cat /usr/<span class="built_in">local</span>/cuda/version.txt æˆ– nvcc --version</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…cudnn"><a href="#å®‰è£…cudnn" class="headerlink" title="å®‰è£…cudnn"></a>å®‰è£…cudnn</h1><p>ç›´æ¥å°†cudnnä¸­ç›¸å…³æ–‡ä»¶ï¼Œæ‹·è´åˆ°cudaå¯¹åº”ç›®å½•å³å¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xvf cudnn-8.0-linux-x64-v6.0.tgz</span><br><span class="line"><span class="comment"># è¿›å…¥cuda</span></span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/cuda</span><br><span class="line"><span class="comment"># æ‹·è´cudnnç›¸å…³æ–‡ä»¶</span></span><br><span class="line">cp /xxx/cuda/include/cudnn.h include/</span><br><span class="line">cp /xxx/cuda/lib64/libcudnn* lib64/</span><br><span class="line"></span><br><span class="line">chmod a+r include/cudnn.h</span><br><span class="line">chmod a+r lib64/libcudnn*</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/<span class="built_in">local</span>/cuda/lib64:/usr/<span class="built_in">local</span>/cuda/extras/CUPTI/lib64:<span class="variable">$LD_LIBRARY_PATH</span></span><br><span class="line"><span class="built_in">export</span> CUDA_HOME=/usr/<span class="built_in">local</span>/cuda</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/cuda/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯</span></span><br><span class="line">cat /usr/<span class="built_in">local</span>/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</span><br><span class="line"><span class="comment"># æŸ¥çœ‹soç‰ˆæœ¬å¯¹ä¸å¯¹</span></span><br><span class="line">ldconfig -v | grep cudnn /</span><br></pre></td></tr></table></figure>

<h1 id="å‡çº§dockeråˆ°18"><a href="#å‡çº§dockeråˆ°18" class="headerlink" title="å‡çº§dockeråˆ°18"></a>å‡çº§dockeråˆ°18</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¸è½½åŸæ¥docker</span></span><br><span class="line"><span class="comment"># rpmå®‰è£…ï¼Œç›´æ¥remove</span></span><br><span class="line">yum remove docker</span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤</span></span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/bin</span><br><span class="line">rm -rf docker*</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…docker18</span></span><br><span class="line">rpm -ivh containerd.io-1.2.2-3.el7.x86_64.rpm</span><br><span class="line">rpm -ivh container-selinux-2.74-1.el7.noarch.rpm</span><br><span class="line">rpm -ivh docker-ce-cli-18.09.5-3.el7.x86_64.rpm</span><br><span class="line">rpm -ivh docker-ce-18.09.5-3.el7.x86_64.rpm</span><br><span class="line"><span class="comment"># é»˜è®¤æ˜¯å®‰è£…åœ¨/usr/binç›®å½•ä¸‹ï¼Œæ ¹æ®ä¸ªäººéœ€è¦çœ‹æ˜¯å¦éœ€è¦æ‹·è´åˆ°/usr/local/bin</span></span><br><span class="line"><span class="built_in">cd</span> /usr/bin</span><br><span class="line">cp docker* /usr/<span class="built_in">local</span>/bin</span><br><span class="line"></span><br><span class="line">systemctl status docker.service</span><br><span class="line">docker --version</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…nvidia-docker"><a href="#å®‰è£…nvidia-docker" class="headerlink" title="å®‰è£…nvidia-docker"></a>å®‰è£…nvidia-docker</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -ivh libnvidia-container1-1.0.2-1.x86_64.rpm</span><br><span class="line">rpm -ivh libnvidia-container-tools-1.0.2-1.x86_64.rpm</span><br><span class="line">rpm -ivh nvidia-container-runtime-hook-1.4.0-2.x86_64.rpm</span><br><span class="line">rpm -ivh nvidia-container-runtime-2.0.0-3.docker18.09.5.x86_64.rpm</span><br><span class="line">rpm -ivh nvidia-docker2-2.0.3-3.docker18.09.5.ce.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">nvidia-docker --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦å¤–ä¿®æ”¹daemon.jsonï¼Œä½¿ç”¨docker runçš„æ—¶å€™é»˜è®¤ä½¿ç”¨nvidia-docker</span></span><br><span class="line">vim /etc/docker/daemon.json</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;default-runtime&quot;</span>: <span class="string">&quot;nvidia&quot;</span>,</span><br><span class="line">    <span class="string">&quot;runtimes&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;nvidia&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;path&quot;</span>: <span class="string">&quot;/usr/bin/nvidia-container-runtime&quot;</span>,</span><br><span class="line">            <span class="string">&quot;runtimeArgs&quot;</span>: []</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…å®Œæˆä¹‹åï¼Œé‡å¯dockerã€nvidia-docker</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°</title>
    <url>/2017/07/14/Git%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="æœ¬åœ°ä»£ç åˆå§‹åŒ–åˆ°è¿œç¨‹ä»“åº“"><a href="#æœ¬åœ°ä»£ç åˆå§‹åŒ–åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æœ¬åœ°ä»£ç åˆå§‹åŒ–åˆ°è¿œç¨‹ä»“åº“"></a>æœ¬åœ°ä»£ç åˆå§‹åŒ–åˆ°è¿œç¨‹ä»“åº“</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//create a new repository on the <span class="built_in">command</span> line</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git remote add origin https://github.com/wonius/XXXXXX.git</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">//push an existing repository from the <span class="built_in">command</span> line</span><br><span class="line">git remote add origin https://github.com/wonius/MySpringBootDemo.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>



<h2 id="æ›´æ–°ä»£ç æ—¶ï¼Œæœ¬åœ°å†²çªæ— æ³•æ›´æ–°"><a href="#æ›´æ–°ä»£ç æ—¶ï¼Œæœ¬åœ°å†²çªæ— æ³•æ›´æ–°" class="headerlink" title="æ›´æ–°ä»£ç æ—¶ï¼Œæœ¬åœ°å†²çªæ— æ³•æ›´æ–°"></a>æ›´æ–°ä»£ç æ—¶ï¼Œæœ¬åœ°å†²çªæ— æ³•æ›´æ–°</h2><p>é”™è¯¯ä¿¡æ¯ï¼š</p>
<blockquote>
<p>error: Your local changes to the following files would be overwritten by merge:</p>
<p>laravel/app/Services/ExpressService.php</p>
<p>Please commit your changes or stash them before you merge.</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git stash</span><br><span class="line"></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¸Œæœ›æ›´æ–°æ—¶è¦†ç›–æœ¬åœ°æ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>



<h2 id="å›é€€åˆ°æŸä¸ªå†å²ç‰ˆæœ¬"><a href="#å›é€€åˆ°æŸä¸ªå†å²ç‰ˆæœ¬" class="headerlink" title="å›é€€åˆ°æŸä¸ªå†å²ç‰ˆæœ¬"></a>å›é€€åˆ°æŸä¸ªå†å²ç‰ˆæœ¬</h2><ol>
<li><p>é¦–å…ˆæŸ¥çœ‹è¦å›é€€åˆ°å“ªä¸ªå†å²ç‰ˆæœ¬idï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure></li>
<li><p>å›é€€ã€‚æ¯”å¦‚idä¸º784dd834b250d634a7686f28a7c323d5c6402e90</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//è¯¥å›é€€åŠ¨ä½œä¼šå°†æœ¬åœ°æ‰€æœ‰æ”¹åŠ¨å›é€€ï¼Œæ‰€ä»¥ä¸€å®šè¦è®°å¾—stashã€‚</span><br><span class="line">git reset --hard 784dd834b250d634a7686f28a7c323d5c6402e90</span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœæƒ³å°†å›é€€çš„ç‰ˆæœ¬æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå†ç”¨pushã€‚åªå›é€€æœ¬åœ°ä¸ç”¨æ­¤æ“ä½œ:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push -f origin master</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="ä½¿ç”¨git-stashå‘½ä»¤è¿›è¡Œä»£ç æš‚å­˜"><a href="#ä½¿ç”¨git-stashå‘½ä»¤è¿›è¡Œä»£ç æš‚å­˜" class="headerlink" title="ä½¿ç”¨git stashå‘½ä»¤è¿›è¡Œä»£ç æš‚å­˜"></a>ä½¿ç”¨git stashå‘½ä»¤è¿›è¡Œä»£ç æš‚å­˜</h2><p>â€‹    å½“æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°å¼€å‘è¿›è¡Œäº†ä¸€åŠï¼Œéœ€è¦åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªåˆ†æ”¯çš„æƒ…å†µã€‚stashå‘½ä»¤å¯ä»¥å°†ä½ ç°åœ¨æ‰€æœ‰å˜åŠ¨è¿›è¡Œæš‚å­˜ï¼Œåç»­åˆ‡æ¢å›æ¥æ—¶ï¼Œä»æš‚å­˜ä¸­æ¢å¤å°±å¯ä»¥äº†ã€‚stashçœŸçš„æ˜¯å¾ˆå¥½ç”¨çš„å·¥å…·ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æš‚å­˜</span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹æ‰€æœ‰çš„æš‚å­˜ï¼Œæš‚å­˜ä¿¡æ¯ä¸­åŒ…å«åˆ†æ”¯åã€stashç‰ˆæœ¬å·(å½¢å¦‚stash@&#123;0&#125;)</span><br><span class="line">git stash list</span><br><span class="line"></span><br><span class="line">//æ¢å¤</span><br><span class="line">git stash apply  			     //æ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡stashç‰ˆæœ¬</span><br><span class="line">git stash pop					//æ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡stashç‰ˆæœ¬ï¼Œå¹¶å°†æ ˆä¸­stashç‰ˆæœ¬åˆ æ‰</span><br><span class="line">git stash apply stash@&#123;0&#125; 		 //æ¢å¤åˆ°stash@&#123;0&#125;ç‰ˆæœ¬</span><br><span class="line">git stash pop stash@&#123;0&#125;			 //æ¢å¤åˆ°stash@&#123;0&#125;ç‰ˆæœ¬ï¼Œå¹¶å°†æ ˆä¸­stash@&#123;0&#125;ç‰ˆæœ¬åˆ æ‰</span><br><span class="line"></span><br><span class="line">//åˆ é™¤</span><br><span class="line">git stash drop stash@&#123;0&#125;		//å°†æ ˆä¸­stash@&#123;0&#125;ç‰ˆæœ¬åˆ é™¤</span><br><span class="line">git stash clear					//æ¸…æ¥šæ ˆä¸­æ‰€æœ‰stashç‰ˆæœ¬</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ä¿æŒgitæ ˆçš„æ¸…æ´ï¼Œæ¨èå¤§å®¶ä½¿ç”¨git stash popç›¸å…³å‘½ä»¤</p>
<h2 id="åˆ†æ”¯å‘½ä»¤"><a href="#åˆ†æ”¯å‘½ä»¤" class="headerlink" title="åˆ†æ”¯å‘½ä»¤"></a>åˆ†æ”¯å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -a</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch / git br</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch <span class="built_in">test</span></span><br><span class="line"><span class="comment">#æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹</span></span><br><span class="line">git push origin <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºæœ¬åœ°åˆ†æ”¯test1ï¼Œå¹¶è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯ci</span></span><br><span class="line">git checkout -b test1 origin/ci</span><br><span class="line"><span class="comment">#æ¨é€åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">git push origin test1</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line">git checkout <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git br -d <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -r -d origin/<span class="built_in">test</span></span><br><span class="line">git push origin :<span class="built_in">test</span> </span><br></pre></td></tr></table></figure>

<h2 id="fatal-refusing-to-merge-unrelated-histories"><a href="#fatal-refusing-to-merge-unrelated-histories" class="headerlink" title="fatal: refusing to merge unrelated histories"></a>fatal: refusing to merge unrelated histories</h2><p>é€šå¸¸æ˜¯å› ä¸ºæœ¬åœ°ä»“åº“çš„å†å²è®°å½•ï¼Œä¸è¿œç¨‹ä»“åº“çš„å†å²è®°å½•ä¸åŒï¼Œgitè®¤ä¸ºæ˜¯ä¸¤ä¸ªå®Œå…¨æ— å…³çš„é¡¹ç›®ï¼Œæ— æ³•pull</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull origin master ----allow-unrelated-histories</span><br></pre></td></tr></table></figure>

<h2 id="ä»£ç æäº¤åˆ°ä¸åŒä»“åº“"><a href="#ä»£ç æäº¤åˆ°ä¸åŒä»“åº“" class="headerlink" title="ä»£ç æäº¤åˆ°ä¸åŒä»“åº“"></a>ä»£ç æäº¤åˆ°ä¸åŒä»“åº“</h2><ol>
<li>æ‰‹åŠ¨åˆ†åˆ«æ¨é€ï¼ˆå¦‚æœéœ€è¦ä¸¤ä¸ªåº“ä»£ç ä¸åŒï¼‰</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// æ·»åŠ ä»“åº“ï¼Œå¹¶è®¾ç½®åˆ«å</span><br><span class="line">git remote add github https://*****.git</span><br><span class="line">git remote add gitlab https://*****.git</span><br><span class="line"></span><br><span class="line">// åˆ é™¤åˆ«å</span><br><span class="line">git remote remove github</span><br><span class="line"></span><br><span class="line">// æ¨é€</span><br><span class="line">git push github master:master</span><br><span class="line">// å¦‚æœæ˜¯æ–°å»ºçš„ä»“åº“ï¼Œéœ€è¦åŠ -få‚æ•°</span><br><span class="line">git push -f github master:master</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¸€é”®pushæ‰€æœ‰åº“ï¼ˆä¸¤ä¸ªåº“ä»£ç å®Œå…¨ä¸€æ ·ï¼‰</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å°†æ–°ä»“åº“URLç»‘å®šåˆ°originä¸Š</span><br><span class="line">git remote set-url --add origin https://*****.git</span><br><span class="line">//push</span><br><span class="line">git push</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹gitä¸­é…ç½®çš„url</span><br><span class="line">git config -e</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€"><a href="#ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€"></a>ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€</h2><ol>
<li><p>å‘½ä»¤ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote set-url origin http://*****.git</span><br></pre></td></tr></table></figure></li>
<li><p>å…ˆåˆ é™¤å†æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote rm origin</span><br><span class="line">git remote add origin http://*****.git</span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®æ–‡ä»¶ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ***/.git</span><br><span class="line">vim config</span><br><span class="line"><span class="comment"># ç„¶åä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="rebaseæäº¤"><a href="#rebaseæäº¤" class="headerlink" title="rebaseæäº¤"></a>rebaseæäº¤</h2><p>é€šå¸¸æˆ‘ä»¬éƒ½ä¼šæ‹‰å–åˆ†æ”¯ï¼Œæäº¤ä»£ç æ—¶ä»è‡ªå·±åˆ†æ”¯å¾€ä¸»åˆ†æ”¯ä¸Šmergeï¼Œå½“åˆ†æ”¯æ¯”è¾ƒå¤šæ—¶ï¼Œåˆ†æ”¯æ ‘ä¼šæ˜¾å¾—å¾ˆä¹±ã€‚</p>
<p>ä½¿ç”¨rebaseï¼Œå°†è‡ªå·±åˆ†æ”¯æ¯æ¬¡é‡ç½®ä¸ºä¸»åˆ†æ”¯è®°å½•ï¼Œå†æäº¤ï¼Œå…¨ç¨‹åªæœ‰ä¸»åˆ†æ”¯çš„æäº¤å†å²ï¼Œæ¯”è¾ƒæ¸…æ™°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;*****&quot;</span></span><br><span class="line">git rebase master(ä¸»åˆ†æ”¯)</span><br><span class="line">git rebase --<span class="built_in">continue</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹commitå†…å®¹"><a href="#ä¿®æ”¹commitå†…å®¹" class="headerlink" title="ä¿®æ”¹commitå†…å®¹"></a>ä¿®æ”¹commitå†…å®¹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git commit --amend</span><br><span class="line"><span class="comment"># ä¿®æ”¹å†…å®¹</span></span><br><span class="line">git push -f</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p><a href="https://git-scm.com/docs">Gitå¸¸ç”¨å‘½ä»¤</a></p>
]]></content>
      <categories>
        <category>ç‰ˆæœ¬ç®¡ç†</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>è…¾è®¯äº‘+Hexoæ”¯æŒhttpsåè®®</title>
    <url>/2018/08/23/Hexo-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%90%AFhttps/</url>
    <content><![CDATA[<h1 id="ç”³è¯·è¯ä¹¦"><a href="#ç”³è¯·è¯ä¹¦" class="headerlink" title="ç”³è¯·è¯ä¹¦"></a>ç”³è¯·è¯ä¹¦</h1><ol>
<li>ç™»å½•è…¾è®¯äº‘ç®¡ç†å¹³å°ï¼›</li>
<li>æ‰“å¼€äº‘äº§å“â€”åŸŸåä¸ç½‘ç«™â€”SSLè¯ä¹¦ç®¡ç†ï¼Œç‚¹å‡»ç”³è¯·è¯ä¹¦ï¼ˆä¹Ÿå¯ä»¥è‡ªå·±åˆ¶ä½œè¯ä¹¦ã€‚ä¸è¿‡ä½¿ç”¨è…¾è®¯äº‘çš„æœåŠ¡æ›´ç®€å•ä¸€ç‚¹ï¼Œé˜¿é‡Œäº‘ä¹Ÿæœ‰åˆ¶ä½œè¯ä¹¦çš„åŠŸèƒ½ï¼‰ï¼›</li>
<li>å¡«å¥½ä¿¡æ¯ï¼Œä¸‹ä¸€æ­¥ï¼›</li>
<li>åŸŸåèº«ä»½éªŒè¯ï¼Œæ”¯æŒä¸¤ç§æ–¹å¼ï¼Œæˆ‘ç”¨çš„æ˜¯æ‰‹åŠ¨DNSéªŒè¯ï¼Œåœ¨åŸŸåè§£ææ·»åŠ ä¸€æ¡è§£æè®°å½•å°±å¯ä»¥äº†ï¼›</li>
<li>ç­‰å¾…å®¡æ ¸ï¼Œä¸€èˆ¬ä¸€ä¸ªå·¥ä½œæ—¥å°±å®¡æ ¸é€šè¿‡ï¼›</li>
<li>å®¡æ ¸é€šè¿‡åï¼Œä¸‹è½½è¯ä¹¦ï¼›</li>
</ol>
<p><em>.crtï¼šè‡ªç­¾åçš„è¯ä¹¦</em><br><em>.csrï¼šè¯ä¹¦çš„è¯·æ±‚(ç”¨äºå‘è¯ä¹¦é¢å‘æœºæ„ç”³è¯·crtè¯ä¹¦æ—¶ä½¿ç”¨ï¼Œnginxé…ç½®æ—¶ä¸ä¼šç”¨åˆ°)</em><br><em>.keyï¼šSSL Key (åˆ†ä¸ºä¸å¸¦å£ä»¤å’Œå¸¦å£ä»¤ç‰ˆæœ¬)ã€‚</em><br><em>ç­¾åè¯ä¹¦é…ç½®nginxéœ€è¦çš„æ˜¯.crtè¯ä¹¦ï¼Œå’Œä¸å¸¦å£ä»¤çš„SSL Keyçš„.keyæ–‡ä»¶ã€‚</em></p>
<h1 id="é…ç½®nginx"><a href="#é…ç½®nginx" class="headerlink" title="é…ç½®nginx"></a>é…ç½®nginx</h1><ol>
<li><p>å°†ä¸‹è½½å¥½çš„è¯ä¹¦ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ŒæŒ‡å®šç›®å½•ä¿å­˜ï¼›</p>
</li>
<li><p>ç¼–è¾‘nginxè§£æè§„åˆ™ï¼Œæ·»åŠ 443ç«¯å£è§£æï¼ˆç¼–è¾‘å‰è®°å¾—å¤‡ä»½ï¼Œå…»æˆè‰¯å¥½ä¹ æƒ¯ï¼‰ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">443</span>;</span><br><span class="line">        <span class="attribute">server_name</span> _; <span class="comment">#å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå</span></span><br><span class="line">        <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="attribute">ssl_certificate</span> /****/1_wonius.top_bundle.crt; <span class="comment">#è¯ä¹¦è·¯å¾„</span></span><br><span class="line">        <span class="attribute">ssl_certificate_key</span> /****/2_wonius.top.key;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">        <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>; <span class="comment">#æŒ‰ç…§è¿™ä¸ªåè®®é…ç½®</span></span><br><span class="line">        <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;<span class="comment">#æŒ‰ç…§è¿™ä¸ªå¥—ä»¶é…ç½®</span></span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /data/www/hexo; <span class="comment">#ç«™ç‚¹ç›®å½•</span></span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ï¼ˆå¯é€‰ï¼‰å…¨ç«™åŠ å¯†ï¼Œhttpè‡ªåŠ¨è·³è½¬httpsï¼Œä¿®æ”¹80ç«¯å£è§„åˆ™ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  _;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^(.*)</span> https://$host<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>é‡å¯nginx<code>service nginx restart</code>ï¼›</p>
</li>
<li><p>ç„¶åè®¿é—®ï¼Œæ˜¯ä¸æ˜¯å°±æœ‰å°ç»¿é”ğŸ”äº†</p>
</li>
</ol>
<h1 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h1><p>å¼€å¯httpsä¹‹åï¼Œå¦‚æœå†…éƒ¨æœ‰ä¸€äº›ä¾èµ–æœåŠ¡ä¸æ”¯æŒhttpsï¼Œé‚£è¿™äº›æœåŠ¡å°†ä¸å¯ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoå‡çº§è®°å½•</title>
    <url>/2020/10/19/Hexo%E5%8D%87%E7%BA%A7%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    æœ€è¿‘å› ä¸ºæŸäº›åŸå› ï¼Œå‡çº§äº†æœ¬æœºç”µè„‘ä¸ŠNodeï¼Œç„¶åå¼•å‘äº†ä¸€è¿ä¸²çš„è¿é”ååº”ï¼Œå…¶ä¸­å°±åŒ…æ‹¬Hexoã€‚å‰åä¹ŸèŠ±äº†ç‚¹æ—¶é—´ï¼Œmarkä¸‹ã€‚</p>
<h1 id="å…ˆå‡çº§Node"><a href="#å…ˆå‡çº§Node" class="headerlink" title="å…ˆå‡çº§Node"></a>å…ˆå‡çº§Node</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> é¦–å…ˆå®‰è£…nç»„ä»¶</span></span><br><span class="line">npm install -g n</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨nå‡çº§nodeç‰ˆæœ¬ã€‚stableæ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆï¼Œlatestæ˜¯æœ€æ–°ç‰ˆã€‚æ ¹æ®æƒ…å†µä½¿ç”¨</span></span><br><span class="line">sudo n stable</span><br><span class="line">sudo n latest</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ç‰ˆæœ¬éªŒè¯</span></span><br><span class="line">node -v</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‡çº§npmï¼Œxxä¸ºç‰ˆæœ¬å·ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨latestï¼Œæ›´æ–°æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">sudo npm install npm@xx -g</span><br><span class="line"><span class="meta">#</span><span class="bash"> éªŒè¯npmç‰ˆæœ¬</span></span><br><span class="line">node -v æˆ–è€… node version</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¸¸ç”¨çš„ä¸€äº›å‘½ä»¤</span></span><br><span class="line">npm view node versions	// æŸ¥çœ‹nodeæ‰€æœ‰ç‰ˆæœ¬</span><br><span class="line">npm view npm versions		// æŸ¥çœ‹npmæ‰€æœ‰ç‰ˆæœ¬</span><br><span class="line">npm view npm version		// æŸ¥çœ‹npmæœ€æ–°ç‰ˆæœ¬</span><br><span class="line">npm ls æˆ–è€… npm list		 // æŸ¥çœ‹npmæ‰€æœ‰æ’ä»¶ï¼Œlsæ˜¯listçš„ç®€å†™</span><br><span class="line">npm ls -g --dept 0		// æŸ¥çœ‹æœ¬æœºå®‰è£…çš„npmæ’ä»¶</span><br><span class="line">npm ls xx -g					// æŸ¥çœ‹xxç›¸å…³çš„æ’ä»¶ï¼Œæ¯”å¦‚hexo</span><br></pre></td></tr></table></figure>

<h1 id="å†å‡çº§Hexo"><a href="#å†å‡çº§Hexo" class="headerlink" title="å†å‡çº§Hexo"></a>å†å‡çº§Hexo</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…npm-checkã€npm-upgrade</span></span><br><span class="line">npm install -g npm-check</span><br><span class="line">npm install -g npm-upgrade</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ›´æ–°</span></span><br><span class="line">npm-check</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°package.json</span></span><br><span class="line">npm-upgrade</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡çº§ã€‚å¦‚æœå‡çº§æŸä¸ªæ¨¡å—ï¼Œåœ¨updateåé¢åŠ æ¨¡å—åxxï¼Œä¸åŠ çš„è¯å…¨éƒ¨å‡çº§</span></span><br><span class="line">npm update -g</span><br><span class="line"><span class="comment"># ä¿å­˜package.json</span></span><br><span class="line">npm update --save</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯Mac OSï¼Œåœ¨å‡çº§è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°æç¤ºæ²¡æœ‰å®‰è£…xcodeç»„ä»¶çš„æƒ…å†µã€‚</p>
<p>å¯ä»¥è®¿é—®<a href="https://developer.apple.com/download/more/">è‹¹æœå¼€å‘è€…ä¸‹è½½ä¸­å¿ƒ</a>ï¼Œæœç´¢<code>Command Line Tools</code>ï¼Œæ ¹æ®ç³»ç»Ÿç‰ˆæœ¬æ‰¾åˆ°å¯¹åº”çš„å®‰è£…åŒ…ï¼Œä¸‹è½½å®‰è£…å°±å¯ä»¥äº†ã€‚</p>
<h1 id="å†ä¿®æ”¹ä¸»é¢˜"><a href="#å†ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="å†ä¿®æ”¹ä¸»é¢˜"></a>å†ä¿®æ”¹ä¸»é¢˜</h1><p>ä¹‹å‰ä¸€ç›´ç”¨çš„Nextï¼Œæ—¶é—´ä¹…äº†æœ‰ç‚¹å®¡ç¾ç–²åŠ³ï¼Œè€Œä¸”æˆ‘å½“æ—¶çš„ç‰ˆæœ¬ç¦»æœ€æ–°ç‰ˆå·®åˆ«æ¯”è¾ƒå¤§ï¼Œåç»­è‡ªå·±æ”¹è¿‡å¾ˆå¤šä¸œè¥¿ï¼Œå‡çº§ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚æ‰€ä»¥å¹²è„†æ¢äº†ä¸ªä¸»é¢˜ã€‚</p>
<p>å‘ç°OrangesæŒºæ¸…æ–°è„±ä¿—çš„ï¼Œå°±å®ƒäº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥åˆ°hexoç›®å½•ï¼Œå®‰è£…ä¸»é¢˜</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zchengsite/hexo-theme-oranges.git themes/oranges</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åä¿®æ”¹hexoçš„_config.ymlä¸­çš„ä¸»é¢˜</span></span><br><span class="line">theme: oranges</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°ç¼–è¯‘ã€éƒ¨ç½²</span></span><br><span class="line">hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>

<h1 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h1><p>hexoå‡çº§åçœŸä¸æ˜¯ä¸€èˆ¬çš„å¿«å“‡ï¼ŒçœŸé¦™ï¼</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoä¸­çš„Nextä¸»é¢˜å¸¸ç”¨è®¾ç½®</title>
    <url>/2017/07/21/Hexo%E4%B8%AD%E7%9A%84NexT%E4%B8%BB%E9%A2%98%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<h2 id="è®¾ç½®favicon-icoï¼ˆç½‘ç«™logoï¼‰"><a href="#è®¾ç½®favicon-icoï¼ˆç½‘ç«™logoï¼‰" class="headerlink" title="è®¾ç½®favicon.icoï¼ˆç½‘ç«™logoï¼‰"></a>è®¾ç½®favicon.icoï¼ˆç½‘ç«™logoï¼‰</h2><p>&emsp;&emsp;ä½¿ç”¨ä¸»é¢˜ä¸ºnextï¼ŒæŒ‰ç…§ä¸»é¢˜å†…_config.ymlæ‰€è¯´ï¼Œå°†iconæ”¾åˆ°hexo-site/source/ç›®å½•ä¸‹ï¼Œæ²¡æœ‰ç”Ÿæ•ˆã€‚æŸ¥äº†äº›èµ„æ–™ï¼Œç»ˆäºå¥½äº†ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰¾ä¸€å‰¯è‡ªå·±ä¸­æ„çš„å›¾ç‰‡ï¼Œå°½é‡ç®€å•ï¼Œå› ä¸ºä¼šç¼©æˆå¾ˆå°ã€‚åˆ©ç”¨<a href="http://tool.lu/favicon/">åœ¨çº¿å·¥å…·</a>åˆ¶ä½œiconï¼Œä¿å­˜ã€‚æˆ‘çš„å¤§å°æ˜¯32*32ï¼ŒåŠ è½½æ—¶å¤§å¤šæ—¶å€™å¾ˆæµç•…ï¼Œæœ‰æ—¶ä¹Ÿä¼šè½¬å•Šè½¬ï¼›</li>
<li>å°†ä¿å­˜çš„favicon.icoç§»åŠ¨è‡³hexo-site/themes/next/source/imagesç›®å½•ä¸‹ï¼›</li>
<li>ä¿®æ”¹nexté…ç½®æ–‡ä»¶_config.ymlï¼Œå¦‚ä¸‹ï¼š<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">favicon: images/favicon.ico</span><br></pre></td></tr></table></figure></li>
<li>hexo g &amp;&amp; hexo sï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°çœ‹åˆ°æ•ˆæœäº†ã€‚è°ƒè¯•æ»¡æ„åï¼Œhexo då‘å¸ƒï¼›</li>
</ol>
<h2 id="åˆ©ç”¨Leancloudå®ç°é˜…è¯»ç»Ÿè®¡ï¼Œè¯·æ±‚å¼‚å¸¸401"><a href="#åˆ©ç”¨Leancloudå®ç°é˜…è¯»ç»Ÿè®¡ï¼Œè¯·æ±‚å¼‚å¸¸401" class="headerlink" title="åˆ©ç”¨Leancloudå®ç°é˜…è¯»ç»Ÿè®¡ï¼Œè¯·æ±‚å¼‚å¸¸401"></a>åˆ©ç”¨Leancloudå®ç°é˜…è¯»ç»Ÿè®¡ï¼Œè¯·æ±‚å¼‚å¸¸401</h2><p>&emsp;&emsp;å¦‚ä½•é…ç½®leancloudåœ¨æ­¤ä¸åšèµ˜è¿°ï¼Œnextä½œè€…æ–‡æ¡£ä¸­å†™çš„å·²ç»å¾ˆæ¸…æ™°äº†ï¼Œå¯ä»¥å…ˆç§»æ­¥åˆ°<a href="http://theme-next.iissnan.com/getting-started.html#third-party-services">NEXT</a>çœ‹çœ‹ã€‚ç¬”è€…çš„æƒ…å†µæ˜¯ï¼Œåšå®¢åœ¨githubä¸Šï¼Œåœ¨ä¸‡ç½‘ä¹°äº†ä¸ªåŸŸåï¼Œç»‘å®šåˆ°githubã€‚</p>
<p>&emsp;&emsp;é…ç½®å®Œæˆä¹‹åï¼Œå‘ç°é˜…è¯»ç»Ÿè®¡ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œå¼€å§‹ä»¥ä¸ºç¼“å­˜åŸå› ï¼Œè¿‡äº†ä¸¤å¤©ï¼Œè¿˜æ˜¯æ²¡å¥½ï¼Œæ‰“ç®—è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>&emsp;&emsp;åˆ†æè¿‡ç¨‹ï¼š</p>
<ol>
<li>æ¥å£æŠ¥é”™401ï¼šUnauthorizedï¼Œå†æ¬¡æ£€æŸ¥äº†ä¸€ä¸‹AppKeyã€Webå®‰å…¨åŸŸåé…ç½®ï¼Œéƒ½æ­£å¸¸ã€‚æ¯”è¾ƒçº³é—·ï¼Œå¼€å§‹ç ”ç©¶ã€‚</li>
<li>ç”¨chromeçœ‹äº†ä¸‹counterçš„è¯·æ±‚ï¼ŒRequest URLç«Ÿç„¶æ˜¯<a href="https://api.us.leancloud.cn/****">https://api.us.leancloud.cn/****</a>ã€‚çœ‹èµ·æ¥æ¯”è¾ƒè¯¡å¼‚ï¼Œusä¸æ˜¯ç¾å›½å—ã€‚éš¾é“è®¿é—®çš„urlé”™äº†ï¼Ÿ</li>
<li>é‡æ–°ç™»å½•leancloudï¼Œå‘ç°åŸŸåæ˜¯<a href="https://leancloud.cn/">https://leancloud.cn/</a>ï¼Œæ²¡æœ‰usã€‚æ–°å¼€tabé¡µï¼Œè®¿é—®<a href="https://us.leancloud.cn/">https://us.leancloud.cn/</a>ï¼Œä¹Ÿå¯ä»¥æˆåŠŸç™»å½•ã€‚ç™»å½•åä»”ç»†å¯¹æ¯”ï¼Œæ‰å‘ç°åŸæ¥leancloudå³ä¸Šè§’æœ‰ä¸ªé€‰é¡¹ï¼Œå¯ä»¥é€‰æ‹©å›½å†…èŠ‚ç‚¹ã€ç¾å›½èŠ‚ç‚¹ã€‚ä¸¤ä¸ªèŠ‚ç‚¹ä¸­çš„åº”ç”¨æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚æˆ‘çš„nextä¸­é…ç½®çš„æ˜¯å›½å†…èŠ‚ç‚¹ä¸­åº”ç”¨çš„é…ç½®ï¼Œè¯·æ±‚åˆ°ç¾å›½èŠ‚ç‚¹è®¤è¯ï¼Œæ‰€ä»¥è®¤è¯ä¸é€šè¿‡ã€‚æ˜ç™½ä¹‹åï¼Œæˆ‘åœ¨ç¾å›½èŠ‚ç‚¹ä¸­ä¹Ÿåˆ›å»ºäº†åº”ç”¨ï¼ŒæŠŠnextä¸­çš„ç›¸å…³é…ç½®æ›´æ–°ï¼Œéƒ¨ç½²ï¼Œæœç„¶å¯ä»¥æ­£å¸¸æ˜¾ç¤ºã€‚</li>
</ol>
<p>&emsp;&emsp;ä¸ªäººçŒœæµ‹ï¼Œç”±äºgithubæœåŠ¡å™¨åœ¨ç¾å›½ï¼Œæ‰€ä»¥å½“è¯·æ±‚leancloudæ—¶ï¼Œè¯·æ±‚è¢«åˆ†å‘åˆ°äº†ç¾å›½èŠ‚ç‚¹ä¸Šçš„æœåŠ¡å™¨ä¸Šã€‚</p>
<p>è¡¥å……ï¼šåæ¥æ›´æ–°äº†NexTä»£ç ï¼Œåˆå¿…é¡»é…ç½®æˆå›½å†…èŠ‚ç‚¹æ‰å¯ä»¥è®¿é—®ã€‚</p>
<h2 id="å¢åŠ å…³é”®å­—ã€æ‘˜è¦"><a href="#å¢åŠ å…³é”®å­—ã€æ‘˜è¦" class="headerlink" title="å¢åŠ å…³é”®å­—ã€æ‘˜è¦"></a>å¢åŠ å…³é”®å­—ã€æ‘˜è¦</h2><p>&emsp;&emsp;å»ºè®®é€šè¿‡åœ¨æ¨¡æ¿ä¸­å¢åŠ å±æ€§çš„æ–¹å¼ï¼Œæ·»åŠ å…³é”®å­—ã€æ‘˜è¦ã€‚</p>
<ol>
<li>ä¿®æ”¹next/_config.ymlé…ç½®æ–‡ä»¶:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">//å¼€å¯æ‘˜è¦</span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">//é»˜è®¤æ–‡ç« çš„å‰150ä¸ªå­—ç¬¦ä½œä¸ºæ‘˜è¦</span><br><span class="line">length: 150</span><br></pre></td></tr></table></figure></li>
<li>ä¿®æ”¹hexo-site/scaffolds/post.mdæ–‡ä»¶ï¼Œå¢åŠ keywordsã€descriptionã€‚<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">categories: </span><br><span class="line">keywords: </span><br><span class="line">//æ‘˜è¦ï¼Œå¡«å†™åæ˜¾ç¤ºè¯¥å­—æ®µçš„å€¼ã€‚æ²¡æœ‰è¯¥åœ°æ®µï¼Œè‡ªåŠ¨å–æ–‡ç« å‰150ä¸ªå­—ç¬¦ä½œä¸ºæ‘˜è¦</span><br><span class="line">description: </span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="ä¿®æ”¹æ–‡ç« å®½åº¦"><a href="#ä¿®æ”¹æ–‡ç« å®½åº¦" class="headerlink" title="ä¿®æ”¹æ–‡ç« å®½åº¦"></a>ä¿®æ”¹æ–‡ç« å®½åº¦</h2><p>&emsp;&emsp; ä¿®æ”¹/next/source/css/_custom/custom.stylã€‚è¯¥æ–‡ä»¶æä¾›ç»™ç”¨æˆ·é…ç½®è‡ªå®šä¹‰çš„æ ·å¼ï¼Œç”¨æˆ·å°½é‡é¿å…å¯¹æºä»£ç çš„æ”¹åŠ¨ï¼Œä»¥å…ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚<br>é’ˆå¯¹Mistã€Museé£æ ¼ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹é…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// ä¿®æ”¹æˆä½ æœŸæœ›çš„å®½åº¦</span><br><span class="line"><span class="variable">$content</span>-desktop = 1080px</span><br><span class="line"></span><br><span class="line">// å½“è§†çª—è¶…è¿‡ 1600px åçš„å®½åº¦</span><br><span class="line"><span class="variable">$content</span>-desktop-large = 1200px</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯Piscesé£æ ¼ï¼Œåˆ™éœ€è¦</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">header&#123; width: 90%; &#125;</span><br><span class="line">.container .main-inner &#123; width: 90%; &#125;</span><br><span class="line">.content-wrap &#123; width: calc(100% - 260px); &#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ–°å»ºæ–‡ç« æ—¶åŒæ—¶å»ºç«‹åŒåç›®å½•ï¼Œä¿å­˜å›¾ç‰‡"><a href="#æ–°å»ºæ–‡ç« æ—¶åŒæ—¶å»ºç«‹åŒåç›®å½•ï¼Œä¿å­˜å›¾ç‰‡" class="headerlink" title="æ–°å»ºæ–‡ç« æ—¶åŒæ—¶å»ºç«‹åŒåç›®å½•ï¼Œä¿å­˜å›¾ç‰‡"></a>æ–°å»ºæ–‡ç« æ—¶åŒæ—¶å»ºç«‹åŒåç›®å½•ï¼Œä¿å­˜å›¾ç‰‡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//ç¼–è¾‘hexoç›®å½•ä¸‹çš„_config.ymlï¼Œä¿®æ”¹å¦‚ä¸‹é…ç½®</span><br><span class="line">post_asset_folder:<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">//æ–°å»ºæ–‡ä»¶</span><br><span class="line">hexo new <span class="string">&#x27;helloworld&#x27;</span></span><br><span class="line"></span><br><span class="line">//å°†å›¾ç‰‡ç§»åŠ¨åˆ°helloworldç›®å½•ä¸­ï¼Œå¹¶ä¸”åœ¨mdä¸­å¼•ç”¨</span><br><span class="line">&#123;% asset_img 2.JPG è¿™æ˜¯æè¿° %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹æ¨¡æ¿"><a href="#ä¿®æ”¹æ¨¡æ¿" class="headerlink" title="ä¿®æ”¹æ¨¡æ¿"></a>ä¿®æ”¹æ¨¡æ¿</h2><p>é»˜è®¤æ–°å»ºæ–‡æ¡£çš„æ¨¡æ¿æ˜¯hexo/scaffolds/post.mdï¼Œæ‰€ä»¥å¦‚æœä¿®æ”¹æ¨¡æ¿ï¼Œç›´æ¥åœ¨è¯¥æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚</p>
<p>æ¯”å¦‚å¢åŠ é¡µè„šï¼Œç›´æ¥åœ¨post.mdä¸­å¢åŠ ã€‚</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoç›¸å…³é…ç½®</title>
    <url>/2017/12/18/Hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="åˆ›å»ºæ–°æ–‡æ¡£"><a href="#åˆ›å»ºæ–°æ–‡æ¡£" class="headerlink" title="åˆ›å»ºæ–°æ–‡æ¡£"></a>åˆ›å»ºæ–°æ–‡æ¡£</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new filename</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨æœ¬åœ°æœåŠ¡"><a href="#å¯åŠ¨æœ¬åœ°æœåŠ¡" class="headerlink" title="å¯åŠ¨æœ¬åœ°æœåŠ¡"></a>å¯åŠ¨æœ¬åœ°æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œç„¶åè®¿é—®http://localhost:4000/</span></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<h2 id="é‡æ–°ç¼–è¯‘å¹¶ä¸”å‘å¸ƒ"><a href="#é‡æ–°ç¼–è¯‘å¹¶ä¸”å‘å¸ƒ" class="headerlink" title="é‡æ–°ç¼–è¯‘å¹¶ä¸”å‘å¸ƒ"></a>é‡æ–°ç¼–è¯‘å¹¶ä¸”å‘å¸ƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>

<h2 id="æ¸…ç†ç¼“å­˜"><a href="#æ¸…ç†ç¼“å­˜" class="headerlink" title="æ¸…ç†ç¼“å­˜"></a>æ¸…ç†ç¼“å­˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure>

<h2 id="éƒ¨ç½²åˆ°vps"><a href="#éƒ¨ç½²åˆ°vps" class="headerlink" title="éƒ¨ç½²åˆ°vps"></a>éƒ¨ç½²åˆ°vps</h2><p>ä¸€èˆ¬ä½¿ç”¨Hexoæ­å»ºblogï¼Œéƒ½æ˜¯é‡‡ç”¨Hexo+Githubçš„ç»“æ„ï¼Œä½†æ˜¯ç”±äºGithubå±è”½äº†ç™¾åº¦çš„çˆ¬è™«ï¼Œæ‰€ä»¥å»ºå¥½çš„blogç™¾åº¦æœä¸åˆ°ï¼Œæ»¡è¶³ä¸äº†çŸ¥è¯†åˆ†äº«ï¼ˆè£…é€¼ï¼‰çš„éœ€æ±‚ã€‚è§£å†³åŠæ³•æœ‰å¾ˆå¤šï¼Œæœ€ç®€å•çš„å°±æ˜¯ä¹°ä¸€å—vpsï¼Œå°†blogç›´æ¥æ¨é€åˆ°è‡ªå·±çš„vpsä¸Šã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å®‰è£…hexo-deployer-rsync</span><br><span class="line">npm install hexo-deployer-rsync --save</span><br><span class="line"></span><br><span class="line">//ä¿®æ”¹Hexoä¸­çš„_confg.xmlçš„deploy</span><br><span class="line">- <span class="built_in">type</span>: git</span><br><span class="line">  repo:</span><br><span class="line">      github: https://github.com/XXXX/xxxx.github.io.git </span><br><span class="line">      coding: https://git.coding.net/XXXX/xxxx.git</span><br><span class="line">  branch: master</span><br><span class="line">- <span class="built_in">type</span>: rsync</span><br><span class="line">  host: 140.143.251.238</span><br><span class="line">  user: root</span><br><span class="line">  root: /data/www/hexo</span><br><span class="line">  port: 22</span><br><span class="line">  delete: <span class="literal">true</span></span><br><span class="line">  verbose: <span class="literal">true</span></span><br><span class="line">  ignore_errors: <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">//ç”Ÿæˆå¹¶éƒ¨ç½²</span><br><span class="line">hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è®²è§£ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>æè¿°</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td><strong>host</strong></td>
<td>è¿œç¨‹ä¸»æœºçš„åœ°å€</td>
<td></td>
</tr>
<tr>
<td><strong>user</strong></td>
<td>ä½¿ç”¨è€…åç§°</td>
<td></td>
</tr>
<tr>
<td><strong>root</strong></td>
<td>è¿œç¨‹ä¸»æœºçš„æ ¹ç›®å½•</td>
<td></td>
</tr>
<tr>
<td><strong>port</strong></td>
<td>ç«¯å£</td>
<td>22</td>
</tr>
<tr>
<td><strong>delete</strong></td>
<td>åˆ é™¤è¿œç¨‹ä¸»æœºä¸Šçš„æ—§æ–‡ä»¶</td>
<td>true</td>
</tr>
<tr>
<td><strong>verbose</strong></td>
<td>æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯</td>
<td>true</td>
</tr>
<tr>
<td><strong>ignore_errors</strong></td>
<td>å¿½ç•¥é”™è¯¯</td>
<td>true</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>IE8ä¸‹ï¼Œaæ ‡ç­¾è§¦å‘onbeforeunloadäº‹ä»¶</title>
    <url>/2017/08/03/IE8%E4%B8%8B%EF%BC%8Ca%E6%A0%87%E7%AD%BE%E8%A7%A6%E5%8F%91onbeforeunload%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>&emsp;&emsp;ä»Šå¤©å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸ªå¥‡æ€ªç°è±¡ã€‚æˆ‘ä»¬ç³»ç»Ÿé’ˆå¯¹onbeforeunloadäº‹ä»¶åšäº†å¤„ç†ï¼Œå½“è¯¥äº‹ä»¶è§¦å‘æ—¶å¼¹æ¡†æç¤ºï¼Œç”±ç”¨æˆ·ç¡®è®¤é€€å‡ºã€‚å½“ç‚¹å‡»aæ ‡ç­¾æ—¶ï¼ŒIE8ä¸‹è§¦å‘äº†è¯¥äº‹ä»¶ã€‚IE11ä¸Chromeéƒ½æ²¡æœ‰é—®é¢˜ã€‚å¥½å§ï¼Œåˆæ˜¯IEçš„å‘ã€‚</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>&emsp;&emsp;ç½‘ä¸Šæœç´¢ä¸€ç•ªï¼ŒåŸæ¥ç‚¹å‡»aæ ‡ç­¾ä¼šä»¥æ­¤è§¦å‘å¦‚ä¸‹äº‹ä»¶</p>
<p>onclick-&gt;window.onbeforeunload-&gt;href</p>
<p>æ‰€ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨onclickçš„å›è°ƒå‡½æ•°æœ«å°¾ï¼ŒåŠ  <strong>return false;</strong> ï¼Œé˜»æ­¢äº‹ä»¶ä¼ é€’åˆ°onbeforeunloadã€‚</p>
<p>å¦å¤–è¿˜æœ‰ç½‘å‹è¯´ï¼Œ<strong>href=â€œ###â€</strong> ä¹Ÿå¯ä»¥è§£å†³è¯¥é—®é¢˜</p>
<h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>æ ¹æ® MSDN ä¸­æè¿°ï¼ŒIE çš„ onbeforeunload äº‹ä»¶å¯ç”±ä»¥ä¸‹è¿™äº›æ¡ä»¶è§¦å‘ï¼š</p>
<ul>
<li>å…³é—­å½“å‰æµè§ˆå™¨çª—å£ã€‚</li>
<li>å¯¼èˆªåˆ°å¦ä¸€ä¸ªè¿›å…¥ä¸€ä¸ªæ–°çš„åœ°å€æˆ–é€‰æ‹©ä¸€ä¸ªå–œæ¬¢çš„ä½ç½®ã€‚</li>
<li>å•å‡»åé€€ï¼Œå‰è¿›ï¼Œåˆ·æ–°ï¼Œæˆ–ä¸»é¡µæŒ‰é’®ã€‚</li>
<li>ç‚¹å‡»ä¸€ä¸ªé“¾æ¥åˆ°æ–°é¡µé¢ã€‚</li>
<li>è°ƒç”¨ è¶…é“¾æ¥çš„ click æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ document.write æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ document.open æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ document.close æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ window.close æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ window.open æ–¹æ³•ï¼Œçª—å£åç§°è®¾ç½®å€¼ä¸º _selfã€‚</li>
<li>è°ƒç”¨ window.navigate æˆ– NavigateAndFind æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ location.replace æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ location.reload æ–¹æ³•ã€‚</li>
<li>æŒ‡å®šä¸€ä¸ª location.href å±æ€§çš„æ–°å€¼ã€‚</li>
<li>ä½¿ç”¨ submit æŒ‰é”®æäº¤è¡¨å•ï¼Œæˆ–è°ƒç”¨ form.submit æ–¹æ³•ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>Frontend</category>
      </categories>
      <tags>
        <tag>onbeforeunload</tag>
      </tags>
  </entry>
  <entry>
    <title>IE8é‡åˆ°çš„å‘</title>
    <url>/2017/08/23/IE8%E5%9D%91/</url>
    <content><![CDATA[<h2 id="new-Date"><a href="#new-Date" class="headerlink" title="new Date()"></a>new Date()</h2><p>â€‹    å½“new Date()æ—¶ï¼ŒIE8ä¸IE11äº§ç”Ÿçš„ç»“æœä¸åŒã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//IE8ï¼Œdate1æ ¼å¼ä¸ºâ€˜2017å¹´8æœˆ23æ—¥â€™ã€‚å½“å°†è¯¥å‚æ•°ä¼ é€’åˆ°restæ¥å£æ—¶ï¼Œæ— æ³•ç»‘å®šåˆ°dateç±»å‹</span></span><br><span class="line"><span class="comment">//å¦å¤–ï¼Œä½¿ç”¨oracleçš„to_date()æ–¹æ³•æ—¶ï¼Œto_date(&#x27;&#x27;, &#x27;yyyy&quot;å¹´&quot;MM&quot;æœˆ&quot;dd&quot;æ—¥&quot;&#x27;)</span></span><br><span class="line"><span class="keyword">var</span> date1 = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//IE11ï¼Œdate2æ ¼å¼ä¸ºâ€˜2017/8/23â€™</span></span><br><span class="line"><span class="keyword">var</span> date2 =<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ºäº†å…¼å®¹IE8å’ŒIE11ï¼Œéœ€åœ¨å‰ç«¯å¯¹æ—¥æœŸåšå¤„ç†</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> today = date.getFullYear()+<span class="string">&quot;-&quot;</span>+date.getMonth()+<span class="string">&quot;-&quot;</span>+date.getDay();</span><br></pre></td></tr></table></figure>

<h2 id="for-var-i-in-obj"><a href="#for-var-i-in-obj" class="headerlink" title="for(var i in obj)"></a>for(var i in obj)</h2><p>â€‹    IE8æ”¯æŒJSç‰ˆæœ¬è¾ƒä½ï¼ŒArray.prototypeä¸­çš„å‡½æ•°æ— æ³•ä½¿ç”¨ã€‚æ¯”å¦‚forEachã€indexOfç­‰ã€‚ä¸€èˆ¬ä¸ºäº†å…¼å®¹ï¼Œä½¿åœ¨IE8ä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œä¼šé‡å†™Array.prototypeï¼ŒåŠ ä¸Šè¿™äº›å‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">Array</span>.prototype.forEach) &#123;</span><br><span class="line">  <span class="built_in">Array</span>.prototype.forEach = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹    ä½†æ˜¯ï¼Œå¯¹äºå¯¹è±¡åŸå‹çš„æ“ä½œï¼Œæ˜¯å¾ˆå±é™©çš„äº‹æƒ…ï¼Œä¸¥é‡ä¼šå¯¼è‡´å¯¼è‡´åŸå‹é“¾æ–­è£‚ã€‚ä¸è¿‡è¿™æ¬¡è®¨è®ºçš„ä¸æ˜¯è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>â€‹    å½“IE8è§£æfor in æ–¹æ³•æ—¶ï¼Œä¼šå°†forEachç­‰æ·»åŠ åˆ°prototypeä¸Šçš„æ–¹æ³•å½“åšå˜é‡ï¼Œä¸€èµ·å¾ªç¯ã€‚æ‰€ä»¥å¾ªç¯ä½“é‡Œå¦‚æœå¯¹å˜é‡è¿›è¡Œäº†æ“ä½œï¼Œä¼šå¯¼è‡´æŠ¥é”™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> params) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(params[i].length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹    è§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li><p>åœ¨ä½¿ç”¨for..inæ—¶ï¼Œä½¿ç”¨ hasOwnProperty() å¯¹å˜é‡è¿›è¡Œåˆ¤æ–­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> params) &#123;</span><br><span class="line">  <span class="keyword">if</span>(params.hasOwnProperty(params[i]))</span><br><span class="line">    <span class="built_in">console</span>.log(params[i].length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>forå¾ªç¯çš„å¦ä¸€ç§å†™æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; params.length; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(params[i].length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨æ¡†æ¶å°è£…å¥½çš„æ¥å£ï¼Œ_.forEachï¼Œå¦‚æœä¸æƒ³å¼•å…¥æ¡†æ¶ï¼Œå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªforEachå‡½æ•°ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>Frontend</category>
      </categories>
      <tags>
        <tag>IE8</tag>
      </tags>
  </entry>
  <entry>
    <title>JSONç±»åº“å¯¹æ¯”</title>
    <url>/2017/08/19/JSON%E7%B1%BB%E5%BA%93%E5%AF%B9%E6%AF%94/</url>
    <content><![CDATA[<h1 id="json-libï¼ˆæ€§èƒ½å·®ï¼‰"><a href="#json-libï¼ˆæ€§èƒ½å·®ï¼‰" class="headerlink" title="json-libï¼ˆæ€§èƒ½å·®ï¼‰"></a>json-libï¼ˆæ€§èƒ½å·®ï¼‰</h1><p>json-libæœ€å¼€å§‹çš„ä¹Ÿæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„jsonè§£æå·¥å…·ï¼Œjson-lib ä¸å¥½çš„åœ°æ–¹ç¡®å®æ˜¯ä¾èµ–äºå¾ˆå¤šç¬¬ä¸‰æ–¹åŒ…ï¼Œ<br>åŒ…æ‹¬commons-beanutils.jarï¼Œcommons-collections-3.2.jarï¼Œcommons-lang-2.6.jarï¼Œcommons-logging-1.1.1.jarï¼Œezmorph-1.0.6.jarï¼Œ<br>å¯¹äºå¤æ‚ç±»å‹çš„è½¬æ¢ï¼Œjson-libå¯¹äºjsonè½¬æ¢æˆbeanè¿˜æœ‰ç¼ºé™·ï¼Œæ¯”å¦‚ä¸€ä¸ªç±»é‡Œé¢ä¼šå‡ºç°å¦ä¸€ä¸ªç±»çš„listæˆ–è€…mapé›†åˆï¼Œjson-libä»jsonåˆ°beançš„è½¬æ¢å°±ä¼šå‡ºç°é—®é¢˜ã€‚<br>json-libåœ¨åŠŸèƒ½å’Œæ€§èƒ½ä¸Šé¢éƒ½ä¸èƒ½æ»¡è¶³ç°åœ¨äº’è”ç½‘åŒ–çš„éœ€æ±‚ã€‚</p>
<h1 id="Jackson"><a href="#Jackson" class="headerlink" title="Jackson"></a>Jackson</h1><p>ç›¸æ¯”json-libæ¡†æ¶ï¼ŒJacksonæ‰€ä¾èµ–çš„jaråŒ…è¾ƒå°‘ï¼Œç®€å•æ˜“ç”¨å¹¶ä¸”æ€§èƒ½ä¹Ÿè¦ç›¸å¯¹é«˜äº›ã€‚<br>è€Œä¸”Jacksonç¤¾åŒºç›¸å¯¹æ¯”è¾ƒæ´»è·ƒï¼Œæ›´æ–°é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«ã€‚<br>Jacksonå¯¹äºå¤æ‚ç±»å‹çš„jsonè½¬æ¢beanä¼šå‡ºç°é—®é¢˜ï¼Œä¸€äº›é›†åˆMapï¼ŒListçš„è½¬æ¢å‡ºç°é—®é¢˜ã€‚<br>Jacksonå¯¹äºå¤æ‚ç±»å‹çš„beanè½¬æ¢Jsonï¼Œè½¬æ¢çš„jsonæ ¼å¼ä¸æ˜¯æ ‡å‡†çš„Jsonæ ¼å¼</p>
<h1 id="Gson"><a href="#Gson" class="headerlink" title="Gson"></a>Gson</h1><p>Gsonæ˜¯ç›®å‰åŠŸèƒ½æœ€å…¨çš„Jsonè§£æç¥å™¨ï¼ŒGsonå½“åˆæ˜¯ä¸ºå› åº”Googleå…¬å¸å†…éƒ¨éœ€æ±‚è€Œç”±Googleè‡ªè¡Œç ”å‘è€Œæ¥ï¼Œ<br>ä½†è‡ªä»åœ¨2008å¹´äº”æœˆå…¬å¼€å‘å¸ƒç¬¬ä¸€ç‰ˆåå·²è¢«è®¸å¤šå…¬å¸æˆ–ç”¨æˆ·åº”ç”¨ã€‚<br>Gsonçš„åº”ç”¨ä¸»è¦ä¸ºtoJsonä¸fromJsonä¸¤ä¸ªè½¬æ¢å‡½æ•°ï¼Œæ— ä¾èµ–ï¼Œä¸éœ€è¦ä¾‹å¤–é¢å¤–çš„jarï¼Œèƒ½å¤Ÿç›´æ¥è·‘åœ¨JDKä¸Šã€‚<br>è€Œåœ¨ä½¿ç”¨è¿™ç§å¯¹è±¡è½¬æ¢ä¹‹å‰éœ€å…ˆåˆ›å»ºå¥½å¯¹è±¡çš„ç±»å‹ä»¥åŠå…¶æˆå‘˜æ‰èƒ½æˆåŠŸçš„å°†JSONå­—ç¬¦ä¸²æˆåŠŸè½¬æ¢æˆç›¸å¯¹åº”çš„å¯¹è±¡ã€‚<br>ç±»é‡Œé¢åªè¦æœ‰getå’Œsetæ–¹æ³•ï¼ŒGsonå®Œå…¨å¯ä»¥å°†å¤æ‚ç±»å‹çš„jsonåˆ°beanæˆ–beanåˆ°jsonçš„è½¬æ¢ï¼Œæ˜¯JSONè§£æçš„ç¥å™¨ã€‚<br>Gsonåœ¨åŠŸèƒ½ä¸Šé¢æ— å¯æŒ‘å‰”ï¼Œä½†æ˜¯æ€§èƒ½ä¸Šé¢æ¯”FastJsonæœ‰æ‰€å·®è·ã€‚</p>
<h1 id="fastjson"><a href="#fastjson" class="headerlink" title="fastjson"></a>fastjson</h1><p>Fastjsonæ˜¯ä¸€ä¸ªJavaè¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½çš„JSONå¤„ç†å™¨,ç”±é˜¿é‡Œå·´å·´å…¬å¸å¼€å‘ã€‚<br>æ— ä¾èµ–ï¼Œä¸éœ€è¦ä¾‹å¤–é¢å¤–çš„jarï¼Œèƒ½å¤Ÿç›´æ¥è·‘åœ¨JDKä¸Šã€‚<br>FastJsonåœ¨å¤æ‚ç±»å‹çš„Beanè½¬æ¢Jsonä¸Šä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œå¯èƒ½ä¼šå‡ºç°å¼•ç”¨çš„ç±»å‹ï¼Œå¯¼è‡´Jsonè½¬æ¢å‡ºé”™ï¼Œéœ€è¦åˆ¶å®šå¼•ç”¨ã€‚<br>FastJsoné‡‡ç”¨ç‹¬åˆ›çš„ç®—æ³•ï¼Œå°†parseçš„é€Ÿåº¦æå‡åˆ°æè‡´ï¼Œè¶…è¿‡æ‰€æœ‰jsonåº“ã€‚</p>
<p><a href="https://www.zhihu.com/question/44199956">fastjsonè¿™ä¹ˆå¿«è€å¤–ä¸ºå•¥è¿˜æ˜¯çƒ­è¡· jackson?</a></p>
<h1 id="æ¯”è¾ƒ"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ</h1><p>é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„JSONåº“è¦ä»å¤šä¸ªæ–¹é¢è¿›è¡Œè€ƒè™‘ï¼š</p>
<ol>
<li>å­—ç¬¦ä¸²è§£ææˆJSONæ€§èƒ½</li>
<li>å­—ç¬¦ä¸²è§£ææˆJavaBeanæ€§èƒ½</li>
<li>JavaBeanæ„é€ JSONæ€§èƒ½</li>
<li>é›†åˆæ„é€ JSONæ€§èƒ½</li>
<li>æ˜“ç”¨æ€§</li>
</ol>
<h2 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h2><ol>
<li>å­—ç¬¦ä¸²è§£ææˆJavaBeanï¼ˆååºåˆ—åŒ–ï¼‰ï¼šå½“æ•°æ®é‡è¾ƒå°‘æ—¶é¦–é€‰FastJsonï¼Œæ•°æ®é‡è¾ƒå¤§ä½¿ç”¨Jacksonã€‚ä½†æ˜¯Jacksonæ— æ³•å †ä¸€ä¸ªå¯¹è±¡é›†åˆè¿›è¡Œè§£æï¼Œåªèƒ½è½¬æˆä¸€ä¸ªMapé›†åˆï¼Œè¿™ç‚¹Gsonå’ŒFastJsonå¤„ç†çš„æ¯”è¾ƒå¥½ã€‚</li>
<li>å­—ç¬¦ä¸²è§£ææˆJSONï¼šå½“æ•°æ®é‡è¾ƒå°‘æ—¶é¦–é€‰FastJsonï¼Œæ•°æ®é‡è¾ƒå¤§ä½¿ç”¨Jacksonã€‚</li>
<li>JavaBeanæ„é€ JSONï¼ˆåºåˆ—åŒ–ï¼‰ï¼šå½“æ•°æ®é‡è¾ƒå°‘æ—¶é€‰æ‹©Gsonï¼Œæ•°æ®é‡è¾ƒå¤§å¯ä½¿ç”¨Jacksonã€‚</li>
<li>é›†åˆæ„é€ JSONï¼ˆåºåˆ—åŒ–ï¼‰ï¼šé¦–å…ˆJacksonï¼Œå…¶æ¬¡Fastjsonã€‚</li>
</ol>
<h2 id="æ˜“ç”¨æ€§"><a href="#æ˜“ç”¨æ€§" class="headerlink" title="æ˜“ç”¨æ€§"></a>æ˜“ç”¨æ€§</h2><ol>
<li>FastJsonçš„APIè®¾è®¡çš„æœ€ç®€å•ï¼Œæœ€æ–¹ä¾¿ä½¿ç”¨ï¼Œç›´æ¥ä½¿ç”¨JSONçš„ä¸¤ä¸ªé™æ€æ–¹æ³•å³å¯å®Œæˆå››ç§æ“ä½œï¼›</li>
<li>Gsonå’ŒJacksonéƒ½éœ€è¦newä¸€ä¸ªå¯¹è±¡ï¼Œè™½ç„¶è¿™ä¸ªå¯¹è±¡å¯ä»¥å¤ç”¨ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­è¿˜éœ€è¦ç”¨ä¸€ä¸ªå…¨å±€å˜é‡æ¥ä¿å­˜æ”¹å˜é‡ï¼ŒåŒæ—¶APIè®¾è®¡çš„ä¹Ÿä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œå¯¹äºFastJsonæ¥è¯´å¤æ‚çš„APIæ˜¯å› ä¸ºä»–æ”¯æŒæµå¼è§£æï¼Œé€‚åˆå¯¹JSONè¿›è¡Œå¤§é‡ä¸”å¤æ‚çš„æ“ä½œï¼Œä½†æ˜¯å®é™…åº”ç”¨ä¸­å¯¹äºJSONçš„æ“ä½œéƒ½æ˜¯ç®€å•çš„è§£ææˆJavaBeanï¼Œç„¶åJavaBeanåºåˆ—åŒ–æˆJSONå­—ç¬¦ä¸²å³å¯ï¼Œå¤æ‚çš„æ“ä½œå¾ˆå°‘ï¼›</li>
</ol>
<h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h1><p>ç»¼ä¸Š4ç§JsonæŠ€æœ¯çš„æ¯”è¾ƒï¼Œåœ¨é¡¹ç›®é€‰å‹çš„æ—¶å€™ï¼Œå¦‚æœæ€§èƒ½æ²¡æœ‰ä»€ä¹ˆè¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨Jacksonï¼›</p>
<p>å¦‚æœæ€§èƒ½ä¸Šæœ‰è¦æ±‚ï¼Œå¯ä»¥Jacksonï¼ˆæˆ–Gsonï¼‰ä¸FastJsonä¸¤ç§å¹¶è¡Œä½¿ç”¨ï¼Œä½¿ç”¨Jacksonï¼ˆæˆ–Gsonï¼‰å°†beanè½¬æ¢æˆjsonï¼Œä½¿ç”¨FastJsonå°†Jsonè½¬æ¢Beanã€‚</p>
<h1 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h1><p>åœ¨ä½¿ç”¨JSçš„JSON.parse(data)è½¬æ¢æ—¶ï¼š</p>
<ol>
<li>å½“dataä¸º â€˜undefinedâ€™ æ—¶ï¼Œè½¬æ¢å¼‚å¸¸ã€‚ä¸º â€˜nullâ€™ æ—¶ï¼Œè½¬æ¢æ­£å¸¸ï¼›</li>
<li>å¦‚æœdataä¸æ˜¯keyã€valueå½¢å¼çš„å­—ç¬¦ä¸²ï¼Œæ˜¯ â€˜1234â€™ è¿™ç§åªæœ‰ä¸€ä¸ªå€¼çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥è½¬æ¢ï¼Œè½¬æ¢åè¿˜æ˜¯åŸå€¼ï¼›</li>
</ol>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨Javaç¨‹åºç‰‡æ®µ</title>
    <url>/2017/08/02/Java%20%E5%B8%B8%E7%94%A8Java%E7%A8%8B%E5%BA%8F%E7%89%87%E6%AE%B5/</url>
    <content><![CDATA[<h2 id="å­—ç¬¦ä¸²-lt-gt-æ•´å‹"><a href="#å­—ç¬¦ä¸²-lt-gt-æ•´å‹" class="headerlink" title="å­—ç¬¦ä¸² &lt;-&gt; æ•´å‹"></a>å­—ç¬¦ä¸² &lt;-&gt; æ•´å‹</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String a = String.valueOf(<span class="number">2</span>);		<span class="comment">//integer to numeric string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = Integer.parseInt(a);		<span class="comment">//numeric string to an int</span></span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²-gt-æ—¥æœŸ"><a href="#å­—ç¬¦ä¸²-gt-æ—¥æœŸ" class="headerlink" title="å­—ç¬¦ä¸² -&gt; æ—¥æœŸ"></a>å­—ç¬¦ä¸² -&gt; æ—¥æœŸ</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Method 1</span></span><br><span class="line">java.util.Date = java.text.DateFormat.getDateInstance().parse(String date);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Method 2</span></span><br><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(â€œdd.MM.yyyyâ€);</span><br><span class="line">Date date = sdf.parse(myString);</span><br></pre></td></tr></table></figure>

<h2 id="util-Date-gt-sql-Date"><a href="#util-Date-gt-sql-Date" class="headerlink" title="util.Date -&gt; sql.Date"></a>util.Date -&gt; sql.Date</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java.util.Date utilDate = <span class="keyword">new</span> java.util.Date();</span><br><span class="line">java.sql.Date sqlDate = <span class="keyword">new</span> java.sql.Date(utilDate.getTime());</span><br></pre></td></tr></table></figure>

<h2 id="Array-gt-Map"><a href="#Array-gt-Map" class="headerlink" title="Array -&gt; Map"></a>Array -&gt; Map</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[][] countries = &#123;&#123; <span class="string">&quot;United States&quot;</span>, <span class="string">&quot;New York&quot;</span> &#125;, &#123; <span class="string">&quot;United Kingdom&quot;</span>, <span class="string">&quot;London&quot;</span> &#125;,  </span><br><span class="line">        &#123; <span class="string">&quot;Netherland&quot;</span>, <span class="string">&quot;Amsterdam&quot;</span> &#125;, &#123; <span class="string">&quot;Japan&quot;</span>, <span class="string">&quot;Tokyo&quot;</span> &#125;, &#123; <span class="string">&quot;France&quot;</span>, <span class="string">&quot;Paris&quot;</span> &#125;&#125;;</span><br><span class="line">        </span><br><span class="line">Map countryCapitals = ArrayUtils.toMap(countries);</span><br></pre></td></tr></table></figure>

<h2 id="å‘æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹"><a href="#å‘æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹" class="headerlink" title="å‘æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹"></a>å‘æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BufferedWriter out = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	out = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(â€œfileNameâ€, <span class="keyword">true</span>));</span><br><span class="line">	out.write(â€œaStringâ€);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">	<span class="comment">//error processing code</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (out != <span class="keyword">null</span>) &#123;</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¾—åˆ°å½“å‰æ–¹æ³•çš„åå­—"><a href="#å¾—åˆ°å½“å‰æ–¹æ³•çš„åå­—" class="headerlink" title="å¾—åˆ°å½“å‰æ–¹æ³•çš„åå­—"></a>å¾—åˆ°å½“å‰æ–¹æ³•çš„åå­—</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String methodName = Thread.currentThread().getStackTrace()[<span class="number">1</span>].getMethodName();</span><br></pre></td></tr></table></figure>

<h2 id="å‘é€é‚®ä»¶"><a href="#å‘é€é‚®ä»¶" class="headerlink" title="å‘é€é‚®ä»¶"></a>å‘é€é‚®ä»¶</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postMail</span><span class="params">( String recipients[ ], String subject, String message , String from)</span> <span class="keyword">throws</span> MessagingException  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">boolean</span> debug = <span class="keyword">false</span>;  </span><br><span class="line">  </span><br><span class="line">     <span class="comment">//Set the host smtp address  </span></span><br><span class="line">     Properties props = <span class="keyword">new</span> Properties();  </span><br><span class="line">     props.put(<span class="string">&quot;mail.smtp.host&quot;</span>, <span class="string">&quot;smtp.example.com&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// create some properties and get the default Session  </span></span><br><span class="line">    Session session = Session.getDefaultInstance(props, <span class="keyword">null</span>);  </span><br><span class="line">    session.setDebug(debug);  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// create a message  </span></span><br><span class="line">    Message msg = <span class="keyword">new</span> MimeMessage(session);  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// set the from and to address  </span></span><br><span class="line">    InternetAddress addressFrom = <span class="keyword">new</span> InternetAddress(from);  </span><br><span class="line">    msg.setFrom(addressFrom);  </span><br><span class="line">  </span><br><span class="line">    InternetAddress[] addressTo = <span class="keyword">new</span> InternetAddress[recipients.length];  </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; recipients.length; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        addressTo[i] = <span class="keyword">new</span> InternetAddress(recipients[i]);  </span><br><span class="line">    &#125;  </span><br><span class="line">    msg.setRecipients(Message.RecipientType.TO, addressTo);  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Optional : You can also set your custom headers in the Email if you Want  </span></span><br><span class="line">    msg.addHeader(<span class="string">&quot;MyHeaderName&quot;</span>, <span class="string">&quot;myHeaderValue&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Setting the Subject and Content Type  </span></span><br><span class="line">    msg.setSubject(subject);  </span><br><span class="line">    msg.setContent(message, <span class="string">&quot;text/plain&quot;</span>);  </span><br><span class="line">    Transport.send(msg);  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="åˆ—å‡ºæ–‡ä»¶ä¸ç›®å½•"><a href="#åˆ—å‡ºæ–‡ä»¶ä¸ç›®å½•" class="headerlink" title="åˆ—å‡ºæ–‡ä»¶ä¸ç›®å½•"></a>åˆ—å‡ºæ–‡ä»¶ä¸ç›®å½•</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">File dir = <span class="keyword">new</span> File(<span class="string">&quot;directoryName&quot;</span>);  </span><br><span class="line">  String[] children = dir.list();  </span><br><span class="line">  <span class="keyword">if</span> (children == <span class="keyword">null</span>) &#123;  </span><br><span class="line">      <span class="comment">// Either dir does not exist or is not a directory  </span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; children.length; i++) &#123;  </span><br><span class="line">          <span class="comment">// Get filename of file or directory  </span></span><br><span class="line">          String filename = children[i];  </span><br><span class="line">      &#125;  </span><br><span class="line">  &#125;  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// It is also possible to filter the list of returned files.  </span></span><br><span class="line">  <span class="comment">// This example does not return any files that start with `.&#x27;.  </span></span><br><span class="line">  FilenameFilter filter = <span class="keyword">new</span> FilenameFilter() &#123;  </span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;  </span><br><span class="line">          <span class="keyword">return</span> !name.startsWith(<span class="string">&quot;.&quot;</span>);  </span><br><span class="line">      &#125;  </span><br><span class="line">  &#125;;  </span><br><span class="line">  children = dir.list(filter);  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// The list of files can also be retrieved as File objects  </span></span><br><span class="line">  File[] files = dir.listFiles();  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// This filter only returns directories  </span></span><br><span class="line">  FileFilter fileFilter = <span class="keyword">new</span> FileFilter() &#123;  </span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File file)</span> </span>&#123;  </span><br><span class="line">          <span class="keyword">return</span> file.isDirectory();  </span><br><span class="line">      &#125;  </span><br><span class="line">  &#125;;  </span><br><span class="line">  files = dir.listFiles(fileFilter); </span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºå›¾ç‰‡ç¼©ç•¥å›¾"><a href="#åˆ›å»ºå›¾ç‰‡ç¼©ç•¥å›¾" class="headerlink" title="åˆ›å»ºå›¾ç‰‡ç¼©ç•¥å›¾"></a>åˆ›å»ºå›¾ç‰‡ç¼©ç•¥å›¾</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">createThumbnail</span><span class="params">(String filename, <span class="keyword">int</span> thumbWidth, <span class="keyword">int</span> thumbHeight, <span class="keyword">int</span> quality, String outFilename)</span>  </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> InterruptedException, FileNotFoundException, IOException  </span></span><br><span class="line"><span class="function">    </span>&#123;  </span><br><span class="line">        <span class="comment">// load image from filename  </span></span><br><span class="line">        Image image = Toolkit.getDefaultToolkit().getImage(filename);  </span><br><span class="line">        MediaTracker mediaTracker = <span class="keyword">new</span> MediaTracker(<span class="keyword">new</span> Container());  </span><br><span class="line">        mediaTracker.addImage(image, <span class="number">0</span>);  </span><br><span class="line">        mediaTracker.waitForID(<span class="number">0</span>);  </span><br><span class="line">        <span class="comment">// use this to test for errors at this point: System.out.println(mediaTracker.isErrorAny());  </span></span><br><span class="line">  </span><br><span class="line">        <span class="comment">// determine thumbnail size from WIDTH and HEIGHT  </span></span><br><span class="line">        <span class="keyword">double</span> thumbRatio = (<span class="keyword">double</span>)thumbWidth / (<span class="keyword">double</span>)thumbHeight;  </span><br><span class="line">        <span class="keyword">int</span> imageWidth = image.getWidth(<span class="keyword">null</span>);  </span><br><span class="line">        <span class="keyword">int</span> imageHeight = image.getHeight(<span class="keyword">null</span>);  </span><br><span class="line">        <span class="keyword">double</span> imageRatio = (<span class="keyword">double</span>)imageWidth / (<span class="keyword">double</span>)imageHeight;  </span><br><span class="line">        <span class="keyword">if</span> (thumbRatio &lt; imageRatio) &#123;  </span><br><span class="line">            thumbHeight = (<span class="keyword">int</span>)(thumbWidth / imageRatio);  </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">            thumbWidth = (<span class="keyword">int</span>)(thumbHeight * imageRatio);  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// draw original image to thumbnail image object and  </span></span><br><span class="line">        <span class="comment">// scale it to the new size on-the-fly  </span></span><br><span class="line">        BufferedImage thumbImage = <span class="keyword">new</span> BufferedImage(thumbWidth, thumbHeight, BufferedImage.TYPE_INT_RGB);  </span><br><span class="line">        Graphics2D graphics2D = thumbImage.createGraphics();  </span><br><span class="line">        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);  </span><br><span class="line">        graphics2D.drawImage(image, <span class="number">0</span>, <span class="number">0</span>, thumbWidth, thumbHeight, <span class="keyword">null</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// save thumbnail image to outFilename  </span></span><br><span class="line">        BufferedOutputStream out = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(outFilename));  </span><br><span class="line">        JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);  </span><br><span class="line">        JPEGEncodeParam param = encoder.getDefaultJPEGEncodeParam(thumbImage);  </span><br><span class="line">        quality = Math.max(<span class="number">0</span>, Math.min(quality, <span class="number">100</span>));  </span><br><span class="line">        param.setQuality((<span class="keyword">float</span>)quality / <span class="number">100.0f</span>, <span class="keyword">false</span>);  </span><br><span class="line">        encoder.setJPEGEncodeParam(param);  </span><br><span class="line">        encoder.encode(thumbImage);  </span><br><span class="line">        out.close();  </span><br><span class="line">    &#125; </span><br></pre></td></tr></table></figure>

<h2 id="æŒ‰ç…§è§„åˆ™å–ç›®å½•ä¸‹çš„æ–‡ä»¶åæ•°ç»„"><a href="#æŒ‰ç…§è§„åˆ™å–ç›®å½•ä¸‹çš„æ–‡ä»¶åæ•°ç»„" class="headerlink" title="æŒ‰ç…§è§„åˆ™å–ç›®å½•ä¸‹çš„æ–‡ä»¶åæ•°ç»„"></a>æŒ‰ç…§è§„åˆ™å–ç›®å½•ä¸‹çš„æ–‡ä»¶åæ•°ç»„</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">File rootFile = <span class="keyword">new</span> File(<span class="string">&quot;/XX/XX&quot;</span>);</span><br><span class="line">String[] dirList = rootFile.list(<span class="keyword">new</span> FilenameFilter() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">    	<span class="comment">//XXXå¼€é€šçš„æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (name.startsWith(<span class="string">&quot;XXX&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>lombokåº”ç”¨</title>
    <url>/2018/08/30/Java-lombok%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<p>lombokçš„æ–¹é¢ä¹‹å¤„å°±ä¸å¤šè¯´äº†ï¼Œè¿™é‡Œåˆ—ä¸€ä¸‹ä½¿ç”¨ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚</p>
<h1 id="Builderç»§æ‰¿"><a href="#Builderç»§æ‰¿" class="headerlink" title="@Builderç»§æ‰¿"></a>@Builderç»§æ‰¿</h1><p>@Builderæ— æ³•ç»§æ‰¿ã€‚æ‰€ä»¥å½“æˆ‘ä»¬åŒæ—¶æœ‰çˆ¶ç±»ã€å­ç±»ï¼Œæ— æ³•éƒ½ä½¿ç”¨@Builderã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šçˆ¶ç±»ä¸ç”¨@Builderï¼Œå­ç±»æ„é€ å‡½æ•°ä¸ŠåŠ @Builder</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String fatherName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Children</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String childName;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Builder</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Children</span><span class="params">(String fatherName, String childName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(fatherName);</span><br><span class="line">        <span class="keyword">this</span>.childName = childName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>çˆ¶ç±»æ— æ³•ä½¿ç”¨builder()ï¼›</li>
<li>å­ç±»çš„æ„é€ å¾—æ˜¯å…¨å‚æ„é€ ï¼›</li>
</ol>
<h1 id="Dataç»§æ‰¿"><a href="#Dataç»§æ‰¿" class="headerlink" title="@Dataç»§æ‰¿"></a>@Dataç»§æ‰¿</h1><p>å­ç±»ç»§æ‰¿æ—¶ï¼Œéœ€åŠ @EqualsAndHashCode(callSuper=true)</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>lombok</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaå¸¸è§æŠ¥é”™</title>
    <url>/2018/03/06/Java%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<h3 id="List-Arrays-asList-åaddæˆ–removeå‡ºç°UnsupportedOperationException"><a href="#List-Arrays-asList-åaddæˆ–removeå‡ºç°UnsupportedOperationException" class="headerlink" title="List(Arrays.asList)åaddæˆ–removeå‡ºç°UnsupportedOperationException"></a>List(Arrays.asList)åaddæˆ–removeå‡ºç°UnsupportedOperationException</h3><p>å½“ä½¿ç”¨Arrays.asList()ï¼Œå°†Arrayè½¬æ¢ä¸ºListåï¼Œå¦‚æœä½¿ç”¨List.add()ã€List.remove()æ–¹æ³•ï¼Œä¼šæŠ¥æ”¹é”™ã€‚</p>
<p>æ ¹æœ¬åŸå› æ˜¯è½¬æ¢ååˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸€ä¸ªArrayListå¯¹è±¡ï¼Œè¯¥å¯¹è±¡é›†æˆäº†AbstractListï¼Œæ²¡æœ‰å®ç°addã€removeæ–¹æ³•ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚</p>
<p>æ”¹æ­£ï¼š</p>
<p>new ArrayList&lt;&gt;(Arrays.asList());</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>JVM</title>
    <url>/2017/07/29/Java%E7%B3%BB%E5%88%97/</url>
    <content><![CDATA[<h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><h3 id="Blog"><a href="#Blog" class="headerlink" title="Blog"></a>Blog</h3><ul>
<li><a href="http://blog.csdn.net/mmc_maodun/article/category/1823903">å…°äº­é£é›¨|æ·±å…¥Javaè™šæ‹Ÿæœº</a></li>
<li><a href="http://blog.csdn.net/chaofanwei/article/details/19418753">æ˜Ÿç©ºçš„ä¸“æ |æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº</a></li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title>Jpaä¸­ä½¿ç”¨@ScheduledæŠ¥no transaction is in progress</title>
    <url>/2020/01/13/Jpa%E4%B8%AD%E4%BD%BF%E7%94%A8-Scheduled%E6%8A%A5no-transaction-is-in-progress/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>ç¯å¢ƒï¼šspringboot+jpa</p>
<p>æŸä¸ªæ¥å£ä½¿ç”¨@Scheduledå®šæ—¶è°ƒåº¦ï¼Œå†…éƒ¨æ–¹æ³•ä¸­ä½¿ç”¨äº†jpaçš„saveandflushæ–¹æ³•ï¼Œæ–¹æ³•æ‰§è¡Œæ—¶æŠ¥å¼‚å¸¸â€™no transaction in progressâ€™ã€‚</p>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><ol>
<li>æŸ¥çœ‹saveandflushå®ç°ï¼Œå‘ç°jpaå†…éƒ¨å®ç°éƒ½æ·»åŠ äº†äº‹åŠ¡@Trainsactionalï¼›</li>
<li>ä¸ç”¨@Scheduledæ³¨è§£æ—¶ï¼Œç›´æ¥è°ƒç”¨æ–¹æ³•æ­£å¸¸ï¼›</li>
</ol>
<p>æ‰€ä»¥åŸºæœ¬ç¡®è®¤é€šè¿‡@Scheduledåˆ›å»ºçš„çº¿ç¨‹ï¼Œæ²¡æœ‰ç»§æ‰¿ä¸Šä¸‹æ–‡ä¸­çš„äº‹åŠ¡ç®¡ç†å™¨ã€‚</p>
<h1 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h1><p>åœ¨@Scheduledæ³¨è§£çš„åœ°æ–¹æ³¨å…¥äº‹åŠ¡ç®¡ç†å™¨ã€‚</p>
<p><a href="https://stackoverflow.com/questions/33248846/spring4-scheduled-transaction-throws-no-transaction-is-in-progress-at-flush-fo">https://stackoverflow.com/questions/33248846/spring4-scheduled-transaction-throws-no-transaction-is-in-progress-at-flush-fo</a></p>
]]></content>
      <categories>
        <category>Backend</category>
      </categories>
      <tags>
        <tag>JPA</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡K8Sä¼ å‚åˆ›å»ºJob</title>
    <url>/2019/07/25/K8S/</url>
    <content><![CDATA[<h1 id="æ‰“åŒ…é•œåƒ"><a href="#æ‰“åŒ…é•œåƒ" class="headerlink" title="æ‰“åŒ…é•œåƒ"></a>æ‰“åŒ…é•œåƒ</h1><p>ç¼–å†™Dockerfile</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ‘çš„é•œåƒæ˜¯pythoné¡¹ç›®ï¼Œéœ€è¦ä¼ å‚è¿›å»ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡PARAMS</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> python main.py -p <span class="variable">$PARAMS</span></span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰“åŒ…é•œåƒ</p>
<h1 id="ç¼–å†™yaml"><a href="#ç¼–å†™yaml" class="headerlink" title="ç¼–å†™yaml"></a>ç¼–å†™yaml</h1><p>æˆ‘è¦è·‘çš„jobæ˜¯ä¸€ä¸ªTensorFlowè®­ç»ƒæœåŠ¡ï¼Œåªæƒ³è·‘åœ¨GPUçš„æœºå­ä¸Šï¼ŒåŒæ—¶é¿å…ä¸ºäº†å…¶ä»–æœåŠ¡è·‘åˆ°GPUä¸Š</p>
<p>æ‰€ä»¥åœ¨GPUæœºå­ä¸Šæ‰“äº†æ ‡ç­¾ã€æ±¡ç‚¹</p>
<p>åœ¨Jobé‡Œéœ€è¦é€‰æ‹©æ ‡ç­¾ã€å®¹å¿</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Job</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">myJob</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">myJob</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">restartPolicy:</span> <span class="string">OnFailure</span></span><br><span class="line">      <span class="comment"># è®¾ç½®å®¹å¿</span></span><br><span class="line">      <span class="attr">tolerations:</span> </span><br><span class="line">        <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">&quot;app&quot;</span></span><br><span class="line">          <span class="attr">operator:</span> <span class="string">&quot;Equal&quot;</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">&quot;GPU&quot;</span></span><br><span class="line">          <span class="attr">effect:</span> <span class="string">&quot;NoSchedule&quot;</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">myJob</span></span><br><span class="line">        <span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä¼ å€¼</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">PARAMS</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="comment"># é•œåƒåœ°å€</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">hub.xxxxx/</span></span><br><span class="line">        <span class="attr">volumeMounts:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nas</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/nas</span></span><br><span class="line">      <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nas</span></span><br><span class="line">        <span class="attr">hostPath:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/nas</span></span><br><span class="line">      <span class="attr">nodeSelector:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">&quot;GPU&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿è¡Œè¯¥yaml</p>
<p><code>kubectl apply -f myJob.yaml</code></p>
]]></content>
      <categories>
        <category>K8S</category>
      </categories>
      <tags>
        <tag>K8S</tag>
      </tags>
  </entry>
  <entry>
    <title>K8Séƒ¨ç½²NacosèŠ‚ç‚¹åˆ—è¡¨ä¸ºç©º</title>
    <url>/2020/11/02/K8S%E9%83%A8%E7%BD%B2nacos%E8%8A%82%E7%82%B9%E5%88%97%E8%A1%A8%E4%B8%BA%E7%A9%BA/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    æœ€æ–°å› ä¸ºé¡¹ç›®éœ€è¦ï¼Œéœ€è¦æ­å»ºä¸€ä¸ªé…ç½®ä¸­å¿ƒï¼Œnacosç›¸å¯¹æ¥è¯´æ•™ç®€å•ï¼Œè€Œä¸”è¿˜èµ é€ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒï¼Œä¹°ä¸€é€ä¸€ï¼Œä¸šç•Œè‰¯å¿ƒå•Šï¼Œå°±å®ƒäº†ã€‚è¿‡ç¨‹å°±ä¸èµ˜è¿°äº†ï¼Œä¸‹è½½<code>nacos-mysql</code>ã€<code>nacos-server</code>é•œåƒï¼Œç¼–å†™å¥½helmæ¨¡æ¿åç›´æ¥éƒ¨ç½²ã€‚</p>
<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><h2 id="å‘ç°"><a href="#å‘ç°" class="headerlink" title="å‘ç°"></a>å‘ç°</h2><p>â€‹    å™¼é‡Œå•ªå•¦ä¸€é¡¿æ“ä½œåï¼Œè¾“å…¥è´¦å·ç™»å½•nacos-consoleï¼Œä½“éªŒäº†ä¸€ä¸‹ï¼Œé…ç½®ä¸­å¿ƒå¢åˆ æ”¹æŸ¥éƒ½æ­£å¸¸ï¼Œä½†æ˜¯é›†ç¾¤ç®¡ç†ä¸­çš„èŠ‚ç‚¹åˆ—è¡¨å´æ˜¯ç©ºçš„ã€‚</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><ol>
<li>ç¬¬ä¸€ååº”æ˜¯æŸ¥çœ‹æœåŠ¡çš„çŠ¶æ€ä¸æ—¥å¿—ï¼Œ<code>kubectl log xx</code>å’Œ<code>kubectl describe po xx</code>çœ‹åˆ°éƒ½æ˜¯æˆåŠŸçš„çŠ¶æ€ã€‚</li>
</ol>
<p>â€‹    2. å…ˆéªŒè¯ä¸‹é…ç½®ä¸­å¿ƒå§ï¼Œä¿®æ”¹ä»£ç ï¼ŒåŠ è½½é…ç½®ä¸­å¿ƒçš„é…ç½®ï¼ŒæˆåŠŸã€‚æ‰€ä»¥éªŒè¯åªæœ‰æ³¨å†Œä¸­å¿ƒæœ‰é—®é¢˜ã€‚</p>
<p>â€‹    3. è¿›å…¥åˆ°nacos-server podï¼ŒæŸ¥çœ‹æ—¥å¿—ã€‚<code>/home/nacos/logs</code>ç›®å½•ä¸‹ä¸»è¦åˆ†2ç±»æ—¥å¿—ï¼Œ<code>config-*.log</code>å’Œ<code>naming-*.log</code>ï¼Œåˆ†åˆ«å¯¹åº”é…ç½®ä¸­å¿ƒçš„æ—¥å¿—å’Œæ³¨å†Œä¸­å¿ƒçš„æ—¥å¿—ã€‚</p>
<ol start="4">
<li><p>å…ˆçœ‹naming-raft.logï¼Œè¿™ä¸ªæ˜¯é€‰ä¸¾æ—¥å¿—ï¼Œå‘ç°æœç„¶æœ‰é—®é¢˜ã€‚</p>
<p><code>WARN [IS LEADER] no leader is available now!</code></p>
</li>
<li><p>nacosåœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œä¼šå°†æ¯ä¸ªèŠ‚ç‚¹çš„åœ°å€å­˜æ”¾åœ¨<code>/home/nacos/config/cluster.conf</code>ï¼ŒæŸ¥çœ‹è¯¥æ–‡ä»¶ï¼Œ3ä¸ªpodçš„å†…éƒ¨åŸŸåä¹Ÿæ˜¯æ­£å¸¸ã€‚è¿›åˆ°podå†…éƒ¨ï¼Œtelnetå…¶ä½™2å°çš„åŸŸåã€ç«¯å£ä¹Ÿæ˜¯é€šçš„ã€‚</p>
</li>
</ol>
<p>åˆ°è¿™åŸºæœ¬éªŒè¯äº†podåˆ›å»ºæ˜¯æˆåŠŸçš„ï¼Œä¸”ç›¸äº’ä¹‹é—´ä¹Ÿå¯ä»¥è®¿é—®ã€‚é—®é¢˜åº”è¯¥å‡ºåœ¨3å°podåœ¨ç«é€‰æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨cluster.confä¸­è®¾ç½®çš„å†…éƒ¨åŸŸåï¼Œè€Œæ˜¯é€šè¿‡å…¶ä»–æ–¹å¼è®¿é—®ï¼Œå¯¼è‡´ç›¸äº’ä¹‹é—´è®¿é—®å¤±è´¥ã€‚è¿™æ—¶å€™ç›®æ ‡è½¬å‘serviceã€‚</p>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ç„¶ååˆ°ç½‘ä¸Šæœäº†ä¸‹ï¼Œæœ‰çš„è¯´å°†serviceè®¾ç½®ä¸º<code>ClusterIP: none</code>ï¼Œæ”¹ä¸ºheadless serviceã€‚å°è¯•äº†ä¸‹ï¼Œæœç„¶å¥½äº†ã€‚</p>
<h1 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h1><p>â€‹    ä¸ºä»€ä¹ˆæ”¹ä¸ºheadless serviceå°±å¥½äº†å‘¢ï¼Ÿ</p>
<p>â€‹    å› ä¸ºé»˜è®¤çš„Serviceçš„typeæ˜¯ClusterIPï¼Œä¼šåœ¨åˆ›å»ºserviceçš„æ—¶å€™ï¼Œä¸ºserviceåˆ›å»ºipï¼Œæ‰€æœ‰è®¿é—®è¯¥serviceçš„è¯·æ±‚ï¼Œéƒ½ä¼šç»è¿‡è¯¥ipç„¶ååšè´Ÿè½½å‡è¡¡ã€‚å¦‚æœè®¾ç½®ä¸ºnoneï¼Œå°±ä¸ä¼šä¸ºè¯¥serviceåˆ†é…ipï¼Œåªèƒ½é€šè¿‡podçš„åŸŸåè®¿é—®æ¯ä¸ªpodã€‚ä¸€èˆ¬podé—´éœ€è¦ç›¸äº’è®¿é—®çš„æœåŠ¡éƒ½é‡‡ç”¨è¿™ç§æ¨¡å¼ï¼Œæ¯”å¦‚zkç­‰ã€‚</p>
<p>â€‹    é€šè¿‡<code>kuectl get svc</code>å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„serviceã€‚ä¹Ÿå¯ä»¥é€šè¿‡<code>kubectl describe svc xxx</code>ï¼ŒæŸ¥çœ‹æ¯ä¸ªserviceçš„è¯¦æƒ…ã€‚</p>
<p>â€‹    </p>
<p>â€‹    </p>
]]></content>
      <categories>
        <category>K8S</category>
      </categories>
      <tags>
        <tag>K8S</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-1143.æœ€é•¿å…¬å…±å­åºåˆ—</title>
    <url>/2020/12/09/LeetCode-1143-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<p>â€‹    åšè¿™é“é¢˜èŠ±äº†ç‚¹æ—¶é—´ï¼Œè®°å½•ä¸‹ã€‚</p>
<p>æ³¨ï¼šå­åºåˆ—å¯ä»¥ä¸è¿ç»­ã€‚å­ä¸²ä¸€å®šæ˜¯è¿ç»­çš„ã€‚</p>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <code>text1</code> å’Œ <code>text2</code>ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ã€‚</p>
<p>ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <em>å­åºåˆ—</em> æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼šå®ƒæ˜¯ç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚<br>ä¾‹å¦‚ï¼Œâ€aceâ€ æ˜¯ â€œabcdeâ€ çš„å­åºåˆ—ï¼Œä½† â€œaecâ€ ä¸æ˜¯ â€œabcdeâ€ çš„å­åºåˆ—ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ã€Œå…¬å…±å­åºåˆ—ã€æ˜¯è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€å…±åŒæ‹¥æœ‰çš„å­åºåˆ—ã€‚</p>
<p>è‹¥è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰å…¬å…±å­åºåˆ—ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight nix"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">text1</span> = <span class="string">&quot;abcde&quot;</span>, <span class="attr">text2</span> = <span class="string">&quot;ace&quot;</span> </span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span>  </span><br><span class="line">è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ <span class="string">&quot;ace&quot;</span>ï¼Œå®ƒçš„é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight nix"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">text1</span> = <span class="string">&quot;abc&quot;</span>, <span class="attr">text2</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ <span class="string">&quot;abc&quot;</span>ï¼Œå®ƒçš„é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight nix"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">text1</span> = <span class="string">&quot;abc&quot;</span>, <span class="attr">text2</span> = <span class="string">&quot;def&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰å…¬å…±å­åºåˆ—ï¼Œè¿”å› <span class="number">0</span>ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="Round-1ï¼ˆå¤±è´¥ï¼‰"><a href="#Round-1ï¼ˆå¤±è´¥ï¼‰" class="headerlink" title="Round 1ï¼ˆå¤±è´¥ï¼‰"></a>Round 1ï¼ˆå¤±è´¥ï¼‰</h2><p>æ€è·¯ï¼š</p>
<p>æ—¢ç„¶è·å–å…¬å…±å­åºåˆ—ï¼Œé‚£ä»¥çŸ­çš„å¥å­ä¸ºåŸºç¡€ï¼Œéå†æ¯ä¸ªå­—ç¬¦ï¼Œåˆ¤æ–­åœ¨é•¿å¥å­ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¿å­˜å½“å‰å­—ç¬¦ã€‚æœ€ç»ˆå¾—åˆ°å…¬å…±å­åºåˆ—ä¸­ã€‚ä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æŸéƒ½ç®—ç»“æŸã€‚</p>
<p>ä¹ä¸€çœ‹è¿™ä¸ªæ€è·¯æ²¡é—®é¢˜ï¼Œå®é™…ä¸ç„¶ã€‚ç¼ºé™·åœ¨ä¸‹æ–¹ä¹Ÿæœ‰è¯´æ˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=1143 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [1143] æœ€é•¿å…¬å…±å­åºåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestCommonSubsequence</span><span class="params">(String text1, String text2)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(text1 == <span class="keyword">null</span> || text2 == <span class="keyword">null</span></span><br><span class="line">            || text1.isEmpty() || text2.isEmpty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * åˆ¤æ–­2ä¸ªå¥å­é•¿çŸ­ï¼Œä»¥çŸ­å¥ä¸ºåŸºå‡†ï¼ŒæŒ¨ä¸ªåˆ¤æ–­æ¯ä¸ªå­—ç¬¦æ˜¯å¦å­˜åœ¨é•¿å¥ä¸­ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸ºç›¸åŒå­—ç¬¦ï¼Œä¿å­˜ã€‚æœ€åå¾—å‡ºæœ€é•¿çš„å­—ç¬¦ç»„åˆï¼›</span></span><br><span class="line"><span class="comment">         * è¿™ä¸ªç®—æ³•æœ‰ä¸ªè‡´å‘½ç¼ºé™·ï¼Œå¦‚æœçŸ­å¥ä¸­é—´æŸä¸ªå­—ç¬¦æ°å¥½ç­‰äºé•¿å¥çš„æœ€å1ä¸ªå­—ç¬¦ï¼Œé‚£å¯¹æ¯”å°±ä¼šæå‰ç»“æŸï¼Œå¾—åˆ°é”™è¯¯ç»“æœ</span></span><br><span class="line"><span class="comment">         * æ¯”å¦‚æœ‰2ä¸ªå­—ç¬¦ä¸²ï¼š</span></span><br><span class="line"><span class="comment">         * mhunuzqrkzsnidwbun</span></span><br><span class="line"><span class="comment">         * szulspmhwpazoxijwbq</span></span><br><span class="line"><span class="comment">         * æŒ‰ç…§è¯¥ç®—æ³•ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯mhzqï¼Œä½†æ˜¯æœ€é•¿çš„æ˜¯mhziwb</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">         String longString = <span class="keyword">null</span>;</span><br><span class="line">         <span class="keyword">char</span>[] array = <span class="keyword">null</span>;</span><br><span class="line">         <span class="keyword">int</span> res = <span class="number">0</span>;    <span class="comment">// ä¿å­˜æœ€ç»ˆç»“æœ</span></span><br><span class="line">         <span class="keyword">int</span> tempResInt =<span class="number">0</span>;  <span class="comment">//ä¸­é—´è¿‡ç¨‹é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">// å°†çŸ­å¥æ‹†åˆ†ä¸ºæ•°ç»„ï¼Œé•¿å¥ä¿å­˜åˆ°longStringï¼Œç”¨äºä¸‹é¢æ¯”å¯¹</span></span><br><span class="line">         <span class="keyword">if</span>(text1.length()&lt;text2.length()) &#123;</span><br><span class="line">             array = text1.toCharArray();</span><br><span class="line">             longString = text2;</span><br><span class="line">         &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">             array = text2.toCharArray();</span><br><span class="line">             longString = text1;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="comment">// æŒ¨ä¸ªéå†çŸ­å¥æ•°ç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;array.length; i++)&#123;</span><br><span class="line">             tempResInt = <span class="number">0</span>;</span><br><span class="line">             StringBuilder tempResString = <span class="keyword">new</span> StringBuilder() ;</span><br><span class="line">             String tempString = longString;</span><br><span class="line">             <span class="comment">// ä»å½“å‰å­—ç¬¦å¼€å§‹</span></span><br><span class="line">             <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j&lt;array.length; j++ ) &#123;</span><br><span class="line">                 <span class="keyword">char</span> cur = array[j];</span><br><span class="line">                 <span class="comment">// åˆ¤æ–­é•¿å¥å‰©ä¸‹çš„å­ä¸²ä¸­æ˜¯å¦å­˜åœ¨å½“å‰å­—ç¬¦ï¼Œæœ‰çš„è¯è®¡æ•°</span></span><br><span class="line">                 <span class="keyword">if</span> (tempString.indexOf(cur) != -<span class="number">1</span>) &#123;</span><br><span class="line">                     tempResInt++;</span><br><span class="line">                     tempResString.append(cur);</span><br><span class="line">                     tempString = tempString.substring(tempString.indexOf(cur)+<span class="number">1</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             System.out.println(<span class="string">&quot;tempResInt: &quot;</span>+ tempResInt + <span class="string">&quot;, tempResString: &quot;</span>+tempResString.toString());</span><br><span class="line">             <span class="comment">// ä¿å­˜æœ€é•¿çš„ç»“æœ</span></span><br><span class="line">             res = Math.max(tempResInt, res);</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.println(<span class="string">&quot;length: &quot;</span>+ res + <span class="string">&quot;, tempResInt: &quot;</span>);</span><br><span class="line">         <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Round-2ï¼ˆé€’å½’ï¼‰"><a href="#Round-2ï¼ˆé€’å½’ï¼‰" class="headerlink" title="Round 2ï¼ˆé€’å½’ï¼‰"></a>Round 2ï¼ˆé€’å½’ï¼‰</h2><p>æ€è·¯ï¼š</p>
<p>åŠ¨æ€è§„åˆ’çš„æ€è·¯è§£é¢˜ã€‚æ¨èçœ‹ä¸‹labuladongçš„ç®—æ³•å°æŠ„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=1143 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [1143] æœ€é•¿å…¬å…±å­åºåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestCommonSubsequence</span><span class="params">(String text1, String text2)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(text1 == <span class="keyword">null</span> || text2 == <span class="keyword">null</span></span><br><span class="line">            || text1.isEmpty() || text2.isEmpty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 2. é€’å½’æ³•</span></span><br><span class="line"><span class="comment">         * å…³é”®æ˜¯æ¢³ç†å‡ºæ¥é€’å½’æ–¹æ³•ï¼Œå“ªäº›çŠ¶æ€è¦åœ¨é€’å½’é‡Œå¤„ç†</span></span><br><span class="line"><span class="comment">         * é€’å½’æ³•è€—æ—¶å¤ªé•¿</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">         <span class="keyword">char</span>[] arr1 = text1.toCharArray();</span><br><span class="line">         <span class="keyword">char</span>[] arr2 = text2.toCharArray();</span><br><span class="line"></span><br><span class="line">         <span class="comment">// ä»å°¾éƒ¨å¾€å‰é€ä¸ªå­—ç¬¦å¯¹æ¯”ã€‚æ•°ç»„ä»0å¼€å§‹ï¼Œæ‰€ä»¥é•¿åº¦å‡1</span></span><br><span class="line">         <span class="keyword">return</span> recursion(arr1, arr2, arr1.length-<span class="number">1</span>, arr2.length-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’æ•°ç»„ï¼ŒçŠ¶æ€å˜åŒ–ä½“ç°åœ¨å‚æ•°ä¸­</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">recursion</span><span class="params">(<span class="keyword">char</span>[] text1, <span class="keyword">char</span>[] text2, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">         <span class="comment">// ä»»æ„å­—ç¬¦æ•°ç»„éå†å®Œï¼Œç»“æŸ</span></span><br><span class="line">         <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span>) &#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="comment">// å¦‚æœå­—ç¬¦ç›¸ç­‰ï¼ŒåŒæ—¶è¿›1ã€‚ç»“æœåŠ 1</span></span><br><span class="line">         <span class="keyword">if</span> (text1[i] == text2[j]) &#123;</span><br><span class="line">             <span class="keyword">return</span> recursion(text1, text2, i-<span class="number">1</span>, j-<span class="number">1</span>)+<span class="number">1</span>;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="comment">// ä¸ç›¸ç­‰ï¼Œä¸€ä¸ªå¥å­å¾€å‰è¿›1ï¼Œå¦å¤–ä¸€ä¸ªä¸å˜ã€‚2ç§æƒ…å†µå–æœ€é•¿</span></span><br><span class="line">             <span class="keyword">return</span> Math.max(recursion(text1, text2, i-<span class="number">1</span>, j), recursion(text1, text2, i, j-<span class="number">1</span>));</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Round-3ï¼ˆæ•°ç»„å­˜å‚¨ç»“æœï¼‰"><a href="#Round-3ï¼ˆæ•°ç»„å­˜å‚¨ç»“æœï¼‰" class="headerlink" title="Round 3ï¼ˆæ•°ç»„å­˜å‚¨ç»“æœï¼‰"></a>Round 3ï¼ˆæ•°ç»„å­˜å‚¨ç»“æœï¼‰</h2><p>æ€è·¯ï¼š</p>
<p>ä¸é€’å½’æ³•ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºï¼Œå°†æ¯ç§æƒ…å†µçš„ç»“æœå­˜æ”¾åˆ°æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=1143 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [1143] æœ€é•¿å…¬å…±å­åºåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestCommonSubsequence</span><span class="params">(String text1, String text2)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(text1 == <span class="keyword">null</span> || text2 == <span class="keyword">null</span></span><br><span class="line">            || text1.isEmpty() || text2.isEmpty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 3. dpæ•°ç»„æ³•</span></span><br><span class="line"><span class="comment">         * å‚ç…§é€’å½’æ³•ï¼Œå°†æ¯ä¸ªæ­¥éª¤çš„ä½¿ç”¨æ•°ç»„å­˜å‚¨èµ·æ¥</span></span><br><span class="line"><span class="comment">         * ç®—æ³•è¿‡ç¨‹ä¸é€’å½’ç›¸åŒ</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span>[] arr1 = text1.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] arr2 = text2.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> length1 = text1.length();</span><br><span class="line">        <span class="keyword">int</span> length2 = text2.length();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºdpæ•°ç»„ï¼Œä¿å­˜ç»“æœã€‚é•¿åº¦å¤šåŠ 1ä½ï¼Œå› ä¸ºå­˜åœ¨dp[0][j]ã€dp[i][0]çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µå€¼éƒ½ä¸º0</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length1+<span class="number">1</span>][length2+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»1å¼€å§‹ï¼Œæ˜¯å› ä¸ºå½“iã€jä»0å¼€å§‹æ—¶ï¼Œi-1ä¼šå°äº0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length1+<span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; length2+<span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr1[i-<span class="number">1</span>] == arr2[j-<span class="number">1</span>]) &#123;</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = Math.max(dp[i][j-<span class="number">1</span>], dp[i-<span class="number">1</span>][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›2ä¸ªæœ€é•¿å­—ç¬¦ä¸²çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> dp[length1][length2];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-300.æœ€é•¿ä¸Šå‡å­åºåˆ—</title>
    <url>/2020/12/14/LeetCode-300-%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight dns"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">10,9,2,5</span>,<span class="number">3,7,101,18</span>]</span><br><span class="line">è¾“å‡º: <span class="number">4</span> </span><br><span class="line">è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯ [<span class="number">2,3,7,101</span>]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ <span class="number">4</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚</li>
<li>ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(<em>n2</em>) ã€‚</li>
</ul>
<p><strong>è¿›é˜¶:</strong> ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(<em>n</em> log <em>n</em>) å—?</p>
<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="Round-1ï¼ˆå¤±è´¥ï¼‰"><a href="#Round-1ï¼ˆå¤±è´¥ï¼‰" class="headerlink" title="Round 1ï¼ˆå¤±è´¥ï¼‰"></a>Round 1ï¼ˆå¤±è´¥ï¼‰</h2><p>æ€è·¯ï¼š</p>
<p>è§£å­åºåˆ—é—®é¢˜è¦ç”¨åŠ¨æ€è§„åˆ’ï¼Œè§£åŠ¨æ€è§„åˆ’å…ˆå†™å‡ºæ¥é€’å½’è§£æ³•ï¼Œç„¶åå†è½¬æ¢æˆdpæ•°ç»„å­˜å‚¨ä¸­é—´å˜é‡ã€‚</p>
<p>é€’å½’å‡½æ•°å¦‚ä¸‹ï¼Œå¯æƒœä¸å¯¹ã€‚dp(nums, i)çš„å€¼ï¼Œå¹¶ä¸ç­‰äºdp(nums, i-1)+1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; nums[i]&gt;nums[i-<span class="number">1</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums[i]&gt;nums[i-<span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> dp(nums, i-<span class="number">1</span>)+<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dp(nums, i-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¸å¯¹åï¼Œç„¶åæ¢äº†ç§æ€è·¯ï¼Œå°è¯•å°†æ•°ç»„è½¬æ¢æˆçŸ©é˜µçš„æ–¹å¼ï¼Œå³æ¨ªè½´ã€çºµè½´çš†ä¸ºè¿™ä¸ªæ•°ç»„ï¼Œç„¶åå¯¹æ¯”å¤§å°ã€‚ä½†æ˜¯è¿™ç§ä¹Ÿä¸å¯¹ï¼Œæ¯”å‡ºæ¥çš„å¤§å°å€¼å½¼æ­¤é—´æ²¡æœ‰ä»»ä½•å…³è”ã€‚</p>
<p>å½’æ ¹ç»“åº•ï¼Œæ˜¯æ²¡æœ‰æ‰¾åˆ°ä¸åŒå…ƒç´ å¯¹åº”å€¼ä¹‹é—´çš„å…³ç³»ï¼Œå³å‡è®¾ï¼šy(x)=f(x)ï¼Œy(x+1)=f(x+1)æ—¶ï¼Œæœ‰y(x+1)=F[y(x)]ï¼Œè¦æ‰¾åˆ°F()è¿™ä¸ªå‡½æ•°åšçš„äº‹æƒ…ã€‚ï¼ˆf()ã€F()éƒ½æ˜¯å‡½æ•°ï¼Œåˆä¸­æ•°å­¦æ²¡å¿˜å§ï¼‰</p>
<h2 id="Round-2"><a href="#Round-2" class="headerlink" title="Round 2"></a>Round 2</h2><p>è§£ï¼šå½“å‰å…ƒç´ å¯¹åº”çš„å€¼ï¼Œç­‰äºå‰é¢æ¯”å½“å‰å…ƒç´ å°å¯¹åº”çš„å€¼ä¸­æœ€å¤§çš„å€¼ï¼ŒåŠ 1</p>
<p>å³ï¼ŒF[y(x)]=Max{y(0),y(1)â€¦y(x-1)}+1ï¼Œæ‰€ä»¥ F[y(x)]=Max{f(0),f(1)â€¦f(x-1)}+1</p>
<p>ä¹Ÿå°±æ˜¯ï¼Œ F[x]=Max{f(0),f(1)â€¦f(x-1)}+1</p>
<p>xæ˜¯ä»»æ„å€¼ï¼Œæ‰€ä»¥f()å’ŒF()ç­‰ä»·ï¼Œå¾—ï¼šf(x)=Max{f(0),f(1)â€¦f(x-1)}+1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=300 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [300] æœ€é•¿ä¸Šå‡å­åºåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * ç”¨dpæ•°ç»„å­˜å‚¨æ¯ä¸ªå…ƒç´ çš„å€¼</span></span><br><span class="line"><span class="comment">         * æœ€ç»ˆå–æœ€å¤§çš„å€¼</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * å…¶ä¸­å…³é”®æ˜¯æ‰¾åˆ°å½“å‰å…ƒç´ å¯¹åº”çš„å€¼ï¼Œä¸å‰ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„å€¼ä¹‹é—´çš„å…³ç³»</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> length = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length+<span class="number">1</span>];</span><br><span class="line">        Arrays.fill(dp, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—æ¯ä¸ªå…ƒç´ å¯¹åº”çš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="comment">// å½“å‰å…ƒç´ çš„å€¼ï¼Œæ˜¯åœ¨å‰é¢æ¯”ä»–å°çš„æœ€å¤§å€¼+1</span></span><br><span class="line">                <span class="keyword">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                    dp[i] = Math.max(dp[i], dp[j]+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å–æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dp.length; i++) &#123;</span><br><span class="line">            res = Math.max(res, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @lc code=end</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</title>
    <url>/2020/12/16/LeetCode-34-%E5%9C%A8%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚</p>
<p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ <code>target</code>ï¼Œè¿”å› <code>[-1, -1]</code>ã€‚</p>
<p><strong>è¿›é˜¶ï¼š</strong></p>
<ul>
<li>ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º <code>O(log n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight inform7"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[5,7,7,8,8,10]</span>, target = 8</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[3,4]</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight inform7"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[5,7,7,8,8,10]</span>, target = 6</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[-1,-1]</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight inform7"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = <span class="comment">[]</span>, target = 0</span><br><span class="line">è¾“å‡ºï¼š<span class="comment">[-1,-1]</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= nums.length &lt;= 105</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>nums</code> æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li>
<li><code>-109 &lt;= target &lt;= 109</code></li>
</ul>
<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="Round-1"><a href="#Round-1" class="headerlink" title="Round 1"></a>Round 1</h2><p>åœ¨æœ€åæŠŠå¸¸è§„äºŒåˆ†æŸ¥æ‰¾å‡½æ•°ä¹Ÿå†™å‡ºæ¥äº†ã€‚</p>
<p>ä¾¿äºå¯¹æ¯”å·¦è¾¹ç•ŒäºŒåˆ†æŸ¥æ‰¾ã€å³è¾¹ç•ŒäºŒåˆ†æŸ¥æ‰¾ä¸å¸¸è§„äºŒåˆ†æŸ¥æ‰¾çš„å·®å¼‚ã€‚</p>
<p>å·¦è¾¹ç•ŒäºŒåˆ†æŸ¥æ‰¾ä¸å¸¸è§„äºŒåˆ†æŸ¥æ‰¾å·®å¼‚ï¼š</p>
<ol>
<li>å½“nums[mid]=targetæ—¶ï¼Œå·¦è¾¹ç•Œç»§ç»­å¾ªç¯ï¼›</li>
<li>å¾ªç¯ç»“æŸæ—¶ï¼Œå·¦è¾¹ç•Œåˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼›</li>
</ol>
<p>å³è¾¹ç•ŒäºŒåˆ†æŸ¥æ‰¾ä¸å¸¸è§„äºŒåˆ†æŸ¥æ‰¾å·®å¼‚ï¼š</p>
<ol>
<li>midè®¡ç®—æ—¶å¤šåŠ 1ï¼Œmid = left+(right-left+1)/2ï¼Œè¿™æ ·ä¸ç®¡numsæ•°ç»„æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ä¸ªï¼Œéƒ½ä¼šå‘ä¸Šå–æ•´ï¼›</li>
<li>å½“nums[mid]=targetæ—¶ï¼Œå³è¾¹ç•Œç»§ç»­å¾ªç¯ï¼›</li>
<li>å¾ªç¯ç»“æŸæ—¶ï¼Œå³è¾¹ç•Œåˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=34 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [34] åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(nums.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> leftRes = leftBoundaryBinarySearch(nums, target);</span><br><span class="line">        <span class="keyword">int</span> rightRes = rightBoundaryBinarySearch(nums, target);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;leftRes, rightRes&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å·¦ä¾§è¾¹ç•Œå…ƒç´ ï¼Œå³æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">leftBoundaryBinarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>, left = <span class="number">0</span>, right = nums.length-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(left&lt;right) &#123;</span><br><span class="line">            mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(target&gt;nums[mid]) &#123;</span><br><span class="line">                left = mid+<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(target&lt;nums[mid]) &#123;</span><br><span class="line">                right = mid-<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(target == nums[mid]) &#123;</span><br><span class="line">                <span class="comment">// å·¦ä¾§æœ‰å¯èƒ½è¿˜æœ‰ç›¸ç­‰å…ƒç´ ï¼Œè®¾ç½®ä¸ºå³é—­ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ£€æµ‹è¶Šç•Œã€æ²¡æ‰¾åˆ°å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(right&lt;<span class="number">0</span> || left&gt;=nums.length || target!=nums[left]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å³ä¾§è¾¹ç•Œå…ƒç´ ï¼Œå³æ‰¾åˆ°æœ€åä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rightBoundaryBinarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=<span class="number">0</span>, left=<span class="number">0</span>, right=nums.length-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(left&lt;right) &#123;</span><br><span class="line">            <span class="comment">// åŠ 1ï¼Œä½¿midåå³ï¼Œé¿å…é™·å…¥æ­»å¾ªç¯ã€‚å¦‚ä¸‹æ ‡4ã€5çš„å€¼ç›¸åŒæ—¶ï¼Œmidä¸€ç›´ä¸º4</span></span><br><span class="line">            mid = left+(right-left+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(target&gt;nums[mid])&#123;</span><br><span class="line">                left = mid+<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(target&lt;nums[mid])&#123;</span><br><span class="line">                right = mid-<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(target==nums[mid])&#123;</span><br><span class="line">                <span class="comment">// å³ä¾§æœ‰å¯èƒ½è¿˜æœ‰ç›¸ç­‰å…ƒç´ ï¼Œè®¾ç½®ä¸ºå·¦é—­ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                left=mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">      	<span class="comment">// æ£€æµ‹è¶Šç•Œã€æ²¡æ‰¾åˆ°å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(right&lt;<span class="number">0</span> || left&gt;=nums.length || target!=nums[left]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¸¸è§„äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å³è¿”å›</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>, left = <span class="number">0</span>, right = nums.length-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(left&lt;right) &#123;</span><br><span class="line">            mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(target &lt; nums[mid]) &#123;</span><br><span class="line">                <span class="comment">// é—­åŒºé—´ï¼Œæ‰€ä»¥rightè¦å‡1</span></span><br><span class="line">                right = mid-<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(target &gt; nums[mid]) &#123;</span><br><span class="line">                <span class="comment">// é—­åŒºé—´ï¼Œæ‰€ä»¥leftè¦åŠ 1</span></span><br><span class="line">                left = mid+<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(target == nums[mid]) &#123;</span><br><span class="line">                <span class="comment">// åŒ¹é…åˆ°ï¼Œç›´æ¥return</span></span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰è¿›å…¥å¾ªç¯æ—¶</span></span><br><span class="line">        <span class="keyword">if</span>(nums[left] != target) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @lc code=end</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-5.æœ€é•¿å›æ–‡å­ä¸²</title>
    <url>/2020/12/17/LeetCode-5-%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ <code>s</code> çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">&quot;babad&quot;</span></span><br><span class="line">è¾“å‡º: <span class="string">&quot;bab&quot;</span></span><br><span class="line">æ³¨æ„: <span class="string">&quot;aba&quot;</span> ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">&quot;cbbd&quot;</span></span><br><span class="line">è¾“å‡º: <span class="string">&quot;bb&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="Round-1ï¼ˆå¸¸è§„ï¼‰"><a href="#Round-1ï¼ˆå¸¸è§„ï¼‰" class="headerlink" title="Round 1ï¼ˆå¸¸è§„ï¼‰"></a>Round 1ï¼ˆå¸¸è§„ï¼‰</h2><p>å¸¸è§„è§£æ³•ï¼ŒåŸºæœ¬æ²¡ç”¨åˆ°ç®—æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=5 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [5] æœ€é•¿å›æ–‡å­ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(s.length()&lt;=<span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">char</span>[] arr = s.toCharArray();</span><br><span class="line">        String resString = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éå†æ¯ä¸ªå­—ç¬¦</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;arr.length; i++) &#123;</span><br><span class="line">            String currString = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            String currString2 = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å‡è®¾å½“å‰å­—ç¬¦å·¦å³ä¸¤ä¸¤å›æ–‡ï¼Œå¦‚abcba</span></span><br><span class="line">            <span class="comment">// ä¿å­˜å½“å‰å­—ç¬¦</span></span><br><span class="line">            currString+=arr[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="comment">// åˆ¤æ–­å·¦å³ä¸¤è¾¹å­—ç¬¦</span></span><br><span class="line">                <span class="keyword">if</span>(i+<span class="number">1</span>+j&lt;arr.length &amp;&amp; i-<span class="number">1</span>-j&gt;=<span class="number">0</span> &amp;&amp; arr[i+<span class="number">1</span>+j]==arr[i-<span class="number">1</span>-j])&#123;</span><br><span class="line">                    <span class="comment">// ä¸è¦ä½¿ç”¨StringBuilderçš„appendï¼Œä¸ç„¶ä½ ä¼šå“­çš„</span></span><br><span class="line">                    <span class="comment">// æ‹¼æ¥å·¦ã€ä¸­ã€å³å­—ç¬¦</span></span><br><span class="line">                    currString=arr[i+<span class="number">1</span>+j]+currString+arr[i-<span class="number">1</span>-j];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸è¿ç»­ï¼Œè·³å‡º</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å‡è®¾å½“å‰å­—ç¬¦ä¸å‰é¢ä¸€ä¸ªå­—ç¬¦ä¸¤ä¸¤å›æ–‡ï¼Œå¦‚ abba</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="comment">// </span></span><br><span class="line">                <span class="keyword">if</span>(i+j&lt;arr.length &amp;&amp; i-<span class="number">1</span>-j&gt;=<span class="number">0</span> &amp;&amp; arr[i+j]==arr[i-<span class="number">1</span>-j])&#123;</span><br><span class="line">                    <span class="comment">// æ‹¼æ¥å·¦ã€ä¸­ã€å³å­—ç¬¦</span></span><br><span class="line">                    currString2=arr[i+j]+currString2+arr[i-<span class="number">1</span>-j];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸è¿ç»­ï¼Œè·³å‡º</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ‰¾æå¤§å€¼</span></span><br><span class="line">            <span class="keyword">if</span>(currString.length()&gt;resString.length()) &#123;</span><br><span class="line">                resString = currString;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(currString2.length()&gt;resString.length()) &#123;</span><br><span class="line">                resString = currString2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resString;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @lc code=end</span></span><br></pre></td></tr></table></figure>

<p>ä¸­é—´é‡åˆ°2ä¸ªå‘ï¼š</p>
<ol>
<li>åˆšå¼€å§‹ï¼ŒcurrStringä½¿ç”¨StringBuilderï¼Œä¼šå‘ç°å¾ˆå¤šé‡å¤å…ƒç´ ã€‚åŸå› æ˜¯append()éƒ½æ˜¯åœ¨åŸå¯¹è±¡ä¸Šæ“ä½œçš„ï¼›</li>
<li>åˆšå¼€å§‹æ‰“ç®—æŠŠ2ç§æƒ…å†µåˆå¹¶åˆ°ä¸€ä¸ªforå¾ªç¯ä¸­ï¼Œè°ƒäº†å¥½ä¹…å‘ç°ä¸è¡Œï¼ŒäºŒè€…å¯¹çš„ç»“æœä¼šç›¸äº’å½±å“ã€‚æ¯”å¦‚ä¸è¿ç»­æ—¶è¦è·³å‡ºå¾ªç¯ï¼›</li>
</ol>
<h2 id="Round-2ï¼ˆåŒæŒ‡é’ˆï¼‰"><a href="#Round-2ï¼ˆåŒæŒ‡é’ˆï¼‰" class="headerlink" title="Round 2ï¼ˆåŒæŒ‡é’ˆï¼‰"></a>Round 2ï¼ˆåŒæŒ‡é’ˆï¼‰</h2><p>ä¸Šé¢è§£æ³•çš„ç€åŠ›ç‚¹åœ¨å•ä¸ªå­—ç¬¦ï¼Œå¾ªç¯æ—¶ä»¥æŸä¸€ä¸ªå­—ç¬¦ä¸ºä¸»ï¼Œæ¯æ¬¡åªç§»åŠ¨1ä¸ªå­—ç¬¦ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§è§£æ³•æ˜¯åŒæŒ‡é’ˆï¼Œæ¯æ¬¡åŒæ—¶ç§»åŠ¨2ä¸ªå­—ç¬¦ã€‚è¿™ä¹Ÿæ˜¯å›æ–‡é¢˜çš„ç‰¹ç‚¹ã€‚</p>
<p>é‡ç‚¹å…³æ³¨å›æ–‡å‡½æ•°ä¸­çš„è¾¹ç•Œï¼Œä»¥åŠæœ€ç»ˆå¦‚ä½•æˆªå–å­ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=5 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [5] æœ€é•¿å›æ–‡å­ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * åŒæŒ‡é’ˆï¼Œleftã€right2ä¸ªæŒ‡é’ˆåŒæ—¶ç§»åŠ¨</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String resString = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="comment">// å·¦å³æŒ‡é’ˆåœ¨åŒä¸€ä½ç½®</span></span><br><span class="line">            String leftRes = plalindrome(s, i, i);</span><br><span class="line">            <span class="comment">// rightæŒ‡é’ˆåœ¨leftæŒ‡é’ˆå</span></span><br><span class="line">            String rightRes = plalindrome(s, i, i+<span class="number">1</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(leftRes.length()&gt;resString.length()) &#123;</span><br><span class="line">                resString = leftRes;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(rightRes.length()&gt;resString.length()) &#123;</span><br><span class="line">                resString = rightRes;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å›æ–‡å‡½æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String  <span class="title">plalindrome</span><span class="params">(String s, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] arr = s.toCharArray();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­2ä¸ªæŒ‡é’ˆå¯¹åº”å­—ç¬¦æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">        <span class="comment">// ä¸»è¦leftã€rightçš„è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">while</span>(left&gt;=<span class="number">0</span> &amp;&amp; right&lt;arr.length &amp;&amp; arr[left] == arr[right])&#123;</span><br><span class="line">            left--;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// substring(headIndex, tailIndex)ï¼Œæ³¨æ„2ä¸ªå…¥å‚ï¼Œç¬¬äºŒä¸ªå…¥å‚åªèƒ½æ˜¯å°¾èŠ‚ç‚¹çš„ä¸‹æ ‡ï¼Œä¸æ˜¯é•¿åº¦ï¼Œè€Œä¸”æ˜¯ä¸‹ä¸€ä¸ªä½ç½®çš„ä¸‹æ ‡ã€‚æ¯”å¦‚s=&quot;abc&quot;ï¼Œè·å–å®Œæ•´å­—ç¬¦æ—¶s.substring(0, 3)ï¼Œå®é™…å­—ç¬¦cçš„ä¸‹æ ‡æ˜¯2</span></span><br><span class="line">        <span class="comment">// ç”±äºwhileå…ˆæ‰§è¡Œå†åˆ¤æ–­ï¼Œæ‰€ä»¥å½“è·³å‡ºwhileå¾ªç¯æ—¶ï¼Œleftã€rightéƒ½å·²ç»è¶Šç•Œäº†</span></span><br><span class="line">        <span class="comment">// æ‰€ä»¥leftéœ€è¦åŠ 1ï¼Œrightä¸ç”¨å‡1ï¼ŒåŸå› è§ä¸Š</span></span><br><span class="line">        <span class="keyword">if</span>(left+<span class="number">1</span> &lt; right)</span><br><span class="line">            <span class="keyword">return</span> s.substring(left+<span class="number">1</span>, right);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @lc code=end</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-516.æœ€é•¿å›æ–‡å­åºåˆ—</title>
    <url>/2020/12/21/LeetCode-516-%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿çš„å›æ–‡å­åºåˆ—ï¼Œå¹¶è¿”å›è¯¥åºåˆ—çš„é•¿åº¦ã€‚å¯ä»¥å‡è®¾ <code>s</code> çš„æœ€å¤§é•¿åº¦ä¸º <code>1000</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong><br>è¾“å…¥:</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;bbbab&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡º:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå¯èƒ½çš„æœ€é•¿å›æ–‡å­åºåˆ—ä¸º â€œbbbbâ€ã€‚</p>
<p><strong>ç¤ºä¾‹ 2:</strong><br>è¾“å…¥:</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;cbbd&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡º:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå¯èƒ½çš„æœ€é•¿å›æ–‡å­åºåˆ—ä¸º â€œbbâ€ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s</code> åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯</li>
</ul>
<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="Round-1ï¼ˆå¤±è´¥ï¼‰"><a href="#Round-1ï¼ˆå¤±è´¥ï¼‰" class="headerlink" title="Round 1ï¼ˆå¤±è´¥ï¼‰"></a>Round 1ï¼ˆå¤±è´¥ï¼‰</h2><p>æ€è·¯ï¼š</p>
<h2 id="Round-2ï¼ˆé€’å½’ï¼‰"><a href="#Round-2ï¼ˆé€’å½’ï¼‰" class="headerlink" title="Round 2ï¼ˆé€’å½’ï¼‰"></a>Round 2ï¼ˆé€’å½’ï¼‰</h2><p>å¤ç”¨æœ€é•¿å›æ–‡å­ä¸²çš„æ€è·¯ã€‚åŒºåˆ«åœ¨äºå›æ–‡å‡½æ•°ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦O(N^N)ï¼Œæ•ˆç‡å¹¶ä¸é«˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @lc app=leetcode.cn id=516 lang=java</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * [516] æœ€é•¿å›æ–‡å­åºåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @lc code=start</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestPalindromeSubseq</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 2. å¤ç”¨æœ€é•¿å›æ–‡å­ä¸²çš„æ€è·¯</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">char</span>[] arr = s.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> leftRes = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> rightRes = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            leftRes = plalindrome(arr, i, i);</span><br><span class="line">            rightRes = plalindrome(arr, i, i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(leftRes&gt;res) res = leftRes;</span><br><span class="line">            <span class="keyword">if</span>(rightRes&gt;res) res = rightRes;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">plalindrome</span><span class="params">(<span class="keyword">char</span>[] arr, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">         <span class="comment">// åˆ¤æ–­è¶Šç•Œ</span></span><br><span class="line">        <span class="keyword">if</span>(left&lt;<span class="number">0</span> || right&gt;arr.length-<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å­—ç¬¦ç›¸åŒæ—¶ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€å­—ç¬¦</span></span><br><span class="line">        <span class="keyword">if</span>(arr[left] == arr[right])&#123;</span><br><span class="line">            <span class="keyword">if</span>(left==right) </span><br><span class="line">                <span class="keyword">return</span> plalindrome(arr, left-<span class="number">1</span>, right+<span class="number">1</span>) +<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                <span class="keyword">return</span> plalindrome(arr, left-<span class="number">1</span>, right+<span class="number">1</span>) +<span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸åŒæ—¶ï¼Œå–æœ€å¤§</span></span><br><span class="line">            <span class="keyword">return</span> Math.max(plalindrome(arr, left-<span class="number">1</span>, right), plalindrome(arr, left, right+<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @lc code=end</span></span><br></pre></td></tr></table></figure>



<h2 id="Round-3ï¼ˆï¼‰"><a href="#Round-3ï¼ˆï¼‰" class="headerlink" title="Round 3ï¼ˆï¼‰"></a>Round 3ï¼ˆï¼‰</h2>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-704.äºŒåˆ†æŸ¥æ‰¾</title>
    <url>/2020/12/15/LeetCode-704-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ª <code>n</code> ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code> ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ <code>nums</code> ä¸­çš„ <code>target</code>ï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› <code>-1</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9</span></span><br><span class="line"><span class="section">è¾“å‡º: 4</span></span><br><span class="line"><span class="section">è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2</span></span><br><span class="line"><span class="section">è¾“å‡º: -1</span></span><br><span class="line"><span class="section">è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1</span></span><br></pre></td></tr></table></figure>

<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="Round-1ï¼ˆå¸¸è§„ï¼‰"><a href="#Round-1ï¼ˆå¸¸è§„ï¼‰" class="headerlink" title="Round 1ï¼ˆå¸¸è§„ï¼‰"></a>Round 1ï¼ˆå¸¸è§„ï¼‰</h2><p>éœ€è¦æ³¨æ„çš„å‡ ä¸ªç‚¹ï¼š</p>
<ol>
<li>mid = left + (right-left)/2ï¼Œç­‰ä»·äºmid=(left+right)/2ï¼›</li>
<li>æ¯ä¸ªifæ¡ä»¶ä¸­å¯¹æ¯”çš„å€¼ï¼ŒåŠå¤§äºã€å°äºç¬¦å·ï¼›</li>
<li>midåŠ 1ã€å‡ä¸€ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">				</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">          	<span class="comment">// midåŠ å‡1ï¼Œå› ä¸ºå½“å‰å…ƒç´ å·²ç»å¯¹æ¯”è¿‡äº†ã€‚å¦åˆ™whileæ¡ä»¶å¯èƒ½ä¼šå‡ºç°æ­»å¾ªç¯</span></span><br><span class="line">            <span class="comment">// æ¯”å¦‚nums = [-1,0,3,5,9,12], target = 2æ—¶</span></span><br><span class="line">            <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">                left = mid+<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; nums[mid]) &#123;</span><br><span class="line">                right = mid-<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target == nums[mid])&#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(nums[left] != target) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxå¸¸ç”¨å‘½ä»¤</title>
    <url>/2018/01/16/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æŸ¥çœ‹å‰1000è¡Œ</span><br><span class="line">head -n 1000 filename</span><br><span class="line">//æŸ¥çœ‹å1000è¡Œ</span><br><span class="line">tail -n 1000 filename</span><br><span class="line">//æŸ¥çœ‹1000ä¹‹å</span><br><span class="line">tail -n +1000 filename</span><br><span class="line">//å®æ—¶æŸ¥çœ‹</span><br><span class="line">tail -f filename</span><br><span class="line"></span><br><span class="line">//æŸ¥çœ‹æœ€å1000è¡Œæ•°æ®</span><br><span class="line">cat filename | tail -n 1000</span><br><span class="line">//æŸ¥çœ‹1000åˆ°3000è¡Œçš„æ•°æ®</span><br><span class="line">cat file | head -n 3000 | tail -n +1000</span><br></pre></td></tr></table></figure>
<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//åŒ¹é…æ–‡ä»¶ä¸­æ‰€æœ‰fooå…³é”®å­—ä¸Šä¸‹1000è¡Œ</span><br><span class="line">grep -C 1000 foo filename</span><br><span class="line"></span><br><span class="line">//åŒ¹é…æ–‡ä»¶ä¸­æ‰€æœ‰fooå…³é”®å­—åŠå‰1000è¡Œ</span><br><span class="line">grep -B 1000 foo filename</span><br><span class="line"></span><br><span class="line">//åŒ¹é…æ–‡ä»¶ä¸­æ‰€æœ‰fooå…³é”®å­—åŠå1000è¡Œ</span><br><span class="line">grep -A 1000 foo filename</span><br></pre></td></tr></table></figure>
<h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æ˜¾ç¤ºç¬¬1000åˆ°3000è¡Œçš„æ•°æ®</span><br><span class="line">sed -n <span class="string">&#x27;1000,3000p&#x27;</span> filename</span><br></pre></td></tr></table></figure>

<h2 id="find-æ–‡ä»¶æœç´¢"><a href="#find-æ–‡ä»¶æœç´¢" class="headerlink" title="find-æ–‡ä»¶æœç´¢"></a>find-æ–‡ä»¶æœç´¢</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find / -name filename</span><br></pre></td></tr></table></figure>

<h2 id="ps-æŸ¥æ‰¾è¿›ç¨‹"><a href="#ps-æŸ¥æ‰¾è¿›ç¨‹" class="headerlink" title="ps-æŸ¥æ‰¾è¿›ç¨‹"></a>ps-æŸ¥æ‰¾è¿›ç¨‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -ef | grep XXX</span><br><span class="line"></span><br><span class="line"><span class="built_in">kill</span> -9 pid</span><br></pre></td></tr></table></figure>

<h2 id="scp-è·¨æœåŠ¡å™¨æ‹·è´"><a href="#scp-è·¨æœåŠ¡å™¨æ‹·è´" class="headerlink" title="scp-è·¨æœåŠ¡å™¨æ‹·è´"></a>scp-è·¨æœåŠ¡å™¨æ‹·è´</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scp file user@localhost:dir</span><br></pre></td></tr></table></figure>

<h2 id="tar-å‹ç¼©ã€è§£å‹"><a href="#tar-å‹ç¼©ã€è§£å‹" class="headerlink" title="tar-å‹ç¼©ã€è§£å‹"></a>tar-å‹ç¼©ã€è§£å‹</h2><ol>
<li>å‹ç¼©</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åªæ‰“åŒ…</span></span><br><span class="line">tar -cvf file.tar file</span><br><span class="line"><span class="comment">#ä½¿ç”¨gzipå‹ç¼©ï¼Œå†æ‰“åŒ…</span></span><br><span class="line">tar -czf file.tar.gz file</span><br><span class="line"><span class="comment">#ä½¿ç”¨bzip2å‹ç¼©ï¼Œå†æ‰“åŒ…</span></span><br><span class="line">tar -cjf file.tar.bz2 file</span><br><span class="line"><span class="comment">#ä½¿ç”¨compresså‹ç¼©ï¼Œå†æ‰“åŒ…</span></span><br><span class="line">tar -cZf file.tar.Z file</span><br><span class="line"></span><br><span class="line"><span class="comment">#rarå‹ç¼©,éœ€å…ˆå®‰è£…raræœåŠ¡</span></span><br><span class="line">rar a file.rar file</span><br><span class="line"><span class="comment">#zipå‹ç¼©ï¼Œéœ€å…ˆå®‰è£…zipæœåŠ¡</span></span><br><span class="line">zip file.zip file</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è§£å‹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è§£å‹å¸¸è§„åŒ…</span></span><br><span class="line">tar -xvf file.tar</span><br><span class="line"><span class="comment">#è§£å‹gzipåŒ…</span></span><br><span class="line">tar -xzvf file.tar.gz</span><br><span class="line"><span class="comment">#è§£å‹bzip2åŒ…</span></span><br><span class="line">tar -xjvf file.tar.bz2</span><br><span class="line"><span class="comment">#è§£å‹compressåŒ…</span></span><br><span class="line">tar -xZvf file.tar.Z</span><br><span class="line"></span><br><span class="line"><span class="comment">#è§£å‹rar</span></span><br><span class="line">unrar e file.rar</span><br><span class="line"><span class="comment">#è§£å‹zip</span></span><br><span class="line">unzip file.zip</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å‚æ•°è§£æ</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¿…é¡»å‚æ•°ï¼Œä¸”åªèƒ½é€‰ä¸€ä¸ª</span></span><br><span class="line">-c:	å»ºç«‹å‹ç¼©æ–‡æ¡£</span><br><span class="line">-x:	è§£å‹</span><br><span class="line">-t:	æŸ¥çœ‹æ–‡ä»¶</span><br><span class="line">-r:	å‹ç¼©æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶</span><br><span class="line">-u:	æ›´æ–°åŸå‹ç¼©æ–‡ä»¶ä¸­çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯é€‰å‚æ•°ï¼Œæ ¹æ®éœ€è¦æ·»åŠ </span></span><br><span class="line">-z: gzip</span><br><span class="line">-j:	bz2</span><br><span class="line">-Z:	compress</span><br><span class="line">-v:	æ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹</span><br><span class="line">-O:	å°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¿…é€‰å‚æ•°</span></span><br><span class="line">-f: åœ¨æ‰€æœ‰å‚æ•°æœ€åï¼Œåé¢æ¥æ–‡æ¡£å</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºè½¯è¿æ¥"><a href="#åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="åˆ›å»ºè½¯è¿æ¥"></a>åˆ›å»ºè½¯è¿æ¥</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æºæ–‡ä»¶æŒ‡è¦è¢«é“¾æ¥çš„æ–‡ä»¶ï¼Œç›®æ ‡æ–‡ä»¶æŒ‡æ–°å»ºçš„è½¯è¿æ¥</span></span><br><span class="line">ln -s æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h2 id="åŒ¹é…è¿›ç¨‹å¹¶kill"><a href="#åŒ¹é…è¿›ç¨‹å¹¶kill" class="headerlink" title="åŒ¹é…è¿›ç¨‹å¹¶kill"></a>åŒ¹é…è¿›ç¨‹å¹¶kill</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æŸ¥æ‰¾helloç›¸å…³è¿›ç¨‹å¹¶<span class="built_in">kill</span></span><br><span class="line">ps -ef |grep hello |awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>|xargs <span class="built_in">kill</span> -9</span><br></pre></td></tr></table></figure>

<h2 id="sed-æ›¿æ¢æ–‡æœ¬"><a href="#sed-æ›¿æ¢æ–‡æœ¬" class="headerlink" title="sed: æ›¿æ¢æ–‡æœ¬"></a>sed: æ›¿æ¢æ–‡æœ¬</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å°†bookæ›¿æ¢ä¸ºbooks</span><br><span class="line">sed <span class="string">&#x27;s/book/books/g&#x27;</span> file</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹æ–‡ä»¶å¤§å°"><a href="#æŸ¥çœ‹æ–‡ä»¶å¤§å°" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶å¤§å°"></a>æŸ¥çœ‹æ–‡ä»¶å¤§å°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç£ç›˜ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">df -h</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶(åŒ…å«å­ç›®å½•)</span></span><br><span class="line">du -ah</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªæ˜¾ç¤º/root</span></span><br><span class="line">du -ah /root</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ€»è®¡</span></span><br><span class="line">du -sh *</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Shell</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–‡ä»¶MD5æ‰¹é‡ç”Ÿæˆ</title>
    <url>/2018/10/18/Linux%E6%96%87%E4%BB%B6MD5%E7%94%9F%E6%88%90/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find ./ -<span class="built_in">type</span> f | xargs md5sum &gt; a.md5</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>MD5</tag>
      </tags>
  </entry>
  <entry>
    <title>MLä¸­çš„Losså‡½æ•°</title>
    <url>/2018/05/12/ML%E4%B8%AD%E7%9A%84Loss%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<p><a href="https://blog.csdn.net/shenxiaoming77/article/details/51614601">åŸæ–‡</a></p>
]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>ML</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOSå®šæ—¶æœåŠ¡ã€å¼€å¯è‡ªå¯</title>
    <url>/2018/01/06/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<h2 id="åŠ å…¥å®šæ—¶ä»»åŠ¡"><a href="#åŠ å…¥å®šæ—¶ä»»åŠ¡" class="headerlink" title="åŠ å…¥å®šæ—¶ä»»åŠ¡"></a>åŠ å…¥å®šæ—¶ä»»åŠ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºshellè„šæœ¬</span></span><br><span class="line">vim bakup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#èµ‹äºˆæ‰§è¡Œæƒé™</span></span><br><span class="line">chmod -R 777 bakup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#åŠ å…¥å®šæ—¶ä»»åŠ¡</span></span><br><span class="line">vim /etc/crontab</span><br><span class="line"><span class="comment">#æœ€åä¸€è¡ŒåŠ å…¥ã€‚æ¯å¤©å‡Œæ™¨1ç‚¹æ‰§è¡Œ</span></span><br><span class="line">0 1 * * * root /usr/bakup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯crontabæœåŠ¡</span></span><br><span class="line">service crond restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¸¸ç”¨cronè¡¨è¾¾å¼</span></span><br><span class="line">    æ¯äº”åˆ†é’Ÿæ‰§è¡Œ  */5 * * * *</span><br><span class="line"></span><br><span class="line">ã€€ã€€æ¯å°æ—¶æ‰§è¡Œ     0 * * * *</span><br><span class="line"></span><br><span class="line">ã€€ã€€æ¯å¤©æ‰§è¡Œ       0 0 * * *</span><br><span class="line"></span><br><span class="line">ã€€ã€€æ¯å‘¨æ‰§è¡Œ       0 0 * * 0</span><br><span class="line"></span><br><span class="line">ã€€ã€€æ¯æœˆæ‰§è¡Œ       0 0 1 * *</span><br><span class="line"></span><br><span class="line">ã€€ã€€æ¯å¹´æ‰§è¡Œ       0 0 1 1 *</span><br></pre></td></tr></table></figure>

<h2 id="åŠ å…¥è‡ªå¯åŠ¨æœåŠ¡"><a href="#åŠ å…¥è‡ªå¯åŠ¨æœåŠ¡" class="headerlink" title="åŠ å…¥è‡ªå¯åŠ¨æœåŠ¡"></a>åŠ å…¥è‡ªå¯åŠ¨æœåŠ¡</h2><p>ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼Œchkconfigå‘½ä»¤å’Œä¿®æ”¹rc.localæ–‡ä»¶</p>
<ol>
<li><p>chkconfigå‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//é¦–å…ˆæŸ¥çœ‹è¦å¯åŠ¨çš„æœåŠ¡æ˜¯å¦åœ¨chkconfigåˆ—è¡¨ä¸­</span><br><span class="line">chkconfig --list</span><br><span class="line"></span><br><span class="line">//å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰ï¼Œéœ€è¦å•æœåŠ¡æ·»åŠ åˆ°åˆ—è¡¨</span><br><span class="line">chkconfig --add XX</span><br><span class="line"></span><br><span class="line">//æ‰“å¼€è‡ªå¯åŠ¨</span><br><span class="line">chkconfig mysqld on</span><br><span class="line"></span><br><span class="line">//å–æ¶ˆè‡ªå¯åŠ¨</span><br><span class="line">chkconfig mysqld off</span><br><span class="line"></span><br><span class="line">ps:2~5ä¸ºonï¼Œå°±æ˜¯è¡¨æ˜æ‰“å¼€è‡ªå¯åŠ¨å¼€å…³äº†</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹/etc/rc.d/rc.local</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//ç¼–è¾‘rc.local</span><br><span class="line">vim /etc/rc.d/rc.local</span><br><span class="line"></span><br><span class="line">//æ·»åŠ æœåŠ¡</span><br><span class="line">/etc/rc.d/init.d/mysqld start</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Shell</tag>
        <tag>Linux</tag>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSä½¿ç”¨VS Codeé…ç½®goç¯å¢ƒ</title>
    <url>/2020/11/26/MacOS%E4%BD%BF%E7%94%A8VS-Code%E9%85%8D%E7%BD%AEgo%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h1 id="å®‰è£…Go"><a href="#å®‰è£…Go" class="headerlink" title="å®‰è£…Go"></a>å®‰è£…Go</h1><h2 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h2><p>è®¿é—®<a href="https://golang.org/dl/">å®˜ç½‘</a>ï¼Œæ ¹æ®éœ€æ±‚ä¸‹è½½ã€‚</p>
<p>æˆ‘ä¸‹è½½çš„æ˜¯1.15.5ï¼Œç›´æ¥ç‚¹å‡»æ‰§è¡Œpkgæ–‡ä»¶å®‰è£…å°±å¯ä»¥äº†ã€‚</p>
<p>é»˜è®¤æ˜¯å®‰è£…åˆ°<code>/usr/local/go</code>ç›®å½•ã€‚</p>
<p><em>PS: ä¹Ÿå¯ä»¥ä½¿ç”¨brewå®‰è£…çš„æ–¹å¼</em></p>
<h2 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h2><p>ä¸»è¦æœ‰2ä¸ªç¯å¢ƒå˜é‡ï¼šGOROOTã€GOPATHã€‚</p>
<p>GOROOTï¼šgoçš„å®‰è£…è·¯å¾„</p>
<p>GOPATHï¼šé¡¹ç›®è·¯å¾„</p>
<p>æ ¹æ®æƒ…å†µä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚æˆ‘ç”¨çš„æ˜¯zshï¼Œåº§æ¤…åœ¨.zshrcæœ€åè¿½åŠ å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> GOROOT=/usr/<span class="built_in">local</span>/go</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GOROOT</span>/bin</span><br><span class="line"><span class="built_in">export</span> GOPATH=/Users/xxxx/go</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GOPATH</span>/bin</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸ºåˆ«å¿˜äº†sourceåˆ·æ–°ä¸‹ï¼Œç„¶å<code>go version</code>éªŒè¯ä¸‹ã€‚</p>
<h1 id="VS-Codeé…ç½®"><a href="#VS-Codeé…ç½®" class="headerlink" title="VS Codeé…ç½®"></a>VS Codeé…ç½®</h1><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><p>åœ¨æ‰©å±•å•†åº—é‡Œæœç´¢goï¼Œå®‰è£…å°±å¯ä»¥äº†ã€‚</p>
<h2 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h2><p>å®‰è£…å®Œæˆåï¼ŒåŒæ—¶æŒ‰ä½command+shift+pï¼Œè¾“å…¥<code>open settings</code>ï¼Œæ‰“å¼€setting.jsonï¼ŒåŠ å…¥</p>
<p><code>&quot;go.gopath&quot;: &quot;/Users/woniu/go&quot;</code></p>
<h2 id="å®‰è£…goç»„ä»¶"><a href="#å®‰è£…goç»„ä»¶" class="headerlink" title="å®‰è£…goç»„ä»¶"></a>å®‰è£…goç»„ä»¶</h2><p>æŒ‰ä½command+shift+pï¼Œè¾“å…¥<code>go: install/update tools</code>ï¼Œç„¶åå‹¾é€‰å…¨éƒ¨ç»„ä»¶ï¼Œç¡®å®šï¼Œå³å¯å¼€å§‹å®‰è£…ã€‚</p>
<p>å¦‚æœæç¤ºè¿æ¥å¤±è´¥ï¼Œå¯ä»¥æ”¹ä¸‹ä»£ç†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># shellä¸­æ‰§è¡Œ</span></span><br><span class="line">go env -w GO111MODULE=on</span><br><span class="line">go env -w GOPROXY=https://goproxy.io,direct</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Go</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>VS Code</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSå®‰è£…Matlab</title>
    <url>/2018/05/20/MacOS%E5%AE%89%E8%A3%85Matlab/</url>
    <content><![CDATA[<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>â€‹    ç™¾åº¦ç½‘ç›˜é“¾æ¥:</p>
<p>â€‹    å®‰è£…åŒ…ï¼š<a href="https://pan.baidu.com/s/1Y1llTPxRa55ojXotTkg6eQ">https://pan.baidu.com/s/1Y1llTPxRa55ojXotTkg6eQ</a> å¯†ç : wchd</p>
<p>â€‹    ç ´è§£è¡¥ä¸åŒ…ï¼š<a href="https://pan.baidu.com/s/1iTrHoTXmhut-nedNSf4RZg">https://pan.baidu.com/s/1iTrHoTXmhut-nedNSf4RZg</a>  å¯†ç :b7oz</p>
<p>â€‹    å¦‚æœä¸‹è½½é€Ÿåº¦è¿‡æ…¢ï¼Œå¯å‚è€ƒæœ¬åšå®¢æ­å»ºAria2ï¼Œäº«å—ä¼šå‘˜ç‰ˆçš„ä¸‹è½½é€Ÿåº¦ã€‚</p>
<p>##å®‰è£…</p>
<p>â€‹    ä¸‹è½½åæ˜¯ä¸€ä¸ªisoæ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œæ–­å¼€ç½‘ç»œè¿æ¥ï¼ŒåŒå‡»InstallForMacOSX.appï¼Œç‚¹ä¸‹ä¸€æ­¥ã€‚</p>
<p>â€‹    é€‰æ‹©â€œä½¿ç”¨æ–‡ä»¶å®‰è£…ç§˜é’¥â€ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€œï¼ŒåŒæ„æ¡æ¬¾ï¼Œç„¶åå°†<code>5442240402238172080830933</code>æ‹·è´åˆ°è®¸å¯è¯ç§˜é’¥çª—å£ï¼Œä¸€ç›´â€ä¸‹ä¸€æ­¥â€œï¼Œç­‰å¾…å®‰è£…å®Œæˆã€‚</p>
<p>â€‹    ç”¨ç ´è§£è¡¥ä¸åŒ…ä¸­çš„libmwservices.dylibæ›¿æ¢æ‰/Applications/MATLAB_R2015b/bin/maci64/libmwservices.dylibã€‚</p>
<p>â€‹    æ‰“å¼€Matlab_R2015bï¼Œé€‰æ‹©ç¦»çº¿æ¿€æ´»æ–¹å¼ï¼ŒåŠ è½½ç ´è§£è¡¥ä¸åŒ…ä¸­çš„/license.libï¼ŒæˆåŠŸã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSæ­å»ºAria2</title>
    <url>/2018/03/30/MacOS%E6%90%AD%E5%BB%BAAria2/</url>
    <content><![CDATA[<h2 id="å®‰è£…Aria2"><a href="#å®‰è£…Aria2" class="headerlink" title="å®‰è£…Aria2"></a>å®‰è£…Aria2</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>MacOså®‰è£…Aria2ååˆ†ç®€å•ï¼Œä½¿ç”¨homebrewå®‰è£…å°±å¯ä»¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install aria2</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//åˆ›å»ºé…ç½®ç›®å½•</span><br><span class="line">mkdir ~/.aria2</span><br><span class="line"></span><br><span class="line">//ç¼–è¾‘é…ç½®æ–‡ä»¶</span><br><span class="line">vim ~/.aria2/aria2.conf</span><br><span class="line"></span><br><span class="line">//å°†ä¸‹é¢é…ç½®æ‹·è´åˆ°aria2.confä¸­ï¼Œå¹¶ä¸”ä¿®æ”¹dirä¸ºè‡ªå·±çš„ä¸‹è½½ç›®å½•</span><br><span class="line"><span class="comment">#ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">#rpc-user=user</span></span><br><span class="line"><span class="comment">#å¯†ç </span></span><br><span class="line"><span class="comment">#rpc-passwd=passwd</span></span><br><span class="line"><span class="comment">#ä¸Šé¢çš„è®¤è¯æ–¹å¼ä¸å»ºè®®ä½¿ç”¨,å»ºè®®ä½¿ç”¨ä¸‹é¢çš„tokenæ–¹å¼</span></span><br><span class="line"><span class="comment">#è®¾ç½®åŠ å¯†çš„å¯†é’¥</span></span><br><span class="line"><span class="comment">#rpc-secret=token</span></span><br><span class="line"><span class="comment">#å…è®¸rpc</span></span><br><span class="line">enable-rpc=<span class="literal">true</span></span><br><span class="line"><span class="comment">#å…è®¸æ‰€æœ‰æ¥æº, webç•Œé¢è·¨åŸŸæƒé™éœ€è¦</span></span><br><span class="line">rpc-allow-origin-all=<span class="literal">true</span></span><br><span class="line"><span class="comment">#å…è®¸å¤–éƒ¨è®¿é—®ï¼Œfalseçš„è¯åªç›‘å¬æœ¬åœ°ç«¯å£</span></span><br><span class="line">rpc-listen-all=<span class="literal">true</span></span><br><span class="line"><span class="comment">#RPCç«¯å£, ä»…å½“é»˜è®¤ç«¯å£è¢«å ç”¨æ—¶ä¿®æ”¹</span></span><br><span class="line"><span class="comment">#rpc-listen-port=6800</span></span><br><span class="line"><span class="comment">#æœ€å¤§åŒæ—¶ä¸‹è½½æ•°(ä»»åŠ¡æ•°), è·¯ç”±å»ºè®®å€¼: 3</span></span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line"><span class="comment">#æ–­ç‚¹ç»­ä¼ </span></span><br><span class="line"><span class="built_in">continue</span>=<span class="literal">true</span></span><br><span class="line"><span class="comment">#åŒæœåŠ¡å™¨è¿æ¥æ•°</span></span><br><span class="line">max-connection-per-server=5</span><br><span class="line"><span class="comment">#æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, ä¸‹è½½çº¿ç¨‹æ•°ä¸Šé™å–å†³äºèƒ½åˆ†å‡ºå¤šå°‘ç‰‡, å¯¹äºå°æ–‡ä»¶é‡è¦</span></span><br><span class="line">min-split-size=10M</span><br><span class="line"><span class="comment">#å•æ–‡ä»¶æœ€å¤§çº¿ç¨‹æ•°, è·¯ç”±å»ºè®®å€¼: 5</span></span><br><span class="line">split=10</span><br><span class="line"><span class="comment">#ä¸‹è½½é€Ÿåº¦é™åˆ¶</span></span><br><span class="line">max-overall-download-limit=0</span><br><span class="line"><span class="comment">#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶</span></span><br><span class="line">max-download-limit=0</span><br><span class="line"><span class="comment">#ä¸Šä¼ é€Ÿåº¦é™åˆ¶</span></span><br><span class="line">max-overall-upload-limit=0</span><br><span class="line"><span class="comment">#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶</span></span><br><span class="line">max-upload-limit=0</span><br><span class="line"><span class="comment">#æ–­å¼€é€Ÿåº¦è¿‡æ…¢çš„è¿æ¥</span></span><br><span class="line"><span class="comment">#lowest-speed-limit=0</span></span><br><span class="line"><span class="comment">#éªŒè¯ç”¨ï¼Œéœ€è¦1.16.1ä¹‹åçš„releaseç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">#referer=*</span></span><br><span class="line"><span class="comment">#æ–‡ä»¶ä¿å­˜è·¯å¾„, é»˜è®¤ä¸ºå½“å‰å¯åŠ¨ä½ç½®</span></span><br><span class="line">dir=/Users/woniu/Downloads</span><br><span class="line"><span class="comment">#æ–‡ä»¶ç¼“å­˜, ä½¿ç”¨å†…ç½®çš„æ–‡ä»¶ç¼“å­˜, å¦‚æœä½ ä¸ç›¸ä¿¡Linuxå†…æ ¸æ–‡ä»¶ç¼“å­˜å’Œç£ç›˜å†…ç½®ç¼“å­˜æ—¶ä½¿ç”¨, éœ€è¦1.16åŠä»¥ä¸Šç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">#disk-cache=0</span></span><br><span class="line"><span class="comment">#å¦ä¸€ç§Linuxæ–‡ä»¶ç¼“å­˜æ–¹å¼, ä½¿ç”¨å‰ç¡®ä¿æ‚¨ä½¿ç”¨çš„å†…æ ¸æ”¯æŒæ­¤é€‰é¡¹, éœ€è¦1.15åŠä»¥ä¸Šç‰ˆæœ¬(?)</span></span><br><span class="line"><span class="comment">#enable-mmap=true</span></span><br><span class="line"><span class="comment">#æ–‡ä»¶é¢„åˆ†é…, èƒ½æœ‰æ•ˆé™ä½æ–‡ä»¶ç¢ç‰‡, æé«˜ç£ç›˜æ€§èƒ½. ç¼ºç‚¹æ˜¯é¢„åˆ†é…æ—¶é—´è¾ƒé•¿</span></span><br><span class="line"><span class="comment">#æ‰€éœ€æ—¶é—´ none &lt; falloc ? trunc Â« prealloc, fallocå’Œtruncéœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒ</span></span><br><span class="line">file-allocation=prealloc</span><br></pre></td></tr></table></figure>

<h3 id="è¿è¡Œaria2"><a href="#è¿è¡Œaria2" class="headerlink" title="è¿è¡Œaria2"></a>è¿è¡Œaria2</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aria2c</span><br><span class="line"></span><br><span class="line">//æ£€æŸ¥æ˜¯å¦å·²å¯åŠ¨</span><br><span class="line">ps aux|grep aria2c</span><br></pre></td></tr></table></figure>

<h2 id="UIè®¾ç½®"><a href="#UIè®¾ç½®" class="headerlink" title="UIè®¾ç½®"></a>UIè®¾ç½®</h2><p>è®¿é—®<a href="https://ziahamza.github.io/webui-aria2/">https://ziahamza.github.io/webui-aria2/</a></p>
<p>ç„¶åç‚¹å‡»è®¾ç½®-é“¾æ¥è®¾ç½®</p>
<p>å°†ä¸»æœºä¿®æ”¹ä¸ºï¼šlocalhost</p>
<p>ç«¯å£ï¼š6800</p>
<p>å–æ¶ˆssl/sshçš„å‹¾é€‰</p>
<h2 id="å®‰è£…ç™¾åº¦äº‘æ’ä»¶"><a href="#å®‰è£…ç™¾åº¦äº‘æ’ä»¶" class="headerlink" title="å®‰è£…ç™¾åº¦äº‘æ’ä»¶"></a>å®‰è£…ç™¾åº¦äº‘æ’ä»¶</h2><p>ä¸‹è½½<a href="https://yalv.me/download/aria2/Exporter.zip">ç™¾åº¦æ’ä»¶</a>ï¼Œè§£å‹</p>
<p>åœ¨chromeæµè§ˆå™¨ä¸­ï¼Œè®¾ç½®-æ›´å¤šå·¥å…·-æ‰©å±•ç¨‹åº-å¼€å¯å¼€å‘è€…æ¨¡å¼-åŠ è½½å·²è§£å‹çš„æ‹“å±•ç¨‹åº</p>
<p>å®‰è£…ä¹‹åï¼Œéšä¾¿æ‰“å¼€ä¸€ä¸ªç™¾åº¦ç½‘ç›˜çš„èµ„æºï¼Œå‘ç°å¤šäº†ä¸€ä¸ªå¯¼å‡ºä¸‹è½½çš„é€‰é¡¹ï¼Œé‡Œé¢æœ‰ARIA2 RPCï¼Œä½¿ç”¨è¿™ä¸ªä¸‹è½½rpcæ–‡ä»¶ï¼Œç„¶åè‡ªåŠ¨ä¼šä½¿ç”¨aria2è¿›è¡Œä¸‹è½½</p>
<h2 id="å®‰è£…è¿…é›·æ’ä»¶ï¼ˆè¿…é›·å·²å±è”½ï¼‰"><a href="#å®‰è£…è¿…é›·æ’ä»¶ï¼ˆè¿…é›·å·²å±è”½ï¼‰" class="headerlink" title="å®‰è£…è¿…é›·æ’ä»¶ï¼ˆè¿…é›·å·²å±è”½ï¼‰"></a><del>å®‰è£…è¿…é›·æ’ä»¶ï¼ˆè¿…é›·å·²å±è”½ï¼‰</del></h2><p>è¯¥æ–¹æ¡ˆç›®å‰å·²ç»è¢«è¿…é›·å±è”½</p>
]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>Aria2</tag>
      </tags>
  </entry>
  <entry>
    <title>Macåˆå§‹åŒ–EasyNLPå¼€å‘ç¯å¢ƒ</title>
    <url>/2022/05/02/Mac%E5%88%9D%E5%A7%8B%E5%8C%96EasyNLP%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">macOS Monterey 12.2.1ï¼ŒApple M1 Proç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">$ python --version</span><br><span class="line">Python 3.8.9</span><br><span class="line"></span><br><span class="line">$ pip --version</span><br><span class="line">pip 22.0.4 from /Users/gavin/Library/Python/3.8/lib/python/site-packages/pip (python 3.8)</span><br></pre></td></tr></table></figure>

<h2 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h2><h3 id="ä¸‹è½½é¡¹ç›®"><a href="#ä¸‹è½½é¡¹ç›®" class="headerlink" title="ä¸‹è½½é¡¹ç›®"></a>ä¸‹è½½é¡¹ç›®</h3><p>æ‰“å¼€<a href="https://www.yuque.com/easyx/easynlp/tepd59">å®˜æ–¹æ–‡æ¡£</a>ï¼Œåˆ›å»ºç›®å½•ï¼Œåœ¨ç›®å½•ä¸­ clone é¡¹ç›®ã€‚</p>
<p><code>git clone https://github.com/alibaba/EasyNLP</code></p>
<h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><p>æ‰§è¡Œ<code>pip install -r requirements.txt</code>ï¼Œä¸å‡ºé¢„æ–™ï¼Œæœ‰æŠ¥é”™ã€‚</p>
<h4 id="setuptoolsç‰ˆæœ¬è¿‡ä½"><a href="#setuptoolsç‰ˆæœ¬è¿‡ä½" class="headerlink" title="setuptoolsç‰ˆæœ¬è¿‡ä½"></a>setuptoolsç‰ˆæœ¬è¿‡ä½</h4><p>é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">    raise VersionConflict(dist, req).with_context(dependent_req)</span><br><span class="line">pkg_resources.VersionConflict: (setuptools 49.2.1 (/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages), Requirement.parse(<span class="string">&#x27;setuptools&gt;=58.0&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>ä¿¡æ¯æ¯”è¾ƒæ¸…æ™°ï¼Œè¿›è¡Œå‡çº§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip install --upgrade setuptools</span><br><span class="line">Defaulting to user installation because normal site-packages is not writeable</span><br><span class="line">Requirement already satisfied: setuptools <span class="keyword">in</span> /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages (49.2.1)</span><br><span class="line">Collecting setuptools</span><br><span class="line">  Using cached setuptools-62.1.0-py3-none-any.whl (1.1 MB)</span><br><span class="line">Installing collected packages: setuptools</span><br><span class="line">Successfully installed setuptools-62.1.0</span><br></pre></td></tr></table></figure>

<p>å‡çº§æˆåŠŸã€‚é‡æ–°æ‰§è¡Œ<code>pip install -r requirements.txt</code>ï¼Œä¸æ–™è¿˜æ˜¯æŠ¥ç›¸åŒçš„é”™ï¼Œä»”ç»†çœ‹äº†ä¸€ä¸‹ï¼ŒæŠ¥é”™è·¯å¾„ä¸æˆ‘å®‰è£…çš„ setuptools ä¸ä¸€è‡´ï¼Œæœ€ç»ˆé€šè¿‡ä¿®æ”¹ site.py è§£å†³ï¼Œè¯¦ç»†è¿‡ç¨‹å¯å‚è€ƒ<a href="https://wonius.top/2022/04/29/Mac%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4Python/">è¿™ç¯‡æ–‡ç« </a></p>
<h4 id="tokenizersæ¨¡å—æŠ¥é”™"><a href="#tokenizersæ¨¡å—æŠ¥é”™" class="headerlink" title="tokenizersæ¨¡å—æŠ¥é”™"></a>tokenizersæ¨¡å—æŠ¥é”™</h4><p>éƒ¨åˆ†æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">   note: This error originates from a subprocess, and is likely not a problem with pip.</span><br><span class="line">  ERROR: Failed building wheel <span class="keyword">for</span> sentencepiece</span><br><span class="line">  Running setup.py clean <span class="keyword">for</span> sentencepiece</span><br><span class="line">  Building wheel <span class="keyword">for</span> grpcio (setup.py) ... <span class="keyword">done</span></span><br><span class="line">  Created wheel <span class="keyword">for</span> grpcio: filename=grpcio-1.45.0-cp38-cp38-macosx_10_14_arm64.whl size=7451816 sha256=5909c0fc7f0fc6fe959b5205d8fb6293404e377b651fb97aeaaf3574a8c528a0</span><br><span class="line">  Stored <span class="keyword">in</span> directory: /Users/gavin/Library/Caches/pip/wheels/bb/fe/aa/509208bd9420844c88b4a73ced4bc58f069a3db3b3a4b23336</span><br><span class="line">Successfully built grpcio</span><br><span class="line">Failed to build tokenizers sentencepiece</span><br><span class="line">ERROR: Could not build wheels <span class="keyword">for</span> tokenizers, <span class="built_in">which</span> is required to install pyproject.toml-based projects</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆï¼Œå®‰è£… rustï¼š</p>
<p><code>curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></p>
<h4 id="sentencepieceæ¨¡å—æŠ¥é”™"><a href="#sentencepieceæ¨¡å—æŠ¥é”™" class="headerlink" title="sentencepieceæ¨¡å—æŠ¥é”™"></a>sentencepieceæ¨¡å—æŠ¥é”™</h4><p>é‡æ–°æ‰§è¡Œ<code>pip install -r requirements.txt</code>ï¼Œåˆæœ‰æ–°çš„æŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Running setup.py install <span class="keyword">for</span> sentencepiece ... error</span><br><span class="line">  error: subprocess-exited-with-error</span><br><span class="line"></span><br><span class="line">  Ã— Running setup.py install <span class="keyword">for</span> sentencepiece did not run successfully.</span><br><span class="line">  â”‚ <span class="built_in">exit</span> code: 1</span><br><span class="line">  â•°â”€&gt; [25 lines of output]</span><br><span class="line">      /Users/gavin/Library/Python/3.8/lib/python/site-packages/setuptools/dist.py:757: UserWarning: Usage of dash-separated <span class="string">&#x27;description-file&#x27;</span> will not be supported <span class="keyword">in</span> future versions. Please use the underscore name <span class="string">&#x27;description_file&#x27;</span> instead</span><br><span class="line">        warnings.warn(</span><br><span class="line">      running install</span><br><span class="line">      /Users/gavin/Library/Python/3.8/lib/python/site-packages/setuptools/<span class="built_in">command</span>/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.</span><br><span class="line">        warnings.warn(</span><br><span class="line">      running build</span><br><span class="line">      running build_py</span><br><span class="line">      creating build</span><br><span class="line">      creating build/lib.macosx-10.14-arm64-cpython-38</span><br><span class="line">      creating build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      copying src/sentencepiece/__init__.py -&gt; build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      copying src/sentencepiece/sentencepiece_model_pb2.py -&gt; build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      copying src/sentencepiece/sentencepiece_pb2.py -&gt; build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      running build_ext</span><br><span class="line">      /bin/sh: pkg-config: <span class="built_in">command</span> not found</span><br><span class="line">      mkdir: bundled: File exists</span><br><span class="line">      fatal: destination path <span class="string">&#x27;sentencepiece&#x27;</span> already exists and is not an empty directory.</span><br><span class="line">      fatal: destination path <span class="string">&#x27;sentencepiece&#x27;</span> already exists and is not an empty directory.</span><br><span class="line">      mkdir: build: File exists</span><br><span class="line">      ./build_bundled.sh: line 15: cmake: <span class="built_in">command</span> not found</span><br><span class="line">      ./build_bundled.sh: line 16: nproc: <span class="built_in">command</span> not found</span><br><span class="line">      make: *** No targets specified and no makefile found.  Stop.</span><br><span class="line">      make: *** No rule to make target `install<span class="string">&#x27;.  Stop.</span></span><br><span class="line"><span class="string">      env: pkg-config: No such file or directory</span></span><br><span class="line"><span class="string">      Failed to find sentencepiece pkg-config</span></span><br><span class="line"><span class="string">      [end of output]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  note: This error originates from a subprocess, and is likely not a problem with pip.</span></span><br><span class="line"><span class="string">error: legacy-install-failure</span></span><br></pre></td></tr></table></figure>

<p>çœ‹æŠ¥é”™æ˜¯å®‰è£… sentencepiece æœ‰å¼‚å¸¸ï¼Œå°è¯•å•ç‹¬å®‰è£…è¯¥æ¨¡å—<code>pip install sentencepiece</code>ï¼ŒæŠ¥åŒæ ·çš„é”™ã€‚</p>
<p>æœ€ç»ˆé€šè¿‡ä¸‹è½½å®‰è£…åŒ…ã€ä¿®æ”¹æ ‡ç­¾åï¼Œå®‰è£…æˆåŠŸï¼Œè¯¦ç»†è¿‡ç¨‹å¯å‚è€ƒ<a href="https://wonius.top/2022/05/02/macOS%E5%AE%89%E8%A3%85sentencepiece%E6%A8%A1%E5%9D%97%E5%A4%B1%E8%B4%A5/">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
<p>é‡æ–°æ‰§è¡Œ<code>pip install -r requirements.txt</code>ï¼Œç»ˆäºæˆåŠŸå®‰è£…å®Œä¾èµ–ã€‚</p>
]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>EasyNLP</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSä¿®æ”¹Pythoné»˜è®¤é…ç½®</title>
    <url>/2022/04/29/Mac%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4Python/</url>
    <content><![CDATA[<h2 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">macOS Monterey 12.2.1ï¼ŒApple M1 Proç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">$ python --version</span><br><span class="line">Python 3.8.9</span><br><span class="line"></span><br><span class="line">$ pip --version</span><br><span class="line">pip 22.0.4 from /Users/gavin/Library/Python/3.8/lib/python/site-packages/pip (python 3.8)</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>æœ€è¿‘åœ¨å®‰è£… EasyNLP ä¾èµ–çš„æ—¶å€™ï¼ŒæŠ¥é”™ å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">    raise VersionConflict(dist, req).with_context(dependent_req)</span><br><span class="line">pkg_resources.VersionConflict: (setuptools 49.2.1 (/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages), Requirement.parse(<span class="string">&#x27;setuptools&gt;=58.0&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>OKï¼Œsetuptools ç‰ˆæœ¬å¤ªä½ï¼Œå‡çº§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip install --upgrade setuptools</span><br><span class="line">Defaulting to user installation because normal site-packages is not writeable</span><br><span class="line">Requirement already satisfied: setuptools <span class="keyword">in</span> /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages (49.2.1)</span><br><span class="line">Collecting setuptools</span><br><span class="line">  Using cached setuptools-62.1.0-py3-none-any.whl (1.1 MB)</span><br><span class="line">Installing collected packages: setuptools</span><br><span class="line">Successfully installed setuptools-62.1.0</span><br></pre></td></tr></table></figure>

<p>å‡çº§æˆåŠŸï¼ŒButï¼Œé‡æ–°å®‰è£…ä¾èµ–ï¼Œè¿˜æ˜¯æŠ¥åŒæ ·çš„é”™ã€‚å°±ç¦»è°±ã€‚</p>
<p>ä»”ç»†çœ‹äº†ä¸‹ setuptools ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip show setuptools</span><br><span class="line">Name: setuptools</span><br><span class="line">Version: 62.1.0</span><br><span class="line">Summary: Easily download, build, install, upgrade, and uninstall Python packages</span><br><span class="line">Home-page: https://github.com/pypa/setuptools</span><br><span class="line">Author: Python Packaging Authority</span><br><span class="line">Author-email: distutils-sig@python.org</span><br><span class="line">License: UNKNOWN</span><br><span class="line">Location: /Users/gavin/Library/Python/3.8/lib/python/site-packages</span><br><span class="line">Requires:</span><br><span class="line">Required-by:</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°åŸå› äº†ï¼š</p>
<p>pip å‡çº§ setuptools åçš„è·¯å¾„ï¼š/Users/gavin/Library/Python/3.8/lib/python/site-packages</p>
<p>æŠ¥é”™çš„è·¯å¾„ï¼šLibrary/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…ä¾èµ–æ—¶æŸ¥æ‰¾çš„ site-packageï¼Œå¹¶éé»˜è®¤çš„è·¯å¾„ï¼ˆsite-package æ˜¯ä¸‹è½½ç¬¬ä¸‰æ–¹åº“æ—¶åœ¨ç”µè„‘ä¸­çš„å­˜æ”¾è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ä»“åº“ï¼‰ã€‚</p>
<h2 id="æ’æŸ¥"><a href="#æ’æŸ¥" class="headerlink" title="æ’æŸ¥"></a>æ’æŸ¥</h2><p>å…ˆæŸ¥çœ‹ä¸‹ Python å¯¹åº”çš„ site ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ python -m site</span><br><span class="line">sys.path = [</span><br><span class="line">    <span class="string">&#x27;/usr/bin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python38.zip&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/lib-dynload&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/Users/gavin/Library/Python/3.8/lib/python/site-packages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages&#x27;</span>,</span><br><span class="line">]</span><br><span class="line">USER_BASE: <span class="string">&#x27;/Users/gavin/Library/Python/3.8&#x27;</span> (exists)</span><br><span class="line">USER_SITE: <span class="string">&#x27;/Users/gavin/Library/Python/3.8/lib/python/site-packages&#x27;</span> (exists)</span><br><span class="line">ENABLE_USER_SITE: True</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° sys.path ä¸­ä¸¤ä¸ªè·¯å¾„éƒ½æœ‰ï¼Œè€Œä¸”ä¸¤ä¸ª site-package ä¸­éƒ½æœ‰ setuptoolsï¼Œå®‰è£…ä¾èµ–æ—¶æ²¡æœ‰è¯»å–æˆ‘ä»¬æœŸæœ›çš„ site-packagesã€‚</p>
<p>åˆ°è¿™æˆ‘ä»¬æœ‰ 2 ä¸ªè§£å†³æ–¹æ¡ˆï¼Œè¦ä¹ˆæŠŠç³»ç»Ÿè‡ªå¸¦çš„ setuptools ä¹Ÿå‡çº§ï¼Œè¦ä¹ˆåœ¨ sys.path ä¸­æŠŠç³»ç»Ÿçš„ site-packagesåˆ æ‰ã€‚</p>
<p>æ–¹æ¡ˆä¸€ä¸æ˜¯é•¿ä¹…ä¹‹è®¡ï¼Œé‡‡ç”¨æ–¹æ¡ˆäºŒã€‚æ¥ä¸‹æ¥å°±æ˜¯çœ‹æ€ä¹ˆä¿®æ”¹ sys.path äº†ã€‚</p>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>â€‹    ç½‘ä¸ŠæŸ¥äº†åŠå¤©ï¼Œå¦‚æœå¯¹ sys.path è¿›è¡Œä¿®æ”¹ï¼Œæœ€å¥½æ˜¯èƒ½æŠŠç³»ç»Ÿé»˜è®¤çš„ site-packages å»æ‰ï¼Œåªä¿ç•™æˆ‘ä»¬è‡ªå·±çš„ site-packagesã€‚å¦‚æœå»ä¸æ‰çš„è¯ï¼Œè‡³å°‘ä¿è¯æˆ‘ä»¬è‡ªå·±çš„ site-packages ä¼˜å…ˆçº§é«˜äºç³»ç»Ÿé»˜è®¤ã€‚</p>
<p>ä¿®æ”¹ sys.path çš„æ–¹æ¡ˆä¸€èˆ¬æœ‰è¿™äº›ï¼š</p>
<ol>
<li>è°ƒç”¨ sys è‡ªå¸¦å‡½æ•°ï¼Œæ¯”å¦‚ sys.remove() å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥åˆ ã€‚ï¼ˆè¯¥æ–¹æ¡ˆä¸€èˆ¬é€‚ç”¨äºä»£ç ä¸­ï¼Œä¸´æ—¶æœ‰æ•ˆï¼Œä¸é€‚åˆæˆ‘ä»¬çš„åœºæ™¯ï¼‰ï¼›</li>
<li>python åœ¨ç”Ÿæˆ sys.path æ—¶ï¼Œæ˜¯é€šè¿‡æ£€æµ‹.pth æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œä»¥åŠå…¶ä¸­çš„å†…å®¹ã€‚æ‰€ä»¥å¦‚æœæƒ³åœ¨æŸä¸ªè·¯å¾„åŠ å…¥åˆ° sys.pathï¼Œå¯ä»¥é€šè¿‡åŠ .pthï¼Œæˆ–è€…ä¿®æ”¹.pthï¼ˆè¯¥æ–¹æ¡ˆé€‚åˆæ·»åŠ å†…å®¹ï¼Œä¹Ÿä¸é€‚åˆï¼‰ï¼›</li>
<li>å®šä¹‰ <code>PYTHONPATH = /xxx/xxx</code>ï¼Œä¸å®šä¹‰è¿™ä¸ªå˜é‡ä¹Ÿå¯ä»¥ï¼Œç›´æ¥åœ¨ PATH ä¸­æ·»åŠ ã€‚è¿™ä¸ªæ–¹æ¡ˆå¤§å®¶åº”è¯¥éƒ½çŸ¥é“ã€‚æ ¹æ® bash ç±»å‹ç¼–è¾‘.bash_profileï¼Œæˆ–è€….zshrcï¼ˆè¯¥æ–¹æ¡ˆä¹Ÿåªèƒ½æ·»åŠ ï¼Œä¹Ÿä¸é€‚åˆï¼‰ï¼›</li>
<li>é€šè¿‡è°ƒæ•´ python çš„ site.pyï¼Œè‡ªå®šä¹‰ USER_BASEã€USER_SITEï¼›</li>
</ol>
<p>æœ€ç»ˆç”¨ç¬¬å››ç§æ–¹æ¡ˆè§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼ˆå¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘æ˜æ˜æ²¡é…ç½®ï¼Œä½†æ˜¯ python -m site å‘½ä»¤è¿”å›çš„ç»“æœé‡Œå´æ˜¾ç¤ºæœ‰ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. æŸ¥çœ‹ site.pyæ‰€åœ¨ä½ç½®</span></span><br><span class="line">python -m site -<span class="built_in">help</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾—åˆ°è¾“å‡º</span></span><br><span class="line">/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site.py [--user-base] [--user-site]</span><br><span class="line"></span><br><span class="line">Without arguments <span class="built_in">print</span> some useful information</span><br><span class="line">With arguments <span class="built_in">print</span> the value of USER_BASE and/or USER_SITE separated</span><br><span class="line">by <span class="string">&#x27;:&#x27;</span>.</span><br><span class="line"></span><br><span class="line">Exit codes with --user-base or --user-site:</span><br><span class="line">  0 - user site directory is enabled</span><br><span class="line">  1 - user site directory is disabled by user</span><br><span class="line">  2 - uses site directory is disabled by super user</span><br><span class="line">      or <span class="keyword">for</span> security reasons</span><br><span class="line"> &gt;2 - unknown error</span><br><span class="line"> </span><br><span class="line"> <span class="comment"># 2. è¿›å…¥è·¯å¾„ï¼Œå¤‡ä»½æ–‡ä»¶ã€ç¼–è¾‘æ–‡ä»¶</span></span><br><span class="line"> <span class="built_in">cd</span> /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8</span><br><span class="line"> cp site.py site_bak.py</span><br><span class="line"> sudo vim site.py</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 3. ä¿®æ”¹é…ç½®ï¼Œå¦‚ä¸‹ï¼Œç„¶åä¿å­˜é€€å‡º </span></span><br><span class="line"><span class="comment"># Enable per user site-packages directory</span></span><br><span class="line"><span class="comment"># set it to False to disable the feature or True to force the feature</span></span><br><span class="line">ENABLE_USER_SITE = True</span><br><span class="line"></span><br><span class="line"><span class="comment"># for distutils.commands.install</span></span><br><span class="line"><span class="comment"># These values are initialized by the getuserbase() and getusersitepackages()</span></span><br><span class="line"><span class="comment"># functions, through the main() function when Python starts.</span></span><br><span class="line">USER_SITE = <span class="string">&quot;/Users/gavin/Library/Python/3.8/lib/python/site-packages&quot;</span></span><br><span class="line">USER_BASE = <span class="string">&quot;/Users/gavin/Library/Python/3.8&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œå®‰è£…ä¾èµ–å‘½ä»¤ï¼Œå¯æ­£å¸¸æ‰§è¡Œã€‚</p>
]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOSå¸¸ç”¨å‘½ä»¤</title>
    <url>/2017/08/15/Mac%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹ç«¯å£å·"><a href="#æŸ¥çœ‹ç«¯å£å·" class="headerlink" title="æŸ¥çœ‹ç«¯å£å·"></a>æŸ¥çœ‹ç«¯å£å·</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//8080ä¸ºç«¯å£å·</span><br><span class="line">lsof -i :8080	</span><br><span class="line"></span><br><span class="line">//<span class="built_in">kill</span></span><br><span class="line">sudo <span class="built_in">kill</span> -9 pid</span><br></pre></td></tr></table></figure>

<h2 id="è®¾ç½®è½¯ä»¶å®‰è£…æ¥æºä¸ºæ‰€æœ‰æ¥æº"><a href="#è®¾ç½®è½¯ä»¶å®‰è£…æ¥æºä¸ºæ‰€æœ‰æ¥æº" class="headerlink" title="è®¾ç½®è½¯ä»¶å®‰è£…æ¥æºä¸ºæ‰€æœ‰æ¥æº"></a>è®¾ç½®è½¯ä»¶å®‰è£…æ¥æºä¸ºæ‰€æœ‰æ¥æº</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo spctl --master-disable/--master-enable</span><br></pre></td></tr></table></figure>

<h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-server	//å¯åŠ¨</span><br></pre></td></tr></table></figure>

<h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql.server start	//å¯åŠ¨</span><br></pre></td></tr></table></figure>

<h2 id="postgresql"><a href="#postgresql" class="headerlink" title="postgresql"></a>postgresql</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pg_ctl -d /usr/<span class="built_in">local</span>/var/postgres -l /usr/<span class="built_in">local</span>/var/postgres/server.log start 	//å¯åŠ¨</span><br></pre></td></tr></table></figure>

<h2 id="è¿œç¨‹ä¼ é€’æ–‡ä»¶"><a href="#è¿œç¨‹ä¼ é€’æ–‡ä»¶" class="headerlink" title="è¿œç¨‹ä¼ é€’æ–‡ä»¶"></a>è¿œç¨‹ä¼ é€’æ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scp **.zip username@**.**.**.**:/ç›®å½•</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>Shell</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Mavençš„é‚£äº›äº‹å„¿</title>
    <url>/2018/10/22/Maven%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</url>
    <content><![CDATA[<h2 id="lifecycleã€phaseã€goal"><a href="#lifecycleã€phaseã€goal" class="headerlink" title="lifecycleã€phaseã€goal"></a>lifecycleã€phaseã€goal</h2><ol>
<li>lifecycleç”±phaseç»„æˆï¼Œphaseç”±goalç»„æˆã€‚phaseå¯ä»¥çœ‹æˆå°çš„ç”Ÿå‘½å‘¨æœŸï¼Œgoalæ˜¯æœ€å°çš„ä»»åŠ¡æ‰§è¡Œå•å…ƒï¼›</li>
<li>lifecycleæ€»å…±æœ‰ä¸‰ä¸ªé˜¶æ®µï¼Œcleanã€defaultã€siteï¼›æ¯ä¸ªé˜¶æ®µå¯¹åº”ä¸åŒphaseï¼›</li>
<li>ä¸€ä¸ªphaseä¸­å¯ä»¥æœ‰å¤šä¸ªgoalï¼›</li>
</ol>
<h2 id="lifecycle"><a href="#lifecycle" class="headerlink" title="lifecycle"></a>lifecycle</h2><h3 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h3><table>
<thead>
<tr>
<th>phase</th>
<th>function</th>
</tr>
</thead>
<tbody><tr>
<td>pre-clean</td>
<td>execute processes needed prior to the actual project cleaning</td>
</tr>
<tr>
<td>clean</td>
<td>remove all files generated by the previous build</td>
</tr>
<tr>
<td>Post-clean</td>
<td>execute processes needed to finalize the project cleaning</td>
</tr>
</tbody></table>
<h3 id="default"><a href="#default" class="headerlink" title="default"></a>default</h3><table>
<thead>
<tr>
<th>phase</th>
<th>function</th>
</tr>
</thead>
<tbody><tr>
<td>validate</td>
<td>validate the project is correct and all necessary information is available.</td>
</tr>
<tr>
<td>initialize</td>
<td>initialize build state, e.g. set properties or create directories.</td>
</tr>
<tr>
<td>generate-sources</td>
<td>generate any source code for inclusion in compilation.</td>
</tr>
<tr>
<td>process-sources</td>
<td>process the source code, for example to filter any values.</td>
</tr>
<tr>
<td>generate-resources</td>
<td>generate resources for inclusion in the package.</td>
</tr>
<tr>
<td>process-resources</td>
<td>copy and process the resources into the destination directory, ready for packaging.</td>
</tr>
<tr>
<td>compile</td>
<td>compile the source code of the project.</td>
</tr>
<tr>
<td>process-classes</td>
<td>post-process the generated files from compilation, for example to do bytecode enhancement on Java classes.</td>
</tr>
<tr>
<td>generate-test-sources</td>
<td>generate any test source code for inclusion in compilation.</td>
</tr>
<tr>
<td>process-test-sources</td>
<td>process the test source code, for example to filter any values.</td>
</tr>
<tr>
<td>generate-test-resources</td>
<td>create resources for testing.</td>
</tr>
<tr>
<td>process-test-resources</td>
<td>copy and process the resources into the test destination directory.</td>
</tr>
<tr>
<td>test-compile</td>
<td>compile the test source code into the test destination directory</td>
</tr>
<tr>
<td>process-test-classes</td>
<td>post-process the generated files from test compilation, for example to do bytecode enhancement on Java classes. For Maven 2.0.5 and above.</td>
</tr>
<tr>
<td>test</td>
<td>run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed.</td>
</tr>
<tr>
<td>prepare-package</td>
<td>perform any operations necessary to prepare a package before the actual packaging. This often results in an unpacked, processed version of the package. (Maven 2.1 and above)</td>
</tr>
<tr>
<td>package</td>
<td>take the compiled code and package it in its distributable format, such as a JAR.</td>
</tr>
<tr>
<td>pre-integration-test perform</td>
<td>actions required before integration tests are executed. This may involve things such as setting up the required environment.</td>
</tr>
<tr>
<td>integration-test</td>
<td>process and deploy the package if necessary into an environment where integration tests can be run.</td>
</tr>
<tr>
<td>post-integration-test</td>
<td>perform actions required after integration tests have been executed. This may including cleaning up the environment.</td>
</tr>
<tr>
<td>verify</td>
<td>run any checks to verify the package is valid and meets quality criteria.</td>
</tr>
<tr>
<td>install</td>
<td>install the package into the local repository, for use as a dependency in other projects locally.</td>
</tr>
<tr>
<td>deploy</td>
<td>done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects.</td>
</tr>
</tbody></table>
<h3 id="site"><a href="#site" class="headerlink" title="site"></a>site</h3><table>
<thead>
<tr>
<th>phase</th>
<th>function</th>
</tr>
</thead>
<tbody><tr>
<td>pre-site</td>
<td>execute processes needed prior to the actual project site generation</td>
</tr>
<tr>
<td>site</td>
<td>generate the projectâ€™s site documentation</td>
</tr>
<tr>
<td>post-site</td>
<td>execute processes needed to finalize the site generation, and to prepare for site deployment</td>
</tr>
<tr>
<td>site-deploy</td>
<td>deploy the generated site documentation to the specified web server</td>
</tr>
</tbody></table>
<p><a href="https://www.jianshu.com/p/fd43b3d0fdb0">https://www.jianshu.com/p/fd43b3d0fdb0</a></p>
<h2 id="æ’ä»¶æ‰§è¡Œé¡ºåº"><a href="#æ’ä»¶æ‰§è¡Œé¡ºåº" class="headerlink" title="æ’ä»¶æ‰§è¡Œé¡ºåº"></a>æ’ä»¶æ‰§è¡Œé¡ºåº</h2><ol>
<li>åŒä¸€pomï¼ŒæŒ‰ç…§æ’ä»¶é…ç½®çš„é¡ºåºæ‰§è¡Œï¼›</li>
<li>è¶…çº§pomä¸è‡ªå®šä¹‰pomï¼ŒåŒä¸€phaseï¼Œè¶…çº§pomå…ˆæ‰§è¡Œï¼›</li>
</ol>
]]></content>
      <categories>
        <category>Backend</category>
      </categories>
      <tags>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatisä½¿ç”¨associationï¼Œç»“æœè¿”å›æ•°ç»„</title>
    <url>/2017/10/14/Mybatis%E4%BD%BF%E7%94%A8association%EF%BC%8C%E7%BB%93%E6%9E%9C%E8%BF%94%E5%9B%9E%E6%95%B0%E7%BB%84-1/</url>
    <content><![CDATA[<p>å…³äºassociationã€collectionæ ‡ç­¾ç½‘ä¸Šå¾ˆå¤šå¸–å­ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°ï¼Œç›´æ¥è®²é—®é¢˜ã€‚</p>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>æˆ‘DAOæ¥å£è¿”å›çš„æ•°æ®æ ¼å¼ä¸º <code>List&lt;Map&lt;String, Object&gt;&gt;</code>ï¼ŒMapä¸­çš„æ•°æ®å¯¹è±¡ä¸ºå¦‚ä¸‹ï¼ŒBookæ˜¯ä¸€ä¸ªå®ä½“ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">&lt;</span>resultMap type<span class="operator">=</span>&quot;HashMap&quot; id<span class="operator">=</span>&quot;PushInfo&quot;<span class="operator">&gt;</span></span><br><span class="line">       <span class="operator">&lt;</span><span class="keyword">result</span> <span class="keyword">column</span><span class="operator">=</span>&quot;id&quot; property<span class="operator">=</span>&quot;id&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">       <span class="operator">&lt;</span><span class="keyword">result</span> <span class="keyword">column</span><span class="operator">=</span>&quot;pushDate&quot; property<span class="operator">=</span>&quot;pushDate&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">       <span class="operator">&lt;</span>association property<span class="operator">=</span>&quot;book&quot; <span class="keyword">select</span><span class="operator">=</span>&quot;selectBookById&quot; <span class="keyword">column</span><span class="operator">=</span>&quot;book_id&quot; javaType<span class="operator">=</span>&quot;Book&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">   <span class="operator">&lt;</span><span class="operator">/</span>resultMap<span class="operator">&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="operator">&lt;</span><span class="keyword">select</span> id<span class="operator">=</span>&quot;selectBookById&quot; resultType<span class="operator">=</span>&quot;Book&quot;<span class="operator">&gt;</span></span><br><span class="line">	<span class="keyword">SELECT</span> book.<span class="operator">*</span>,user.nickName <span class="keyword">AS</span> `createUser.nickName` <span class="keyword">FROM</span> book </span><br><span class="line">	<span class="keyword">LEFT</span> <span class="keyword">JOIN</span> `<span class="keyword">user</span>` <span class="keyword">ON</span> user.id <span class="operator">=</span> book.createUser</span><br><span class="line">	<span class="keyword">WHERE</span> book.id <span class="operator">=</span> #&#123;bookId&#125;</span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span><span class="keyword">select</span><span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>å®é™…è¿”å›çš„ç»“æœï¼Œå‡ºç°äº†æ ¼å¼ä¸ä¸€è‡´çš„é—®é¢˜:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">	&#123;</span><br><span class="line">        <span class="attr">&quot;pushDate&quot;</span>: <span class="number">1494645459000</span>,</span><br><span class="line">        <span class="attr">&quot;book&quot;</span>: &#123;			<span class="comment">//è¯¥å¤„ï¼Œbookæ˜¯å®ä½“å¯¹è±¡ï¼Œæ˜¯æ­£å¸¸çš„</span></span><br><span class="line">            <span class="attr">&quot;status&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;createUser&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;tags&quot;</span>: <span class="string">&quot;[å”å®¶ä¸‰å°‘, æ–—ç½—å¤§é™†, ç„å¹», ç½‘ç»œå°è¯´, å°è¯´, ä¸‰å°‘çš„ä¹¦ï¼Œå¾ˆç»å…¸, å¥‡å¹», é­”å¹»å°è¯´]&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;imgUrl&quot;</span>: <span class="string">&quot;https://img3.doubanio.com/lpic/s6847563.jpg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;enable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;å”å®¶ä¸‰å°‘&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;doubanScore&quot;</span>: <span class="number">7.5</span>,</span><br><span class="line">            <span class="attr">&quot;createDate&quot;</span>: <span class="number">1420038859000</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;æ–—ç½—å¤§é™†ï¼ˆå…¨14å·ï¼‰&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;book_id&quot;</span>: <span class="number">3249</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;pushDate&quot;</span>: <span class="number">1494571741000</span>,</span><br><span class="line">        <span class="attr">&quot;book&quot;</span>: [			<span class="comment">//æ­¤æ—¶ï¼Œå´å˜æˆäº†bookå®ä½“çš„æ•°ç»„å¯¹è±¡</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">&quot;status&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">                <span class="attr">&quot;createUser&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">                <span class="attr">&quot;tags&quot;</span>: <span class="string">&quot;[å”å®¶ä¸‰å°‘, æ–—ç½—å¤§é™†, ç„å¹», ç½‘ç»œå°è¯´, å°è¯´, ä¸‰å°‘çš„ä¹¦ï¼Œå¾ˆç»å…¸, å¥‡å¹», é­”å¹»å°è¯´]&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;imgUrl&quot;</span>: <span class="string">&quot;https://img3.doubanio.com/lpic/s6847563.jpg&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;enable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;å”å®¶ä¸‰å°‘&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;doubanScore&quot;</span>: <span class="number">7.5</span>,</span><br><span class="line">                <span class="attr">&quot;createDate&quot;</span>: <span class="number">1420038859000</span>,</span><br><span class="line">                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;æ–—ç½—å¤§é™†ï¼ˆå…¨14å·ï¼‰&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;book_id&quot;</span>: <span class="number">3249</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·</span><br></pre></td></tr></table></figure>



<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æ–°å»ºäº†BookPushå®ä½“ç±»ï¼ŒæŒ‡å®šbookç±»å‹ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">&lt;</span>resultMap type<span class="operator">=</span>&quot;BookPush&quot; id<span class="operator">=</span>&quot;PushInfo&quot;<span class="operator">&gt;</span></span><br><span class="line">       <span class="operator">&lt;</span><span class="keyword">result</span> <span class="keyword">column</span><span class="operator">=</span>&quot;id&quot; property<span class="operator">=</span>&quot;id&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">       <span class="operator">&lt;</span><span class="keyword">result</span> <span class="keyword">column</span><span class="operator">=</span>&quot;pushDate&quot; property<span class="operator">=</span>&quot;pushDate&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">       <span class="operator">&lt;</span>association property<span class="operator">=</span>&quot;book&quot; <span class="keyword">select</span><span class="operator">=</span>&quot;selectBookById&quot; <span class="keyword">column</span><span class="operator">=</span>&quot;book_id&quot; javaType<span class="operator">=</span>&quot;Book&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">   <span class="operator">&lt;</span><span class="operator">/</span>resultMap<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ä»”ç»†æ ¸æŸ¥æ•°æ®å¯ä»¥å‘ç°ï¼Œå½“çˆ¶æŸ¥è¯¢è¿”å›çš„book_idæœ‰é‡å¤æ—¶ï¼Œç¬¬äºŒä¸ªbook_idæŸ¥å‡ºæ¥çš„æ•°æ®ï¼Œè¿”å›çš„ä¸€å®šæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚æ¯”å¦‚ä¸Šé¢ï¼Œbook_idéƒ½ä¸º3249ï¼Œç¬¬ä¸€ä¸ªç»“æœä¸ºå®ä½“ï¼Œç¬¬äºŒä¸ªç»“æœä¸ºæ•°ç»„ã€‚</p>
<p>æˆ‘çŒœæµ‹associationæ ‡ç­¾åœ¨æ‰§è¡Œæ—¶ï¼Œä¼šå°†åŒä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ•°æ®ç¼“å­˜ã€‚å…ˆåœ¨ç¼“å­˜ä¸­æŸ¥ï¼Œå‘ç°æœ‰ä¸€ä¸ªå®ä½“ï¼Œæ‰€ä»¥å°±åˆ›å»ºäº†æ•°ç»„ï¼Œç„¶åå†æ‰§è¡Œsqlï¼ŒæŸ¥å‡ºæ¥çš„ç»“æœä¸ç¼“å­˜ä¸­çš„ä¸€æ ·ï¼Œæ‰€ä»¥æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>ä½†æ˜¯æ„Ÿè§‰è·Ÿæ•°æ®ç±»å‹ä¹Ÿæœ‰å…³ç³»</p>
<p>ä»¥åæœ‰ç©ºçœ‹çœ‹è¿™éƒ¨åˆ†çš„æºç </p>
]]></content>
      <categories>
        <category>Backend</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>Mysqlå¸¸ç”¨æ“ä½œ</title>
    <url>/2017/07/30/Mysql%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<h2 id="MacOsï¼Œä¿®æ”¹rootç”¨æˆ·å¯†ç "><a href="#MacOsï¼Œä¿®æ”¹rootç”¨æˆ·å¯†ç " class="headerlink" title="MacOsï¼Œä¿®æ”¹rootç”¨æˆ·å¯†ç "></a>MacOsï¼Œä¿®æ”¹rootç”¨æˆ·å¯†ç </h2><p>mysqlç‰ˆæœ¬ï¼š5.7.18</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å…ˆæš‚åœæœåŠ¡</span><br><span class="line">mysql.server stop</span><br><span class="line"></span><br><span class="line">//å¯åŠ¨å®‰å…¨æ¨¡å¼</span><br><span class="line">mysqld_safe --user=mysql --skip-grant-tables</span><br><span class="line"></span><br><span class="line">//è¿›å…¥mysql</span><br><span class="line">mysql -u root mysql</span><br><span class="line"></span><br><span class="line">//è®¾ç½®å¯†ç </span><br><span class="line">SET PASSWORD FOR <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> = PASSWORD(<span class="string">&#x27;æ–°å¯†ç &#x27;</span>);</span><br><span class="line"></span><br><span class="line">//å°†å˜æ›´åˆ·å…¥å†…å­˜ã€‚è¯¥æ­¥éª¤æˆ‘æ²¡æœ‰æ‰§è¡Œï¼Œä¹Ÿç”Ÿæ•ˆäº†</span><br><span class="line">FLUSH PRIVILEGES; </span><br><span class="line"></span><br><span class="line">//é€€å‡º</span><br><span class="line">\q</span><br><span class="line"></span><br><span class="line">//é‡æ–°å¯åŠ¨æœåŠ¡</span><br><span class="line">mysql.server start</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®åº“å¤‡ä»½ã€è¿˜åŸ"><a href="#æ•°æ®åº“å¤‡ä»½ã€è¿˜åŸ" class="headerlink" title="æ•°æ®åº“å¤‡ä»½ã€è¿˜åŸ"></a>æ•°æ®åº“å¤‡ä»½ã€è¿˜åŸ</h3><ol>
<li><p>å¤‡ä»½æŸåº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump -uç”¨æˆ·å -på¯†ç  -hä¸»æœº æ•°æ®åº“ a -w â€œsqlæ¡ä»¶â€ â€“lock-all-tables &gt; è·¯å¾„</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -p1234 dbname a â€“<span class="built_in">where</span> â€œtag=<span class="string">&#x27;88â€²â€ â€“no-create-info&gt; c:\a.sql</span></span><br><span class="line"><span class="string">mysqldump -u root -p game &gt; /tmp/game_backup.sql</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="2">
<li><p>å¤‡ä»½æŸå‡ ä¸ªåº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump -u root -p game game2 &gt; /tmp/game_backup.sql</span><br></pre></td></tr></table></figure></li>
<li><p>å¤‡ä»½æ‰€æœ‰åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump -u root -p --all-databases &gt; /tmp/all_backup.sql</span><br></pre></td></tr></table></figure></li>
<li><p>è¿˜åŸæ•°æ®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -u root -p game &lt; /tmp/game_backup.sql</span><br></pre></td></tr></table></figure></li>
<li><p>è·¨ä¸»æœºåŒæ­¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å‰ææ˜¯host2ä¸»æœºä¸Šå·²ç»åˆ›å»ºtargetDbæ•°æ®åº“, -CæŒ‡ç¤ºä¸»æœºé—´çš„æ•°æ®ä¼ è¾“ä½¿ç”¨æ•°æ®å‹ç¼©</span></span><br><span class="line">mysqldump --host=host1 --opt sourceDb| mysql --host=host2 -C targetDb</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CREATE USER username IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#é™å®šåœ¨å›ºå®šåœ°å€localhostç™»å½•</span></span><br><span class="line">CREATE USER username@localhost IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#å½“ä½ åœ¨æœåŠ¡å™¨ä¸»æœºä¸Šåˆ›å»ºç”¨æˆ·ï¼Œä¸ºäº†æ–¹ä¾¿è¿œç¨‹è¿æ¥ï¼Œé€šå¸¸ä½¿ç”¨%ä»£æ›¿ï¼Œå¦‚ï¼š</span></span><br><span class="line">CREATE USER username@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="æˆæƒ"><a href="#æˆæƒ" class="headerlink" title="æˆæƒ"></a>æˆæƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO user@localhost IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆäºˆæŸä¸€äº›æƒé™æ—¶</span></span><br><span class="line">GRANT select,insert ON *.* TO test1@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹ç”¨æˆ·æ‹¥æœ‰çš„æƒé™"><a href="#æŸ¥çœ‹ç”¨æˆ·æ‹¥æœ‰çš„æƒé™" class="headerlink" title="æŸ¥çœ‹ç”¨æˆ·æ‹¥æœ‰çš„æƒé™"></a>æŸ¥çœ‹ç”¨æˆ·æ‹¥æœ‰çš„æƒé™</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">show grants <span class="keyword">for</span> user;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹ç”¨æˆ·"><a href="#æŸ¥çœ‹ç”¨æˆ·" class="headerlink" title="æŸ¥çœ‹ç”¨æˆ·"></a>æŸ¥çœ‹ç”¨æˆ·</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select host, user from mysql.user;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºåº“"><a href="#åˆ›å»ºåº“" class="headerlink" title="åˆ›å»ºåº“"></a>åˆ›å»ºåº“</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE dbname;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ é™¤åº“"><a href="#åˆ é™¤åº“" class="headerlink" title="åˆ é™¤åº“"></a>åˆ é™¤åº“</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DROP DATABASE dbnameï¼›</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>Mysqlå¸¸è§é—®é¢˜</title>
    <url>/2018/01/30/Mysql%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ERROR-1044-42000-Access-denied-for-user-â€˜â€˜-â€™localhostâ€™-to-database-â€˜XXXâ€™"><a href="#ERROR-1044-42000-Access-denied-for-user-â€˜â€˜-â€™localhostâ€™-to-database-â€˜XXXâ€™" class="headerlink" title="ERROR 1044 (42000): Access denied for user â€˜â€˜@â€™localhostâ€™ to database â€˜XXXâ€™"></a>ERROR 1044 (42000): Access denied for user â€˜â€˜@â€™localhostâ€™ to database â€˜XXXâ€™</h2><p>â€‹    ä»Šå¤©åœ¨DBé‡Œç”¨æ™®é€šç”¨æˆ·åšæ“ä½œæ—¶ï¼Œä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚ä¸»è¦æ˜¯å› ä¸ºuserè¡¨ä¸­æœ‰åŒ¿åç”¨æˆ·ï¼Œå°†åŒ¿åç”¨æˆ·åˆ é™¤å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é¦–å…ˆè¿›å…¥mysql</span></span><br><span class="line">mysql -uroot -p</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ‡æ¢åˆ°mysqlæ•°æ®åº“</span></span><br><span class="line">user mysql;</span><br><span class="line"><span class="comment">#æŸ¥çœ‹å½“å‰ç”¨æˆ·</span></span><br><span class="line">select host, user, password from user;</span><br><span class="line"><span class="comment">#åˆ é™¤åŒ¿åç”¨æˆ·</span></span><br><span class="line">delete from user <span class="built_in">where</span> user=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">#å†™å…¥</span></span><br><span class="line">flush privileges;</span><br><span class="line"><span class="comment">#é€€å‡º</span></span><br><span class="line">\q</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯æœåŠ¡</span></span><br><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure>

<h2 id="ERROR-1045-28000-Access-denied-for-user-â€˜rootâ€˜-â€™localhostâ€™-using-password-YES"><a href="#ERROR-1045-28000-Access-denied-for-user-â€˜rootâ€˜-â€™localhostâ€™-using-password-YES" class="headerlink" title="ERROR 1045 (28000): Access denied for user â€˜rootâ€˜@â€™localhostâ€™ (using password: YES)"></a>ERROR 1045 (28000): Access denied for user â€˜rootâ€˜@â€™localhostâ€™ (using password: YES)</h2><p>â€‹    ä¸€èˆ¬ç”±äºå¯†ç é”™è¯¯ï¼Œæˆ–è€…æœ‰ç”¨æˆ·æ²¡æœ‰å¯†ç çš„æƒ…å†µã€‚    å¯ä»¥å…ˆè®¾ç½®æˆæ— å¯†ç æ¨¡å¼è¿›å…¥ï¼Œå†å°†æœ‰é—®é¢˜çš„ç”¨æˆ·è¿›è¡Œè°ƒæ•´ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä¿®æ”¹my.cnf</span></span><br><span class="line">vim /etc/my.cnf</span><br><span class="line"><span class="comment">#åœ¨[mysqld]ä¸­åŠ å…¥</span></span><br><span class="line">skip-grant-tables</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜é€€å‡ºåï¼Œé‡å¯mysql</span></span><br><span class="line">service mysqld restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ— éœ€å¯†ç ç›´æ¥è¿›å…¥</span></span><br><span class="line">mysql</span><br><span class="line"><span class="comment">#å…ˆçœ‹ä¸€ä¸‹ç”¨æˆ·çš„çŠ¶æ€ï¼Œåœ¨åˆ¤æ–­è¦åšä»€ä¹ˆæ“ä½œ</span></span><br><span class="line">select user, password, host from mysql.user;</span><br><span class="line"><span class="comment">#åˆ é™¤ä¸éœ€è¦çš„ç”¨æˆ·</span></span><br><span class="line">drop from mysql.user <span class="built_in">where</span> password=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">#æˆ–è€…æ›´æ–°ç”¨æˆ·å¯†ç </span></span><br><span class="line">update mysql.user <span class="built_in">set</span> password=password(<span class="string">&quot;ä½ çš„æ–°å¯†ç &quot;</span>) <span class="built_in">where</span> user=<span class="string">&quot;XXX&quot;</span>;</span><br><span class="line"><span class="comment">#å†™å…¥</span></span><br><span class="line">flush privileges;</span><br><span class="line"><span class="comment">#é€€å‡º</span></span><br><span class="line">\q</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯æœåŠ¡</span></span><br><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>Mysqlè¿ç§»</title>
    <url>/2018/01/24/Mysql%E8%BF%81%E7%A7%BB/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    ç”Ÿäº§ç¯å¢ƒä¸Šçš„MysqlæœåŠ¡å™¨èµ„æºæœ‰é™ï¼Œéœ€è¦è¿ç§»åˆ°å¦å¤–ä¸€å°èµ„æºæ›´å¤šçš„æœåŠ¡å™¨ã€‚</p>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ol>
<li>æ–°æœåŠ¡å™¨å®‰è£…mysqlï¼ˆå¦‚æœæœ¬èº«æœ‰Mysqlï¼Œé‡è£…Mysqlï¼Œä¸€å®šè¦é‡å¯æœåŠ¡;</li>
<li>å°†mysqlæœåŠ¡åŠ å…¥åˆ°å¼€æœºè‡ªå¯åˆ—è¡¨;</li>
<li>åœæœï¼Œå¤‡ä»½æ•°æ®;</li>
</ol>
<h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><ol>
<li><p>ç›®æ ‡æœåŠ¡å™¨ä¸Šæ–°å»ºMysqlç”¨æˆ·ã€æ•°æ®åº“ï¼›</p>
</li>
<li><p>ä¼ è¾“å¤‡ä»½è„šæœ¬ï¼›</p>
<p>åˆšå¼€å§‹ä½¿ç”¨scpå‘½ä»¤å°†å¤‡ä»½è„šæœ¬ä¼ è¾“åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œä½¿ç”¨Mysqlå‘½ä»¤æ¢å¤DBã€‚å¤‡ä»½è„šæœ¬500å¤šMï¼Œå‹ç¼©å150å¤šï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼å®åœ¨æ˜¯å¤ªæ…¢ã€‚</p>
<p>æ‘¸ç´¢å…¶ä»–æ–¹å¼ï¼Œæœ€åé€šè¿‡Mysql Workbenché‡Œçš„Schema Transfer WizardåŠŸèƒ½è¿›è¡ŒåŒæ­¥ï¼Œå¤§å¤§ç¼©çŸ­äº†åŒæ­¥æ—¶é—´ã€‚</p>
</li>
<li><p>åº”ç”¨è¿æ¥Mysqlè¿›è¡ŒéªŒè¯ï¼ŒæˆåŠŸï¼›</p>
</li>
</ol>
<h2 id="è°ƒä¼˜"><a href="#è°ƒä¼˜" class="headerlink" title="è°ƒä¼˜"></a>è°ƒä¼˜</h2><p>â€‹    è¿ç§»åˆ°æ–°æœåŠ¡å™¨ä¹‹åï¼Œæ£€æµ‹åˆ°åº”ç”¨å“åº”æ—¶é—´è¿‡é•¿ï¼Œä¸»è¦æ˜¯å› ä¸ºæ•°æ®åº“è¿”å›æ¯”è¾ƒæ…¢ã€‚å¯¹Mysqlè¿›è¡Œè°ƒä¼˜ï¼Œä¸»è¦æ˜¯å¼€å¯MysqlæŸ¥è¯¢ç¼“å­˜ï¼Œåº”ç”¨æ¢å¤æ­£å¸¸å“åº”é€Ÿåº¦ã€‚ä¸‹é¢åˆ—ä¸¾ä¸€äº›å¸¸ç”¨é…ç½®</p>
<ol>
<li><p>æŸ¥è¯¢ç¼“å­˜çš„è®¾ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹æŸ¥è¯¢ç¼“å­˜çš„è®¾ç½®</span><br><span class="line">#å¦‚ä¸‹å‚æ•°éƒ½å¯æ˜¯ä½¿ç”¨ select @@global.XXXX; å•ç‹¬æŸ¥è¯¢</span><br><span class="line">show variables like &#x27;%query_cache%&#x27;;</span><br><span class="line"></span><br><span class="line">hava_query_cache	æŸ¥è¯¢ç¼“å­˜æ˜¯å¦å¯ç”¨ï¼ŒYES/NO</span><br><span class="line"></span><br><span class="line">query_cache_limit	ç¼“å­˜å¤§å°ï¼Œè¶…è¿‡è¯¥å€¼ä¸ä¼šè¿›è¡Œç¼“å­˜ï¼Œé»˜è®¤1M</span><br><span class="line"></span><br><span class="line">query_cache_min_res_unit åŒåˆƒå‰‘ï¼Œé»˜è®¤4KBï¼Œè®¾ç½®å€¼å¤§å¯¹å¤§æ•°æ®æŸ¥è¯¢æœ‰å¥½å¤„ï¼Œå¦‚æœéƒ½æ˜¯å°æ•°æ®æŸ¥è¯¢ï¼Œæ˜“é€ æˆå†…å­˜ç¢ç‰‡å’Œæµªè´¹</span><br><span class="line"></span><br><span class="line">query_cache_size	ç¼“å­˜å†…å­˜å¤§å°ã€‚</span><br><span class="line">				è®¾ç½®æ–¹æ³•ï¼šset @@global.query_cache_size=1000000;</span><br><span class="line">				</span><br><span class="line">query_cache_type	æŸ¥è¯¢ç¼“å­˜æ˜¯å¦ä½¿ç”¨ï¼ŒOFF(0)/ON(1)/DEMAND(2)</span><br><span class="line">				å½“DEMANDæ—¶ï¼Œå¿…é¡»ä½¿ç”¨SQL_CACHEå…³é”®å­—æ‰ä¼šç¼“å­˜ï¼Œå¦‚select SQL_CACHE user_name from user;</span><br><span class="line">				å½“ONæ—¶ï¼Œä¸æƒ³ä½¿ç”¨ç¼“å­˜ä½¿ç”¨sql_no_cacheå…³é”®å­—ï¼Œå¦‚select sql_no_cache user_name from user;å¦å¤–ï¼ŒSQLä¸­æœ‰ç”¨åˆ°mysqlå‡½æ•°ä¹Ÿä¸ä¼šç¼“å­˜ã€‚</span><br><span class="line">				è®¾ç½®æ–¹æ³•ï¼š set session query_cache_type=off;</span><br><span class="line">				</span><br><span class="line">query_cache_wlock_invalidate	</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹æŸ¥è¯¢ç¼“å­˜çš„çŠ¶æ€</span><br><span class="line">show status like &#x27;%Qcache%&#x27;;</span><br><span class="line">Qcache_free_blocks	ç›®å‰å¤„äºç©ºé—²çŠ¶æ€çš„ Query Cacheä¸­å†…å­˜Blockæ•°é‡</span><br><span class="line">Qcache_free_memory	ç›®å‰å¤„äºç©ºé—²çŠ¶æ€çš„ Query Cacheå†…å­˜æ€»é‡</span><br><span class="line">Qcache_hits		Query Cache å‘½ä¸­æ¬¡æ•°</span><br><span class="line">Qcache_inserts		å‘ Query Cacheä¸­æ’å…¥æ–°çš„ Query Cacheçš„æ¬¡æ•°ï¼Œå³æ²¡å‘½ä¸­çš„æ¬¡æ•°</span><br><span class="line">Qcache_lowmem_prunes	å½“ Query Cacheå†…å­˜å®¹é‡ä¸èµ°ï¼Œåˆ é™¤è€çš„ Query Cacheç»™æ–°å¯¹è±¡çš„æ¬¡æ•°</span><br><span class="line">Qcache_not_cached	æ²¡æœ‰è¢«Cacheçš„SQLæ•°ï¼ŒåŒ…å«æ— æ³•è¢«Cacheçš„SQLã€ç”±äºquery_cache_typeè®¾ç½®ä¸ä¼šè¢«Cacheçš„SQL</span><br><span class="line">Qcache_queries_in_cache	ç›®å‰ Query Cacheä¸­çš„SQLæ•°é‡</span><br><span class="line">Qcache_total_blocks	Query Cacheä¸­æ€»Blockæ•°é‡</span><br><span class="line"></span><br><span class="line">#è°ƒä¼˜</span><br><span class="line">1. query_cache_min_res_unitçš„è®¾ç½®</span><br><span class="line">query_cache_min_res_unit = (query_cache_size - Qcache_free_memory)/ Qcache_queries_in_cache</span><br><span class="line"></span><br><span class="line">2. Qcache_Lowmem_pruneså€¼è¾ƒå¤§ï¼Œè¯´æ˜æŸ¥è¯¢ç¼“å­˜åŒºè¾ƒå°ï¼Œéœ€è°ƒå¤§ï¼›</span><br><span class="line"></span><br><span class="line">3. Qcache_free_blocks è¾ƒå¤šï¼Œè¯´æ˜å†…å­˜ç¢ç‰‡è¾ƒå¤šï¼Œéœ€æ¸…ç†ï¼ŒFLUSH QUERY CACHE</span><br><span class="line"></span><br><span class="line">4. æŸ¥è¯¢ç¼“å­˜ç¢ç‰‡ç‡ï¼š Qcache_free_blocks / Qcache_total_blocks * 100%</span><br><span class="line">è¯¥å€¼è¶…è¿‡20%ï¼Œä½¿ç”¨FLUSH QUERY CACHEæ•´ç†ç¼“å­˜ç¢ç‰‡ï¼Œæˆ–è€…è°ƒå°query_cache_min_res_unit</span><br><span class="line"></span><br><span class="line">5. æŸ¥è¯¢ç¼“å­˜åˆ©ç”¨ç‡ï¼š(query_cache_size - Qcache_free_memory) / query_cache_size * 100%</span><br><span class="line">è¯¥å€¼åœ¨25%ä»¥ä¸‹ï¼Œè¯´æ˜query_cache_sizè®¾ç½®è¿‡å¤§ï¼Œå¯é€‚å½“å‡å°ï¼›</span><br><span class="line">è¯¥å€¼åœ¨80%ä»¥ä¸Šï¼Œä¸”Qcache_lowmem_prunes &gt; 50ï¼Œè¯´æ˜query_cache_sizæœ‰ç‚¹å°ï¼Œæˆ–è€…ç¢ç‰‡å¤ªå¤§ï¼›</span><br><span class="line"></span><br><span class="line">6. æŸ¥è¯¢ç¼“å­˜å‘½ä¸­ç‡ï¼š(Qcache_hits - Qcache_inserts) / Qcache_hits * 100%</span><br><span class="line">è¯¥å€¼è¾ƒä½ï¼Œè¯´æ˜å†™æ“ä½œæ¯”è¾ƒé¢‘ç¹ï¼Œæˆ–è€…æœ‰äº›ç¢ç‰‡</span><br></pre></td></tr></table></figure></li>
<li><p>å…¶ä»–é…ç½®</p>
<p>å¤§éƒ¨åˆ†åº”ç”¨ï¼Œè®¾ç½®æŸ¥è¯¢ç¼“å­˜çš„é…ç½®å°±å¯ä»¥æ»¡è¶³éœ€è¦äº†ï¼Œå¦‚æœä¸å¤Ÿå¯ä»¥è®¾ç½®å…¶ä»–å‚æ•°</p>
<p><a href="http://blog.csdn.net/nightelve/article/details/17393631">http://blog.csdn.net/nightelve/article/details/17393631</a></p>
</li>
</ol>
<h2 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h2><p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œæœ‰æ—¶è®¾ç½®äº†å„é¡¹å‚æ•°è°ƒæ•´ä¹‹åï¼ŒMysqlååº”è¿˜æ˜¯å¾ˆæ…¢ï¼Œè¿™æ—¶å€™å¯ä»¥æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œæœ‰å¯èƒ½æ˜¯ç£ç›˜å®¹é‡ä¸å¤Ÿï¼Œé™åˆ¶äº†è¯»å†™å¯¼è‡´æŸ¥è¯¢æ•ˆç‡ä½ã€‚</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title>Mysqlé‡è£…åæ— æ³•æ­£å¸¸å¯åŠ¨</title>
    <url>/2018/01/17/Mysql%E9%87%8D%E8%A3%85%E5%90%8E%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    æœ€è¿‘åœ¨åšæœåŠ¡å™¨ä¸Šçš„DBè¿ç§»ï¼ŒæœåŠ¡å™¨ä¸Šçš„Mysqlé‡æ–°å®‰è£…åæ— æ³•æ­£å¸¸å¯åŠ¨æœåŠ¡ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯æ­£å¸¸ã€‚</p>
<p>â€‹    å½“ä½¿ç”¨mysql -uroot -på‘½ä»¤ç™»å½•æ—¶ï¼ŒæŠ¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can&#x27;t connect to local MySQL server through socket &#x27;/var/lib/mysql/mysql.sock&#x27; (2)</span><br></pre></td></tr></table></figure>



<p>â€‹    æ€€ç–‘æœåŠ¡æ²¡æœ‰å¯åŠ¨ï¼Œå¯åŠ¨æœåŠ¡æ—¶service mysqld startï¼ŒæŠ¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MySQL Daemon failed to start.</span><br><span class="line"></span><br><span class="line">Starting mysqld:   [FAILED]</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†"><a href="#å¤„ç†" class="headerlink" title="å¤„ç†"></a>å¤„ç†</h2><p>â€‹    ç™¾åº¦äº†ä¸€ä¸‹ï¼Œæœ‰çš„è¯´æ²¡æœ‰æƒé™ï¼Œéœ€è¦æˆæƒï¼Œæœ‰çš„è¯´éœ€è¦åœ¨/etc/my.cnfä¸­åŠ é…ç½®ã€‚è¯•è¿‡éƒ½ä¸è¡Œã€‚æœ€åå°è¯•å°†mysqlæ‰€æœ‰æ–‡ä»¶åˆ æ‰ï¼Œæ€æ‰æ‰€æœ‰è¿›ç¨‹é‡å¯ï¼Œç»ˆäºæˆåŠŸã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//åˆ é™¤æ–‡ä»¶ã€è‡ªå¯æœåŠ¡ã€æ€æ‰è¿›ç¨‹</span><br><span class="line">rm -rf /var/lib/mysql/</span><br><span class="line">rm /var/lock/subsys/mysqld</span><br><span class="line">killall mysqld</span><br><span class="line"></span><br><span class="line">//å¯åŠ¨æœåŠ¡</span><br><span class="line">service mysqld start</span><br></pre></td></tr></table></figure>

<h2 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h2><p>â€‹    é™¤äº†ä»¥ä¸Šæƒ…å†µå‡ºç°â€œERROR 2002 (HY000) Canâ€™t connect to local MySQL server through socket â€˜/var/lib/mysql/mysql.sockâ€™ (2)â€æŠ¥é”™ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œå·²ç»å®‰è£…å¥½mysqlæœåŠ¡ï¼Œç„¶åå°†mysqlç§»åŠ¨åˆ°å¦å¤–çš„ç›®å½•ï¼Œå¯åŠ¨mysqlæ—¶æ‰¾ä¸åˆ°mysql.sockï¼Œæ˜¯å› ä¸ºmy.cnfä¸­é…ç½®çš„è·¯å¾„è¿˜æ˜¯åŸæ¥çš„ç›®å½•ï¼Œå°†my.cnfä¸­çš„é…ç½®ä¿®æ”¹å°±å¯ä»¥äº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç¼–è¾‘my.cnfï¼Œäº‹å…ˆå¯ä»¥ä½¿ç”¨cpå‘½ä»¤å¤‡ä»½</span></span><br><span class="line">vim /etc/my.cnf</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹æ–°çš„ç›®å½•ï¼Œæˆ‘çš„æ˜¯/data1/mysql</span></span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/data1/mysql</span><br><span class="line">socket=/data1/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">socket=/data1/mysql/mysql.sock</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>NodeJså®‰è£…ä¸å‡çº§</title>
    <url>/2020/10/14/NodeJs%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%87%E7%BA%A7/</url>
    <content><![CDATA[<h1 id="NodeJså®‰è£…"><a href="#NodeJså®‰è£…" class="headerlink" title="NodeJså®‰è£…"></a>NodeJså®‰è£…</h1><p>é¦–å…ˆå®‰è£…homebrew</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨brewå®‰è£…node</span></span><br><span class="line">brew install node</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åæŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<h1 id="NodeJså‡çº§"><a href="#NodeJså‡çº§" class="headerlink" title="NodeJså‡çº§"></a>NodeJså‡çº§</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¸…æ¥šnodeçš„ç¼“å­˜</span></span><br><span class="line">sudo npm cache clean -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…n</span></span><br><span class="line">sudo npm install -g n</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨nå®‰è£…æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬</span></span><br><span class="line">sudo n stable</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡çº§npm</span></span><br><span class="line">sudo npm install npm -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># nodeæ‰€æœ‰ç‰ˆæœ¬</span></span><br><span class="line">npm view node versions </span><br><span class="line"><span class="comment"># npmæ‰€æœ‰ç‰ˆæœ¬</span></span><br><span class="line">npm view npm versions </span><br><span class="line"><span class="comment"># å·²å®‰è£…æ’ä»¶</span></span><br><span class="line">npm list</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Frontend</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginxå¤‡å¿˜å½•</title>
    <url>/2019/11/12/Nginx%E5%A4%87%E5%BF%98%E5%BD%95/</url>
    <content><![CDATA[<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># centos</span></span><br><span class="line">yum install nginx</span><br><span class="line"><span class="comment"># ubuntu</span></span><br><span class="line">sudo apt-get install nginx;</span><br><span class="line"><span class="comment"># mac</span></span><br><span class="line">brew install nginx</span><br><span class="line"><span class="comment"># æˆ–è€…ç¼–è¯‘æºç åŒ…ï¼Œä¸æ¨èã€‚</span></span><br><span class="line"><span class="comment"># å…ˆä¸‹è½½ï¼Œè§£å‹</span></span><br><span class="line">./configure			<span class="comment"># å¯ä»¥é€šè¿‡-prefix=PATH æŒ‡å®šå®‰è£…ç›®å½•</span></span><br><span class="line">make &amp; make install</span><br></pre></td></tr></table></figure>

<h1 id="ç›¸å…³å‘½ä»¤"><a href="#ç›¸å…³å‘½ä»¤" class="headerlink" title="ç›¸å…³å‘½ä»¤"></a>ç›¸å…³å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># macä¸­nginxé»˜è®¤å®‰è£…åœ¨/usr/local/Cellar/nginxï¼ŒåŒæ—¶ä¹Ÿä¼šåŠ å…¥åˆ°/usr/local/binï¼Œè¿›å…¥</span></span><br><span class="line"><span class="comment"># å¯åŠ¨ã€‚é»˜è®¤åŠ è½½confä¸­çš„nginx.confé…ç½®æ–‡ä»¶</span></span><br><span class="line">./nginx æˆ– ./nginx -s start</span><br><span class="line"><span class="comment"># çƒ­å¯åŠ¨(ä¸downæœºæ›´æ–°é…ç½®)</span></span><br><span class="line">./nginx -s reload</span><br><span class="line"><span class="comment"># å…³é—­</span></span><br><span class="line">./nginx -s stop</span><br><span class="line"><span class="comment"># ä¿®æ”¹*.confé…ç½®æ–‡ä»¶åï¼Œæ£€æŸ¥è¯­æ³•æ˜¯å¦æ­£å¸¸</span></span><br><span class="line">nginx -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># httpé»˜è®¤ç«¯å£80</span></span><br><span class="line"><span class="comment"># httpsé»˜è®¤ç«¯å£443</span></span><br></pre></td></tr></table></figure>

<h1 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># nginxç›®å½•ä¸‹</span></span><br><span class="line">confg/	<span class="comment"># é…ç½®æ–‡ä»¶ç›®å½•</span></span><br><span class="line">logs/	<span class="comment"># æ—¥å¿—ç›®å½•</span></span><br><span class="line">html/	<span class="comment"># ç½‘ç«™æ–‡ä»¶ç›®å½•</span></span><br><span class="line">sbin/	<span class="comment"># å‘½ä»¤ç›®å½•</span></span><br><span class="line">conf.d/	<span class="comment"># æœ‰äº›å®‰è£…å®Œæˆä¹‹åä¼šæœ‰è¿™ä¸ªç›®å½•ï¼Œä¹Ÿæ˜¯é…ç½®ç›®å½•ã€‚nginxå¯åŠ¨æ—¶ä¼šä¼˜å…ˆå»åŠ è½½config/nginx.confï¼Œå¦‚æœæ²¡æœ‰ï¼ŒåŠ è½½è¯¥ç›®å½•ä¸­çš„é…ç½®ã€‚</span></span><br></pre></td></tr></table></figure>

<h1 id="nginx-confé…ç½®"><a href="#nginx-confé…ç½®" class="headerlink" title="nginx.confé…ç½®"></a>nginx.confé…ç½®</h1><p>ä½¿ç”¨macçš„brewå®‰è£…ï¼Œç›®å½•åœ¨/usr/local/etc/nginx</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">main</span></span><br><span class="line">events &#123;</span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">  ....</span><br><span class="line">  <span class="attribute">upstream</span> myproject &#123;</span><br><span class="line">    .....</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="section">server</span> &#123;</span><br><span class="line">    ....</span><br><span class="line">    <span class="section">location</span> &#123;</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="section">server</span> &#123;</span><br><span class="line">    ....</span><br><span class="line">    <span class="section">location</span> &#123;</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>nginxé…ç½®æ–‡ä»¶ä¸»è¦åˆ†ä¸ºå…­ä¸ªåŒºåŸŸï¼š<br><code>main(å…¨å±€è®¾ç½®)</code>ã€<code>events(nginxå·¥ä½œæ¨¡å¼)</code>ã€<code>http(httpè®¾ç½®)</code>ã€<br><code>sever(ä¸»æœºè®¾ç½®)</code>ã€<code>location(URLåŒ¹é…)</code>ã€<code>upstream(è´Ÿè½½å‡è¡¡æœåŠ¡å™¨è®¾ç½®)</code>ã€‚</p>
<h2 id="mainæ¨¡å—"><a href="#mainæ¨¡å—" class="headerlink" title="mainæ¨¡å—"></a>mainæ¨¡å—</h2><p>mainæ˜¯å…¨å±€é…ç½®ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">user</span> nobody nobody;</span><br><span class="line"><span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®æƒ…å†µè‡ªå·±åˆ¶å®šæ—¥å¿—ç›®å½•</span></span><br><span class="line"><span class="attribute">error_log</span>  /usr/local/var/nginx/error.log  <span class="literal">notice</span>;</span><br><span class="line"><span class="attribute">pid</span>        /usr/local/var/nginx/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span> <span class="number">100000</span>;</span><br></pre></td></tr></table></figure>

<p><code>user</code> æ¥æŒ‡å®šNginx Workerè¿›ç¨‹è¿è¡Œç”¨æˆ·ä»¥åŠç”¨æˆ·ç»„ï¼Œé»˜è®¤ç”±nobodyè´¦å·è¿è¡Œã€‚</p>
<p><code>worker_processes</code>æ¥æŒ‡å®šäº†Nginxè¦å¼€å¯çš„å­è¿›ç¨‹æ•°ã€‚æ¯ä¸ªNginxè¿›ç¨‹å¹³å‡è€—è´¹10M~12Må†…å­˜ã€‚æœ€ä¼˜å€¼å–å†³äºè®¸å¤šå› ç´ ï¼ŒåŒ…æ‹¬ï¼ˆä½†ä¸é™äºï¼‰CPUæ ¸çš„æ•°é‡ã€å­˜å‚¨æ•°æ®çš„ç¡¬ç›˜æ•°é‡åŠè´Ÿè½½æ¨¡å¼ã€‚ä¸èƒ½ç¡®å®šçš„æ—¶å€™ï¼Œå°†å…¶è®¾ç½®ä¸ºå¯ç”¨çš„CPUå†…æ ¸æ•°å°†æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼ˆè®¾ç½®ä¸ºâ€œautoâ€å°†å°è¯•è‡ªåŠ¨æ£€æµ‹å®ƒï¼‰ã€‚è¯¥å€¼è®¾ç½®çš„æ˜¯å­è¿›ç¨‹workeræ•°é‡ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªä¸»è¿›ç¨‹masterï¼Œæ¯”å¦‚è®¾ç½®å€¼ä¸º2æ—¶ï¼Œæ€»å…±æœ‰3ä¸ªè¿›ç¨‹ã€‚</p>
<p><code>error_log</code>ç”¨æ¥å®šä¹‰å…¨å±€é”™è¯¯æ—¥å¿—æ–‡ä»¶ã€‚æ—¥å¿—è¾“å‡ºçº§åˆ«æœ‰debugã€infoã€noticeã€warnã€errorã€critå¯ä¾›é€‰æ‹©ï¼Œå…¶ä¸­ï¼Œdebugè¾“å‡ºæ—¥å¿—æœ€ä¸ºæœ€è¯¦ç»†ï¼Œè€Œcritè¾“å‡ºæ—¥å¿—æœ€å°‘ã€‚</p>
<p><code>pid</code>ç”¨æ¥æŒ‡å®šè¿›ç¨‹idçš„å­˜å‚¨æ–‡ä»¶ä½ç½®ã€‚</p>
<p><code>worker_rlimit_nofile</code>ç”¨äºæŒ‡å®šä¸€ä¸ªnginxè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤šæ–‡ä»¶æè¿°ç¬¦æ•°ç›®ï¼Œå—é™äºæ“ä½œç³»ç»Ÿçš„é…ç½®ã€‚å¦‚æœä½ çš„nginxæŠ¥é”™â€œtoo many open filesâ€ï¼Œå°±æ˜¯æ“ä½œç³»ç»Ÿçš„å€¼æ¯”ä½ è®¾ç½®çš„å€¼å°ã€‚å¯ä»¥é€šè¿‡<code>ulimit -n</code>æŸ¥çœ‹æ“ä½œç³»ç»Ÿçš„å€¼ã€‚é€šè¿‡<code>ulimit -n 65535</code>ä¿®æ”¹ï¼Œè¯¥å‘½ä»¤å°†æ“ä½œç³»ç»Ÿä¿®æ”¹ä¸º65535ã€‚</p>
<h2 id="eventsæ¨¡å—"><a href="#eventsæ¨¡å—" class="headerlink" title="eventsæ¨¡å—"></a>eventsæ¨¡å—</h2><p>eventsæ¨¡å—æ¥ç”¨æŒ‡å®šnginxçš„å·¥ä½œæ¨¡å¼å’Œå·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">use</span> <span class="literal">kqueue</span>; <span class="comment">#macå¹³å°</span></span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>use</code>ç”¨æ¥æŒ‡å®šNginxçš„å·¥ä½œæ¨¡å¼ã€‚Nginxæ”¯æŒçš„å·¥ä½œæ¨¡å¼æœ‰selectã€pollã€kqueueã€epollã€rtsigå’Œ/dev/pollã€‚å…¶ä¸­selectå’Œpolléƒ½æ˜¯æ ‡å‡†çš„å·¥ä½œæ¨¡å¼ï¼Œkqueueå’Œepollæ˜¯é«˜æ•ˆçš„å·¥ä½œæ¨¡å¼ï¼Œä¸åŒçš„æ˜¯epollç”¨åœ¨Linuxå¹³å°ä¸Šï¼Œè€Œkqueueç”¨åœ¨BSDç³»ç»Ÿä¸­ï¼Œå› ä¸ºMacåŸºäºBSD,æ‰€ä»¥Macä¹Ÿå¾—ç”¨è¿™ä¸ªæ¨¡å¼ï¼Œå¯¹äºLinuxç³»ç»Ÿï¼Œepollå·¥ä½œæ¨¡å¼æ˜¯é¦–é€‰ã€‚</p>
<p><code>worker_connections</code>ç”¨äºå®šä¹‰Nginxæ¯ä¸ªè¿›ç¨‹çš„æœ€å¤§è¿æ¥æ•°ï¼Œå³æ¥æ”¶å‰ç«¯çš„æœ€å¤§è¯·æ±‚æ•°ï¼Œé»˜è®¤æ˜¯1024ã€‚æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ç”±<code>worker_processes</code>å’Œ<code>worker_connections</code>å†³å®š,å³<code>Max_clients=worker_processes*worker_connections</code>ã€‚åœ¨ä½œä¸ºåå‘ä»£ç†æ—¶ï¼ŒMax_clientså˜ä¸ºï¼š<code>Max_clients = worker_processes * worker_connections/4</code>ã€‚ï¼ˆå…³äºmax_clientså€¼çš„è®¡ç®—ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿæ²¡æœ‰ç»™å‡ºæ˜ç¡®å…¬å¼ï¼Œç½‘ä¸Šè¯´æ³•ä¹Ÿä¸ä¸€ã€‚å¯ä»¥çœ‹ä¸‹è¿™ä¸ªï¼Œæˆ‘è§‰å¾—è¿˜æŒºé è°±ï¼š<a href="https://www.cnblogs.com/tangchuanyang/p/6076725.html">Max_clientsè®¡ç®—å…¬å¼</a>ï¼‰<br>è¿›ç¨‹çš„æœ€å¤§è¿æ¥æ•°å—Linuxç³»ç»Ÿè¿›ç¨‹çš„æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼ˆæ¯ä¸ªTCPè¿æ¥éƒ½è¦åˆ›å»ºä¸€ä¸ªsocketå¥æŸ„ï¼Œæ¯ä¸ªsocketå¥æŸ„åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼‰ï¼Œåªæœ‰æ“ä½œç³»ç»Ÿä¸­çš„<code>ulimit -n</code>çš„å€¼æ¯”worker_connectionsçš„å€¼å¤§ï¼Œè¯¥è®¾ç½®æ‰æœ‰æ•ˆã€‚</p>
<h2 id="httpæ¨¡å—"><a href="#httpæ¨¡å—" class="headerlink" title="httpæ¨¡å—"></a>httpæ¨¡å—</h2><p>httpæ¨¡å—æ˜¯æœ€æ ¸å¿ƒçš„æ¨¡å—ï¼Œå®ƒè´Ÿè´£HTTPæœåŠ¡å™¨ç›¸å…³å±æ€§çš„é…ç½®ï¼Œä¸»è¦åŒ…å«serverå’Œupstreamå­æ¨¡å—ã€‚</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line">    <span class="attribute">log_format</span>  myFormat  <span class="string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;</span>;</span><br><span class="line">    <span class="attribute">access_log</span>  /usr/local/var/nginx/access.log  myFormat;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">server_tokens</span> <span class="literal">on</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nopush</span>      <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nodelay</span>     <span class="literal">on</span>;</span><br><span class="line">    </span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>include</code> å¯ä»¥ç”¨æ¥åŠ è½½å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œå¦‚<code>include /etc/nginx/conf.d/*.conf</code>ã€‚ä¸Šä¾‹ä¸­ç”¨æ¥å¼•å…¥è®¾å®šæ–‡ä»¶çš„mimeç±»å‹ï¼Œç±»å‹åœ¨é…ç½®æ–‡ä»¶ç›®å½•ä¸‹çš„mime.typeæ–‡ä»¶å®šä¹‰ï¼Œæ¥å‘Šè¯‰nginxæ¥è¯†åˆ«æ–‡ä»¶ç±»å‹ã€‚</p>
<p><code>default_type</code>é»˜è®¤æ–‡ä»¶ç±»å‹ï¼Œå½“æ–‡ä»¶ç±»å‹æœªå®šä¹‰æ—¶ä½¿ç”¨è¯¥å€¼ï¼Œå€¼é»˜è®¤ä¸º<code>text/plain</code>ã€‚é€šå¸¸ä¿®æ”¹ä¸º<code>application/octet-stream</code>ï¼Œä½¿ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼è§£æã€‚</p>
<p><code>log_format</code>è®¾ç½®æ—¥å¿—çš„æ ¼å¼ï¼Œ<code>myFormat</code>ç›¸å½“äºåˆ«åï¼Œé…åˆ<code>access_log</code>ä½¿ç”¨ã€‚</p>
<p><code>access_log</code> è®¿é—®æ—¥å¿—å­˜æ”¾ç›®å½•ã€‚nginxè°ƒä¼˜æ—¶å¯ä»¥å…³é—­è¯¥åŠŸèƒ½ï¼Œæé«˜ç£ç›˜IOè¯»å†™é€Ÿåº¦ã€‚</p>
<p><code>server_tokens</code> å¯¹äºæ€§èƒ½æ²¡æœ‰ä¼˜åŒ–ï¼Œå½“è®¿é—®å¤±è´¥æ—¶ï¼Œå¯ä»¥éšè—nginxç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<p><code>sendfile</code> å¯ä»¥ä½¿ç”¨sendfile()ï¼Œä½¿æ–‡ä»¶ä¼ è¾“æ›´é«˜æ•ˆã€‚ä¼ è¾“æ–‡ä»¶æ¶‰åŠåˆ°å°†å†…å®¹ä»ç£ç›˜è¯»å–ï¼Œå†™åˆ°Tcpè¿æ¥çš„è¿‡ç¨‹ã€‚è¯¥é¡¹å…³é—­æ—¶çš„æµç¨‹æ˜¯ï¼ŒPre-sendfileæ˜¯ä¼ é€æ•°æ®ä¹‹å‰åœ¨ç”¨æˆ·ç©ºé—´ç”³è¯·æ•°æ®ç¼“å†²åŒºã€‚ä¹‹åç”¨read()å°†æ•°æ®ä»æ–‡ä»¶æ‹·è´åˆ°å†…æ ¸è¯»å–ç¼“å†²åŒºï¼Œå†ä»å†…æ ¸è¯»å–ç¼“å†²åŒºè¯»åˆ°ç”¨æˆ·ç¼“å†²åŒºï¼Œwrite()å°†ç”¨æˆ·ç¼“å†²åŒºæ•°æ®å†™åˆ°å†…æ ¸Socketç¼“å†²åŒºï¼Œå†å†™å…¥ç½‘ç»œåè®®å¼•æ“ï¼Œè¿›è¡Œä¼ è¾“ã€‚sendfile()å¯ä»¥åœ¨ä»»æ„ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ä¹‹é—´äº’ç›¸æ‹·è´æ•°æ®ï¼Œè€Œsendfile()æ˜¯å¯ä»¥ç«‹å³å°†æ•°æ®ä»ç£ç›˜è¯»ï¼Œç»OSç¼“å­˜ï¼Œå†™å…¥TCP socketï¼Œä¸ç»è¿‡ç”¨æˆ·ç¼“å†²åŒºã€‚å› ä¸ºè¿™ç§æ‹·è´æ˜¯åœ¨å†…æ ¸å®Œæˆçš„ï¼ˆé¿å…äº†å†…æ ¸ç¼“å†²åŒºå’Œç”¨æˆ·ç¼“å†²åŒºä¹‹é—´çš„æ•°æ®æ‹·è´ï¼‰ï¼Œsendfile()è¦æ¯”ç»„åˆread()å’Œwrite()ä»¥åŠæ‰“å¼€å…³é—­ä¸¢å¼ƒç¼“å†²æ›´åŠ æœ‰æ•ˆã€‚</p>
<p><code>tcp_nopush</code> å‘Šè¯‰nginxåœ¨ä¸€ä¸ªæ•°æ®åŒ…é‡Œå‘é€æ‰€æœ‰å¤´æ–‡ä»¶ï¼Œè€Œä¸ä¸€ä¸ªæ¥ä¸€ä¸ªçš„å‘é€ã€‚</p>
<p><code>tcp_nodelay</code> å‘Šè¯‰nginxä¸è¦ç¼“å­˜æ•°æ®ï¼Œè€Œæ˜¯ä¸€æ®µä¸€æ®µçš„å‘é€ã€‚å½“éœ€è¦åŠæ—¶å‘é€æ•°æ®æ—¶ï¼Œå°±åº”è¯¥ç»™åº”ç”¨è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œè¿™æ ·å‘é€ä¸€å°å—æ•°æ®ä¿¡æ¯æ—¶å°±ä¸èƒ½ç«‹å³å¾—åˆ°è¿”å›å€¼ã€‚<code>tcp_nopush</code>å’Œ<code>tcp_nodelay</code>ä¸¤ä¸ªæŒ‡ä»¤è®¾ç½®ä¸ºonç”¨äºé˜²æ­¢ç½‘ç»œé˜»å¡ã€‚</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">	</span><br><span class="line">  <span class="attribute">keepalive_timeout</span>  <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">  <span class="attribute">client_header_timeout</span> <span class="number">10</span>;</span><br><span class="line">	<span class="attribute">client_body_timeout</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	<span class="attribute">reset_timedout_connection</span> <span class="literal">on</span>;</span><br><span class="line">	<span class="attribute">send_timeout</span> <span class="number">10</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="attribute">limit_conn_zone</span> $binary_remote_addr zone=addr:<span class="number">5m</span>;</span><br><span class="line">	<span class="attribute">limit_conn</span> addr <span class="number">100</span>;</span><br><span class="line">	</span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>keepalive_timeout</code>è®¾ç½®å®¢æˆ·ç«¯è¿æ¥ä¿æŒæ´»åŠ¨çš„è¶…æ—¶æ—¶é—´ã€‚åœ¨è¶…è¿‡è¿™ä¸ªæ—¶é—´ä¹‹åï¼ŒæœåŠ¡å™¨ä¼šå…³é—­è¯¥è¿æ¥ã€‚</p>
<p><code>client_header_timeout</code> è¯·æ±‚å¤´è¶…æ—¶æ—¶é—´ã€‚</p>
<p><code>client_body_timeout</code> è¯·æ±‚ä½“è¶…æ—¶æ—¶é—´ã€‚</p>
<p><code>reset_timeout_connection</code> å…³é—­ä¸å“åº”çš„å®¢æˆ·ç«¯è¿æ¥ã€‚è¿™å°†ä¼šé‡Šæ”¾é‚£ä¸ªå®¢æˆ·ç«¯æ‰€å æœ‰çš„å†…å­˜ç©ºé—´ã€‚</p>
<p><code>send_timeout</code>  æŒ‡å®šå®¢æˆ·ç«¯çš„å“åº”è¶…æ—¶æ—¶é—´ã€‚è¿™ä¸ªè®¾ç½®ä¸ä¼šç”¨äºæ•´ä¸ªè½¬å‘å™¨ï¼Œè€Œæ˜¯åœ¨ä¸¤æ¬¡å®¢æˆ·ç«¯è¯»å–æ“ä½œä¹‹é—´ã€‚å¦‚æœåœ¨è¿™æ®µæ—¶é—´å†…ï¼Œå®¢æˆ·ç«¯æ²¡æœ‰è¯»å–ä»»ä½•æ•°æ®ï¼Œnginxå°±ä¼šå…³é—­è¿æ¥ã€‚</p>
<p><code>limit_conn_zone</code> è®¾ç½®addrè¿æ¥çš„å…±äº«å†…å­˜ä¸º5mã€‚$binary_remote_addrçš„é•¿åº¦ä¸º 4 bytesï¼Œä¼šè¯ä¿¡æ¯çš„é•¿åº¦ä¸º 32 bytesï¼Œ5må¤§çº¦å¯ä»¥è®°å½•<code>5*1k*32 </code>ä¸ªä¼šè¯ä¿¡æ¯ï¼ˆä¸€ä¸ªä¼šè¯å ç”¨ 32 bytesã€‚å¦‚æœä¸€ä¸ªä¼šè¯å ç”¨64bytesï¼Œå¯ä¿å­˜<code>5*1k*16</code>ä¸ªä¼šè¯ï¼‰ã€‚</p>
<p><code>limit_conn</code> è®¾ç½®addrçš„æœ€å¤§è¿æ¥æ•°ä¸º100ï¼Œæ¯ä¸ªipæœ€å¤šåŒæ—¶å¼€100ä¸ªè¿æ¥ã€‚</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">	</span><br><span class="line">	<span class="comment"># gzipé…ç½®ï¼Œå¯æ ¹æ®æƒ…å†µå…³é—­</span></span><br><span class="line">    <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">gzip_disable</span> <span class="string">&quot;msie6&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># gzip_static on;</span></span><br><span class="line">    <span class="attribute">gzip_proxied</span> any;</span><br><span class="line">    <span class="attribute">gzip_min_length</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;</span><br><span class="line">	</span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>gzip</code> é‡‡ç”¨gzipå‹ç¼©çš„å½¢å¼å‘é€æ•°æ®ã€‚å¯ä»¥å‡å°‘å‘é€çš„æ•°æ®é‡ã€‚</p>
<p><code>gzip_disable</code>ä¸ºæŒ‡å®šçš„å®¢æˆ·ç«¯ç¦ç”¨gzipåŠŸèƒ½ã€‚æˆ‘ä»¬è®¾ç½®æˆIE6æˆ–è€…æ›´ä½ç‰ˆæœ¬ä»¥ä½¿æˆ‘ä»¬çš„æ–¹æ¡ˆèƒ½å¤Ÿå¹¿æ³›å…¼å®¹ã€‚</p>
<p><code>gzip_static</code>å‘Šè¯‰nginxåœ¨å‹ç¼©èµ„æºä¹‹å‰ï¼Œå…ˆæŸ¥æ‰¾æ˜¯å¦æœ‰é¢„å…ˆgzipå¤„ç†è¿‡çš„èµ„æºã€‚è¿™è¦æ±‚ä½ é¢„å…ˆå‹ç¼©ä½ çš„æ–‡ä»¶ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­è¢«æ³¨é‡Šæ‰äº†ï¼‰ï¼Œä»è€Œå…è®¸ä½ ä½¿ç”¨æœ€é«˜å‹ç¼©æ¯”ï¼Œè¿™æ ·nginxå°±ä¸ç”¨å†å‹ç¼©è¿™äº›æ–‡ä»¶äº†ï¼ˆæƒ³è¦æ›´è¯¦å°½çš„gzip_staticçš„ä¿¡æ¯ï¼Œè¯·ç‚¹å‡»è¿™é‡Œï¼‰ã€‚</p>
<p><code>gzip_proxied</code>å…è®¸æˆ–è€…ç¦æ­¢å‹ç¼©åŸºäºè¯·æ±‚å’Œå“åº”çš„å“åº”æµã€‚æˆ‘ä»¬è®¾ç½®ä¸ºanyï¼Œæ„å‘³ç€å°†ä¼šå‹ç¼©æ‰€æœ‰çš„è¯·æ±‚ã€‚</p>
<p><code>gzip_min_length</code>è®¾ç½®å¯¹æ•°æ®å¯ç”¨å‹ç¼©çš„æœ€å°‘å­—èŠ‚æ•°ã€‚å¦‚æœä¸€ä¸ªè¯·æ±‚å°äº1000å­—èŠ‚ï¼Œæˆ‘ä»¬æœ€å¥½ä¸è¦å‹ç¼©å®ƒï¼Œå› ä¸ºå‹ç¼©è¿™äº›å°çš„æ•°æ®ä¼šé™ä½å¤„ç†æ­¤è¯·æ±‚çš„æ‰€æœ‰è¿›ç¨‹çš„é€Ÿåº¦ã€‚</p>
<p><code>gzip_comp_level</code>è®¾ç½®æ•°æ®çš„å‹ç¼©ç­‰çº§ã€‚è¿™ä¸ªç­‰çº§å¯ä»¥æ˜¯1-9ä¹‹é—´çš„ä»»æ„æ•°å€¼ï¼Œ9æ˜¯æœ€æ…¢ä½†æ˜¯å‹ç¼©æ¯”æœ€å¤§çš„ã€‚æˆ‘ä»¬è®¾ç½®ä¸º4ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæŠ˜ä¸­çš„è®¾ç½®ã€‚</p>
<p><code>gzip_types</code>è®¾ç½®éœ€è¦å‹ç¼©çš„æ•°æ®æ ¼å¼ã€‚</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">	</span><br><span class="line">	<span class="comment"># æ–‡ä»¶é…ç½®ï¼Œå¯æ ¹æ®æƒ…å†µé…ç½®ï¼Œç°åœ¨å¥½å¤šéƒ½ä¸é…ç½®äº†ï¼Œä»…å½“äº†è§£å§</span></span><br><span class="line">    <span class="attribute">open_file_cache</span> max=<span class="number">100000</span> inactive=<span class="number">20s</span>; </span><br><span class="line">    <span class="attribute">open_file_cache_valid</span> <span class="number">30s</span>; </span><br><span class="line">    <span class="attribute">open_file_cache_min_uses</span> <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">open_file_cache_errors</span> <span class="literal">on</span>;</span><br><span class="line">	</span><br><span class="line">	Â·Â·Â·Â·Â·Â·</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>open_file_cache</code>æ‰“å¼€ç¼“å­˜çš„åŒæ—¶ä¹ŸæŒ‡å®šäº†ç¼“å­˜æœ€å¤§æ•°ç›®ï¼Œä»¥åŠç¼“å­˜çš„æ—¶é—´ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªç›¸å¯¹é«˜çš„æœ€å¤§æ—¶é—´ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨å®ƒä»¬ä¸æ´»åŠ¨è¶…è¿‡20ç§’åæ¸…é™¤æ‰ã€‚</p>
<p><code>open_file_cache_valid</code> åœ¨open_file_cacheä¸­æŒ‡å®šæ£€æµ‹æ­£ç¡®ä¿¡æ¯çš„é—´éš”æ—¶é—´ã€‚</p>
<p><code>open_file_cache_min_uses</code> å®šä¹‰äº†open_file_cacheä¸­æŒ‡ä»¤å‚æ•°ä¸æ´»åŠ¨æ—¶é—´æœŸé—´é‡Œæœ€å°çš„æ–‡ä»¶æ•°ã€‚</p>
<p><code>open_file_cache_errors</code>æŒ‡å®šäº†å½“æœç´¢ä¸€ä¸ªæ–‡ä»¶æ—¶æ˜¯å¦ç¼“å­˜é”™è¯¯ä¿¡æ¯ï¼Œä¹ŸåŒ…æ‹¬å†æ¬¡ç»™é…ç½®ä¸­æ·»åŠ æ–‡ä»¶ã€‚æˆ‘ä»¬ä¹ŸåŒ…æ‹¬äº†æœåŠ¡å™¨æ¨¡å—ï¼Œè¿™äº›æ˜¯åœ¨ä¸åŒæ–‡ä»¶ä¸­å®šä¹‰çš„ã€‚å¦‚æœä½ çš„æœåŠ¡å™¨æ¨¡å—ä¸åœ¨è¿™äº›ä½ç½®ï¼Œä½ å°±å¾—ä¿®æ”¹è¿™ä¸€è¡Œæ¥æŒ‡å®šæ­£ç¡®çš„ä½ç½®ã€‚</p>
<h2 id="serveræ¨¡å—"><a href="#serveræ¨¡å—" class="headerlink" title="serveræ¨¡å—"></a>serveræ¨¡å—</h2><p>serveræ¨¡å—æ˜¯httpçš„å­æ¨¡å—ï¼Œç”¨æ¥å®šä¹‰è™šæ‹Ÿä¸»æœºçš„é…ç½®ã€‚ä¸€ä¸ªhttpä¸­å¯ä»¥æœ‰å¤šä¸ªserverã€‚</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">8080</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  localhost <span class="number">127.0.0.1</span> www.xxx.com;</span><br><span class="line">        <span class="comment"># å…¨å±€å®šä¹‰ï¼Œå¦‚æœéƒ½æ˜¯è¿™ä¸€ä¸ªç›®å½•ï¼Œè¿™æ ·å®šä¹‰æœ€ç®€å•ã€‚</span></span><br><span class="line">        <span class="attribute">root</span>   /Users/xxx/www;</span><br><span class="line">        <span class="attribute">index</span>  index.php index.html index.htm; </span><br><span class="line">        <span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line">        <span class="attribute">access_log</span>  usr/local/var/host.access.log  main;</span><br><span class="line">        <span class="attribute">aerror_log</span>  usr/local/var/host.<span class="literal">error</span>.log  <span class="literal">error</span>;</span><br><span class="line">        ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>listen</code>ç”¨äºæŒ‡å®šè™šæ‹Ÿä¸»æœºçš„æœåŠ¡ç«¯å£ã€‚<br><code>server_name</code>ç”¨æ¥æŒ‡å®šIPåœ°å€æˆ–è€…åŸŸåï¼Œå¤šä¸ªåŸŸåä¹‹é—´ç”¨ç©ºæ ¼åˆ†å¼€ã€‚<br><code>root</code> è¡¨ç¤ºåœ¨è¿™æ•´ä¸ª<code>server</code>è™šæ‹Ÿä¸»æœºå†…ï¼Œå…¨éƒ¨çš„root webæ ¹ç›®å½•ã€‚æ³¨æ„è¦å’Œ<code>locate &#123;&#125;</code>ä¸‹é¢å®šä¹‰çš„åŒºåˆ†å¼€æ¥ã€‚<br><code>index</code> å…¨å±€å®šä¹‰è®¿é—®çš„é»˜è®¤é¦–é¡µåœ°å€ã€‚æ³¨æ„è¦å’Œ<code>locate &#123;&#125;</code>ä¸‹é¢å®šä¹‰çš„åŒºåˆ†å¼€æ¥ã€‚<br><code>charset</code>ç”¨äºè®¾ç½®ç½‘é¡µçš„é»˜è®¤ç¼–ç æ ¼å¼ã€‚<br><code>access_log</code>ç”¨æ¥æŒ‡å®šæ­¤è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—å­˜æ”¾è·¯å¾„ï¼Œæœ€åçš„mainç”¨äºæŒ‡å®šè®¿é—®æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ã€‚</p>
<h2 id="locationæ¨¡å—"><a href="#locationæ¨¡å—" class="headerlink" title="locationæ¨¡å—"></a>locationæ¨¡å—</h2><p>nginxä¸­æœ€æ ¸å¿ƒçš„æ¨¡å—ï¼Œç”¨æ¥é…ç½®è¯·æ±‚çš„è·¯ç”±ï¼Œä»¥åŠå„ç§é¡µé¢çš„å¤„ç†æƒ…å†µã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€æ¡ä»¶åˆ¤æ–­ï¼ŒåŒæ—¶å¯ä»¥è®¾ç½®è´Ÿè½½å‡è¡¡ã€åå‘ä»£ç†ã€è™šæ‹ŸåŸŸåç­‰ã€‚</p>
<h3 id="åŒ¹é…è§„åˆ™"><a href="#åŒ¹é…è§„åˆ™" class="headerlink" title="åŒ¹é…è§„åˆ™"></a>åŒ¹é…è§„åˆ™</h3><p>locationçš„urlåŒ¹é…å…·æœ‰ä¸€å®šä¼˜å…ˆçº§ï¼Œå…¶ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">location</span> [ = | <span class="regexp">~ |</span> <span class="regexp">~* |</span><span class="regexp"> ^~</span> ]  uri  &#123; &#125;</span><br><span class="line"><span class="comment"># =å¼€å¤´è¡¨ç¤ºç²¾ç¡®åŒ¹é…</span></span><br><span class="line"><span class="comment"># ^~ å¼€å¤´è¡¨ç¤ºuriä»¥æŸä¸ªå¸¸è§„å­—ç¬¦ä¸²å¼€å¤´ï¼Œè¿™ä¸ªä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="comment"># ~ å¼€å¤´è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…;</span></span><br><span class="line"><span class="comment"># ~* å¼€å¤´è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</span></span><br><span class="line"><span class="comment"># / é€šç”¨åŒ¹é…, å¦‚æœæ²¡æœ‰å…¶å®ƒåŒ¹é…,ä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼˜å…ˆçº§</span></span><br><span class="line">(<span class="attribute">location</span> =) &gt; (location å®Œæ•´è·¯å¾„) &gt; (location<span class="regexp"> ^~</span> è·¯å¾„) &gt; (location <span class="regexp">~* æ­£åˆ™é¡ºåº)</span> &gt; (location éƒ¨åˆ†èµ·å§‹è·¯å¾„) &gt; (/)</span><br></pre></td></tr></table></figure>

<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>è¯­æ³•æ–¹é¢ï¼Œä¸»è¦æœ‰ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">location</span> /static &#123;</span><br><span class="line">    <span class="attribute">root</span>   /var/app/www;</span><br><span class="line">    <span class="comment"># alias  /var/app/www; </span></span><br><span class="line">    <span class="attribute">index</span>  index.php index.html index.htm;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.1:8080/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>root</code> ç”¨äºæŒ‡å®šå½“è®¿é—®<code>/static</code>ç›®å½•æ—¶ï¼Œæ‰€å¯¹åº”çš„ä¸»æœºå¯¹åº”çš„ç›®å½•ï¼Œä¸º<code>/var/app/www/static</code>ã€‚</p>
<p><code>alias</code> ä¸rootç±»ä¼¼ï¼Œä½†æ˜¯åŒºåˆ«åœ¨äºå½“è®¿é—®<code>/static</code>æ—¶ï¼Œå¯¹åº”çš„è·¯å¾„ä¸º<code>/var/app/www</code>ã€‚</p>
<p><code>index</code> é»˜è®¤é¦–é¡µï¼ŒæŒ‰å…ˆåé¡ºåºä¾æ¬¡æŸ¥æ‰¾ã€‚</p>
<p><code>try files</code> è‡³å°‘ä¸¤ä¸ªå‚æ•°ï¼ŒæŒ‰ç…§é¡ºåºè¿›è¡Œè®¿é—®å°è¯•ï¼Œæœ€åä¸€ä¸ªå‚æ•°æœ€å¥½é…ç½®ä¸ºé™æ€é¡µé¢ï¼Œé˜²æ­¢æ­»å¾ªç¯ã€‚</p>
<p><code>rewite</code> å°†ä¸€ä¸ªurlé‡å†™æˆå¦ä¸€ä¸ªurlã€‚</p>
<p><code>proxy_pass</code> åå‘ä»£ç†é…ç½®ï¼Œä»£ç†è¯·æ±‚ã€‚å…¶å…·ä½“ç”¨æ³•ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å½“è®¿é—®http://127.0.0.1/proxy/1.pngæ—¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç†åˆ°http://127.0.0.2/1.png</span></span><br><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.2/;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç†åˆ°http://127.0.0.2/proxy/1.png</span></span><br><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç†åˆ°http://127.0.0.2/img/1.png</span></span><br><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.2/img/;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç†åˆ°http://127.0.0.2/img1.png</span></span><br><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.2/img;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="upstreamæ¨¡å—"><a href="#upstreamæ¨¡å—" class="headerlink" title="upstreamæ¨¡å—"></a>upstreamæ¨¡å—</h2><p>upstreamæ¨¡å—è´Ÿè´£è´Ÿè½½å‡è¡¡ã€‚</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">upstream</span> baidu.com&#123;</span><br><span class="line">    ip_hash;	<span class="comment"># è´Ÿè½½ç®—æ³•</span></span><br><span class="line">    <span class="attribute">server</span> xx:xx:xx:<span class="number">1</span>:<span class="number">8080</span>;		<span class="comment"># serveråˆ—è¡¨</span></span><br><span class="line">    <span class="attribute">server</span> xx:xx:xx:<span class="number">1</span>:<span class="number">8080</span> down;</span><br><span class="line">    <span class="attribute">server</span> xx:xx:xx:<span class="number">1</span>:<span class="number">8080</span>  max_fails=<span class="number">3</span>  fail_timeout=<span class="number">20s</span>;</span><br><span class="line">    <span class="attribute">server</span> xx:xx:xx:<span class="number">1</span>:<span class="number">8080</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5ç§è´Ÿè½½ç®—æ³•ï¼š</strong></p>
<p><code>è½®è¯¢(é»˜è®¤)</code> æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æŸå°æœåŠ¡å™¨å®•æœºï¼Œåˆ™è‡ªåŠ¨å‰”é™¤æ•…éšœæœºå™¨ï¼Œä½¿ç”¨æˆ·è®¿é—®ä¸å—å½±å“ã€‚</p>
<p><code>weight</code> æŒ‡å®šè½®è¯¢æƒé‡ï¼Œweightå€¼è¶Šå¤§ï¼Œåˆ†é…åˆ°çš„å‡ ç‡å°±è¶Šé«˜ï¼Œä¸»è¦ç”¨äºåç«¯æ¯å°æœåŠ¡å™¨æ€§èƒ½ä¸å‡è¡¡çš„æƒ…å†µã€‚</p>
<p><code>ip_hash</code> æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®IPçš„å“ˆå¸Œç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥æœ‰æ•ˆçš„è§£å†³åŠ¨æ€ç½‘é¡µå­˜åœ¨çš„sessionå…±äº«é—®é¢˜ã€‚</p>
<p><code>fair(ç¬¬ä¸‰æ–¹)</code> æ›´æ™ºèƒ½çš„ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œæ­¤ç®—æ³•å¯ä»¥æ ¹æ®é¡µé¢å¤§å°å’ŒåŠ è½½æ—¶é—´é•¿çŸ­æ™ºèƒ½åœ°è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨æ­¤è°ƒåº¦ç®—æ³•ï¼Œéœ€è¦Nginxçš„upstream_fairæ¨¡å—ã€‚</p>
<p><code>url_hash(ç¬¬ä¸‰æ–¹)</code> æŒ‰è®¿é—®URLçš„å“ˆå¸Œç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªURLå®šå‘åˆ°åŒä¸€å°åç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜åç«¯ç¼“å­˜æœåŠ¡å™¨çš„æ•ˆç‡ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨æ­¤è°ƒåº¦ç®—æ³•ï¼Œéœ€è¦Nginxçš„hashè½¯ä»¶åŒ…ã€‚</p>
<p><strong>å¦å¤–ï¼Œæ¯å°serverè¿˜å¯ä»¥è®¾ç½®ä¸åŒçš„è´Ÿè½½çŠ¶æ€ï¼š</strong></p>
<p><code>down</code> è¡¨ç¤ºå½“å‰serveræš‚æ—¶ä¸å‚ä¸è´Ÿè½½å‡è¡¡ã€‚</p>
<p><code>backup</code> é¢„ç•™çš„å¤‡ä»½æœºï¼Œå½“å…¶ä»–æ‰€æœ‰ébackupæœºå™¨å‡ºç°æ•…éšœæˆ–è€…ç¹å¿™çš„æ—¶å€™ï¼Œæ‰ä¼šè¯·æ±‚backupæœºå™¨ï¼Œè¿™å°æœºå™¨çš„è®¿é—®å‹åŠ›æœ€è½»ã€‚</p>
<p><code>max_fails</code> å…è®¸è¯·æ±‚çš„å¤±è´¥æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1ï¼Œé…åˆfail_timeoutä¸€èµ·ä½¿ç”¨ã€‚</p>
<p><code>fail_timeout</code> ç»å†max_failsæ¬¡å¤±è´¥åï¼Œæš‚åœæœåŠ¡çš„æ—¶é—´ï¼Œé»˜è®¤ä¸º10sï¼ˆæŸä¸ªserverè¿æ¥å¤±è´¥äº†max_failsæ¬¡ï¼Œåˆ™nginxä¼šè®¤ä¸ºè¯¥serverä¸å·¥ä½œäº†ã€‚åŒæ—¶ï¼Œåœ¨æ¥ä¸‹æ¥çš„ fail_timeoutæ—¶é—´å†…ï¼Œnginxä¸å†å°†è¯·æ±‚åˆ†å‘ç»™å¤±æ•ˆçš„serverï¼‰ã€‚</p>
<p>å½“è´Ÿè½½è°ƒåº¦ç®—æ³•ä¸º<strong>ip_hash</strong>æ—¶ï¼Œåç«¯æœåŠ¡å™¨åœ¨è´Ÿè½½å‡è¡¡è°ƒåº¦ä¸­çš„çŠ¶æ€ä¸èƒ½æ˜¯weightå’Œbackupã€‚</p>
<h1 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h1><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment">########### æ¯ä¸ªæŒ‡ä»¤å¿…é¡»æœ‰åˆ†å·ç»“æŸã€‚#################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®ç”¨æˆ·æˆ–è€…ç»„ï¼Œé»˜è®¤ä¸ºnobody nobodyã€‚</span></span><br><span class="line"><span class="comment">#user administrator administrators; </span></span><br><span class="line"><span class="comment">#å…è®¸ç”Ÿæˆçš„è¿›ç¨‹æ•°ï¼Œé»˜è®¤ä¸º1</span></span><br><span class="line"><span class="comment">#worker_processes 2; </span></span><br><span class="line"><span class="comment">#æŒ‡å®šnginxè¿›ç¨‹è¿è¡Œæ–‡ä»¶å­˜æ”¾åœ°å€</span></span><br><span class="line"><span class="comment">#pid /nginx/pid/nginx.pid; </span></span><br><span class="line"><span class="comment">#åˆ¶å®šé”™è¯¯æ—¥å¿—è·¯å¾„ï¼Œçº§åˆ«ã€‚è¿™ä¸ªè®¾ç½®å¯ä»¥æ”¾å…¥å…¨å±€å—ï¼Œhttpå—ï¼Œserverå—ï¼Œçº§åˆ«ä¾æ¬¡ä¸ºï¼šdebug|info|notice|warn|error|crit|alert|emerg</span></span><br><span class="line"><span class="attribute">error_log</span> log/error.log <span class="literal">debug</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">#å·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™</span></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="comment">#è®¾ç½®ç½‘è·¯è¿æ¥åºåˆ—åŒ–ï¼Œé˜²æ­¢æƒŠç¾¤ç°è±¡å‘ç”Ÿï¼Œé»˜è®¤ä¸ºon</span></span><br><span class="line">    <span class="attribute">accept_mutex</span> <span class="literal">on</span>; </span><br><span class="line">    <span class="comment">#è®¾ç½®ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦åŒæ—¶æ¥å—å¤šä¸ªç½‘ç»œè¿æ¥ï¼Œé»˜è®¤ä¸ºoff</span></span><br><span class="line">    <span class="attribute">multi_accept</span> <span class="literal">on</span>; </span><br><span class="line">    <span class="comment">#äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œselect|poll|kqueue|epoll|resig|/dev/poll|eventport</span></span><br><span class="line">    <span class="comment">#use epoll; </span></span><br><span class="line">    <span class="comment">#å•ä¸ªworkè¿›ç¨‹å…è®¸çš„æœ€å¤§è¿æ¥æ•°ï¼Œé»˜è®¤ä¸º512</span></span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#httpæœåŠ¡å™¨</span></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment">#æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨ã€‚è®¾å®šmimeç±»å‹(é‚®ä»¶æ”¯æŒç±»å‹),ç±»å‹ç”±mime.typesæ–‡ä»¶å®šä¹‰</span></span><br><span class="line">    <span class="comment">#include /usr/local/etc/nginx/conf/mime.types;</span></span><br><span class="line">    <span class="attribute">include</span> mime.types; </span><br><span class="line">    <span class="comment">#é»˜è®¤æ–‡ä»¶ç±»å‹ï¼Œé»˜è®¤ä¸ºtext/plain</span></span><br><span class="line">    <span class="attribute">default_type</span> application/octet-stream; </span><br><span class="line"></span><br><span class="line">    <span class="comment">#å–æ¶ˆæœåŠ¡è®¿é—®æ—¥å¿—</span></span><br><span class="line">    <span class="comment">#access_log off;      </span></span><br><span class="line">    <span class="comment">#è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼</span></span><br><span class="line">    <span class="attribute">log_format</span> myFormat <span class="string">&#x27;$remote_addrâ€“$remote_user [$time_local] $request $status $body_bytes_sent $http_referer $http_user_agent $http_x_forwarded_for&#x27;</span>; </span><br><span class="line">    <span class="comment">#è®¾ç½®è®¿é—®æ—¥å¿—è·¯å¾„å’Œæ ¼å¼ã€‚&quot;log/&quot;è¯¥è·¯å¾„ä¸ºnginxæ—¥å¿—çš„ç›¸å¯¹è·¯å¾„ï¼Œmacä¸‹æ˜¯/usr/local/var/log/ã€‚combinedä¸ºæ—¥å¿—æ ¼å¼çš„é»˜è®¤å€¼</span></span><br><span class="line">    <span class="attribute">access_log</span> log/access.log myFormat; </span><br><span class="line">    <span class="attribute">rewrite_log</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å…è®¸sendfileæ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºoffï¼Œå¯ä»¥åœ¨httpå—ï¼Œserverå—ï¼Œlocationå—ã€‚ï¼ˆsendfileç³»ç»Ÿè°ƒç”¨ä¸éœ€è¦å°†æ•°æ®æ‹·è´æˆ–è€…æ˜ å°„åˆ°åº”ç”¨ç¨‹åºåœ°å€ç©ºé—´ä¸­å»ï¼‰</span></span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>; </span><br><span class="line">    <span class="comment">#æ¯ä¸ªè¿›ç¨‹æ¯æ¬¡è°ƒç”¨ä¼ è¾“æ•°é‡ä¸èƒ½å¤§äºè®¾å®šçš„å€¼ï¼Œé»˜è®¤ä¸º0ï¼Œå³ä¸è®¾ä¸Šé™ã€‚</span></span><br><span class="line">    <span class="attribute">sendfile_max_chunk</span> <span class="number">100k</span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">#è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º75sï¼Œå¯ä»¥åœ¨httpï¼Œserverï¼Œlocationå—ã€‚</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">65</span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzipå‹ç¼©å¼€å…³</span></span><br><span class="line">    <span class="comment">#gzip on;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">tcp_nodelay</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#è®¾å®šå®é™…çš„æœåŠ¡å™¨åˆ—è¡¨</span></span><br><span class="line">    <span class="attribute">upstream</span> mysvr1 &#123;    </span><br><span class="line">        <span class="attribute">server</span> <span class="number">127.0.0.1:7878</span>;</span><br><span class="line">        <span class="attribute">server</span> <span class="number">192.168.10.121:3333</span> backup; <span class="comment">#çƒ­å¤‡(å…¶å®ƒæ‰€æœ‰çš„ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œè¯·æ±‚backupæœºå™¨))</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">upstream</span> mysvr2 &#123;</span><br><span class="line">    <span class="comment">#weigthå‚æ•°è¡¨ç¤ºæƒå€¼ï¼Œæƒå€¼è¶Šé«˜è¢«åˆ†é…åˆ°çš„å‡ ç‡è¶Šå¤§</span></span><br><span class="line">       <span class="attribute">server</span> <span class="number">192.168.1.11:80</span> weight=<span class="number">5</span>;</span><br><span class="line">       <span class="attribute">server</span> <span class="number">192.168.1.12:80</span> weight=<span class="number">1</span>;</span><br><span class="line">       <span class="attribute">server</span> <span class="number">192.168.1.13:80</span> weight=<span class="number">6</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">upstream</span> https-svr &#123;</span><br><span class="line">    <span class="comment">#æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionçš„é—®é¢˜</span></span><br><span class="line">       ip_hash;</span><br><span class="line">       <span class="attribute">server</span> <span class="number">192.168.1.11:90</span>;</span><br><span class="line">       <span class="attribute">server</span> <span class="number">192.168.1.12:90</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#error_page 404 https://www.baidu.com; #é”™è¯¯é¡µ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#HTTPæœåŠ¡å™¨</span></span><br><span class="line">    <span class="comment">#é™æ€èµ„æºä¸€èˆ¬æ”¾åœ¨nginxæ‰€åœ¨ä¸»æœº</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>; <span class="comment">#ç›‘å¬HTTPç«¯å£</span></span><br><span class="line">        <span class="attribute">server_name</span> <span class="number">127.0.0.1</span>; <span class="comment">#ç›‘å¬åœ°å€  </span></span><br><span class="line">        <span class="attribute">keepalive_requests</span> <span class="number">120</span>; <span class="comment">#å•è¿æ¥è¯·æ±‚ä¸Šé™æ¬¡æ•°</span></span><br><span class="line">        <span class="attribute">set</span> $doc_root_dir <span class="string">&quot;/Users/doing/IdeaProjects/edu-front-2.0&quot;</span>; <span class="comment">#è®¾ç½®serveré‡Œå…¨å±€å˜é‡</span></span><br><span class="line">        <span class="comment">#index index.html;  #å®šä¹‰é¦–é¡µç´¢å¼•æ–‡ä»¶çš„åç§°</span></span><br><span class="line">        <span class="attribute">location</span> ~*^.+$ &#123; <span class="comment">#è¯·æ±‚çš„urlè¿‡æ»¤ï¼Œæ­£åˆ™åŒ¹é…ï¼Œ~ä¸ºåŒºåˆ†å¤§å°å†™ï¼Œ~*ä¸ºä¸åŒºåˆ†å¤§å°å†™ã€‚</span></span><br><span class="line">            <span class="attribute">root</span> $doc_root_dir; <span class="comment">#é™æ€èµ„æºæ ¹ç›®å½•</span></span><br><span class="line">            <span class="attribute">proxy_pass</span> http://mysvr1; <span class="comment">#è¯·æ±‚è½¬å‘â€œmysvr1â€å®šä¹‰çš„æœåŠ¡å™¨åˆ—è¡¨</span></span><br><span class="line">            <span class="comment">#deny 127.0.0.1; #æ‹’ç»çš„ip</span></span><br><span class="line">            <span class="comment">#allow 172.18.5.54; #å…è®¸çš„ip              </span></span><br><span class="line">         &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#http</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> www.helloworld.com; <span class="comment">#ç›‘å¬åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºã€‚å¯æœ‰å¤šä¸ªï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å’Œé€šé…ç¬¦</span></span><br><span class="line">        <span class="attribute">charset</span> utf-<span class="number">8</span>; <span class="comment">#ç¼–ç æ ¼å¼</span></span><br><span class="line">        <span class="attribute">set</span> $static_root_dir <span class="string">&quot;/Users/doing/static&quot;</span>;</span><br><span class="line">        <span class="attribute">location</span> /app1 &#123; <span class="comment">#åå‘ä»£ç†çš„è·¯å¾„ï¼ˆå’Œupstreamç»‘å®šï¼‰ï¼Œlocationåé¢è®¾ç½®æ˜ å°„çš„è·¯å¾„ </span></span><br><span class="line">            <span class="attribute">proxy_pass</span> http://zp_server1;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="attribute">location</span> /app2 &#123;  </span><br><span class="line">            <span class="attribute">proxy_pass</span> http://zp_server2;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ ^/(images|javascript|js|css|flash|media|static)/</span> &#123;  <span class="comment">#é™æ€æ–‡ä»¶ï¼Œnginxè‡ªå·±å¤„ç†</span></span><br><span class="line">            <span class="attribute">root</span> $static_root_dir;</span><br><span class="line">            <span class="attribute">expires</span> <span class="number">30d</span>; <span class="comment">#é™æ€èµ„æºè¿‡æ—¶é—´30å¤©</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ /\.ht</span> &#123;  <span class="comment">#ç¦æ­¢è®¿é—® .htxxx æ–‡ä»¶</span></span><br><span class="line">            <span class="attribute">deny</span> all;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">location</span> = /do_not_delete.html &#123; <span class="comment">#ç›´æ¥ç®€å•ç²—æš´çš„è¿”å›çŠ¶æ€ç åŠå†…å®¹æ–‡æœ¬</span></span><br><span class="line">            <span class="attribute">return</span> <span class="number">200</span> <span class="string">&quot;hello.&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">#æŒ‡å®šæŸäº›è·¯å¾„ä½¿ç”¨httpsè®¿é—®(ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…è·¯å¾„+é‡å†™uriè·¯å¾„)</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~* /http*</span> &#123; <span class="comment">#è·¯å¾„åŒ¹é…è§„åˆ™ï¼šå¦‚localhost/httpã€localhost/httpsssç­‰ç­‰</span></span><br><span class="line">        <span class="comment">#rewriteåªèƒ½å¯¹åŸŸååè¾¹çš„é™¤å»ä¼ é€’çš„å‚æ•°å¤–çš„å­—ç¬¦ä¸²èµ·ä½œç”¨ï¼Œä¾‹å¦‚www.c.com/proxy/html/api/msg?method=1&amp;para=2åªèƒ½å¯¹/proxy/html/api/msgé‡å†™ã€‚</span></span><br><span class="line">        <span class="comment">#rewrite è§„åˆ™ å®šå‘è·¯å¾„ é‡å†™ç±»å‹;</span></span><br><span class="line">        <span class="comment">#rewriteåé¢çš„å‚æ•°æ˜¯ä¸€ä¸ªç®€å•çš„æ­£åˆ™ã€‚$1ä»£è¡¨æ­£åˆ™ä¸­çš„ç¬¬ä¸€ä¸ª()ã€‚</span></span><br><span class="line">        <span class="comment">#$hostæ˜¯nginxå†…ç½®å…¨å±€å˜é‡ï¼Œä»£è¡¨è¯·æ±‚çš„ä¸»æœºå</span></span><br><span class="line">        <span class="comment">#é‡å†™è§„åˆ™permanentè¡¨ç¤ºè¿”å›301æ°¸ä¹…é‡å®šå‘</span></span><br><span class="line">            <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span> https://$host/<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#é”™è¯¯å¤„ç†é¡µé¢ï¼ˆå¯é€‰æ‹©æ€§é…ç½®ï¼‰</span></span><br><span class="line">        <span class="comment">#error_page 404 /404.html;</span></span><br><span class="line">        <span class="comment">#error_page 500 502 503 504 /50x.html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#ä»¥ä¸‹æ˜¯ä¸€äº›åå‘ä»£ç†çš„é…ç½®(å¯é€‰æ‹©æ€§é…ç½®)</span></span><br><span class="line">        <span class="comment">#proxy_redirect off;</span></span><br><span class="line">        <span class="comment">#proxy_set_header Host $host; #proxy_set_headerç”¨äºè®¾ç½®å‘é€åˆ°åç«¯æœåŠ¡å™¨çš„requestçš„è¯·æ±‚å¤´</span></span><br><span class="line">        <span class="comment">#proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class="line">        <span class="comment">#proxy_set_header X-Forwarded-For $remote_addr; #åç«¯çš„WebæœåŠ¡å™¨å¯ä»¥é€šè¿‡X-Forwarded-Forè·å–ç”¨æˆ·çœŸå®IP</span></span><br><span class="line">        <span class="comment">#proxy_connect_timeout 90; #nginxè·Ÿåç«¯æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´(ä»£ç†è¿æ¥è¶…æ—¶)</span></span><br><span class="line">        <span class="comment">#proxy_send_timeout 90; #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´(ä»£ç†å‘é€è¶…æ—¶)</span></span><br><span class="line">        <span class="comment">#proxy_read_timeout 90; #è¿æ¥æˆåŠŸåï¼Œåç«¯æœåŠ¡å™¨å“åº”æ—¶é—´(ä»£ç†æ¥æ”¶è¶…æ—¶)</span></span><br><span class="line">        <span class="comment">#proxy_buffer_size 4k; #è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼ˆnginxï¼‰ä¿å­˜ç”¨æˆ·å¤´ä¿¡æ¯çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line">        <span class="comment">#proxy_buffers 4 32k; #proxy_buffersç¼“å†²åŒºï¼Œç½‘é¡µå¹³å‡åœ¨32kä»¥ä¸‹çš„è¯ï¼Œè¿™æ ·è®¾ç½®</span></span><br><span class="line">        <span class="comment">#proxy_busy_buffers_size 64k; #é«˜è´Ÿè·ä¸‹ç¼“å†²å¤§å°ï¼ˆproxy_buffers*2ï¼‰</span></span><br><span class="line">        <span class="comment">#proxy_temp_file_write_size 64k; #è®¾å®šç¼“å­˜æ–‡ä»¶å¤¹å¤§å°ï¼Œå¤§äºè¿™ä¸ªå€¼ï¼Œå°†ä»upstreamæœåŠ¡å™¨ä¼ </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#client_max_body_size 10m; #å…è®¸å®¢æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å•æ–‡ä»¶å­—èŠ‚æ•°</span></span><br><span class="line">        <span class="comment">#client_body_buffer_size 128k; #ç¼“å†²åŒºä»£ç†ç¼“å†²ç”¨æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å­—èŠ‚æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">         </span><br><span class="line">    <span class="comment">#https</span></span><br><span class="line">    <span class="comment">#(1)HTTPSçš„å›ºå®šç«¯å£å·æ˜¯443ï¼Œä¸åŒäºHTTPçš„80ç«¯å£ï¼›</span></span><br><span class="line">    <span class="comment">#(2)SSLæ ‡å‡†éœ€è¦å¼•å…¥å®‰å…¨è¯ä¹¦ï¼Œæ‰€ä»¥åœ¨ nginx.conf ä¸­ä½ éœ€è¦æŒ‡å®šè¯ä¹¦å’Œå®ƒå¯¹åº”çš„ key</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">443</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  www.hellohttps1.com www.hellohttps2.com;</span><br><span class="line">        <span class="attribute">set</span> $geek_web_root <span class="string">&quot;/Users/doing/IdeaProjects/backend-geek-web&quot;</span>;</span><br><span class="line">        <span class="attribute">ssl_certificate</span>        /usr/local/etc/nginx/ssl-key/ssl.crt; <span class="comment">#sslè¯ä¹¦æ–‡ä»¶ä½ç½®(å¸¸è§è¯ä¹¦æ–‡ä»¶æ ¼å¼ä¸ºï¼šcrt/pem)</span></span><br><span class="line">        <span class="attribute">ssl_certificate_key</span>  /usr/local/etc/nginx/ssl-key/ssl.key; <span class="comment">#sslè¯ä¹¦keyä½ç½®</span></span><br><span class="line">        <span class="attribute">location</span> /passport &#123;</span><br><span class="line">            <span class="attribute">send_timeout</span> <span class="number">90</span>;</span><br><span class="line">            <span class="attribute">proxy_connect_timeout</span> <span class="number">50</span>;</span><br><span class="line">            <span class="attribute">proxy_send_timeout</span> <span class="number">90</span>;</span><br><span class="line">            <span class="attribute">proxy_read_timeout</span> <span class="number">90</span>;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://https-svr;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ ^/(res|lib)/</span> &#123;</span><br><span class="line">            <span class="attribute">root</span> $geek_web_root; </span><br><span class="line">            <span class="attribute">expires</span> <span class="number">7d</span>;</span><br><span class="line">            <span class="comment">#add_headerç”¨äºä¸ºåç«¯æœåŠ¡å™¨è¿”å›çš„responseæ·»åŠ è¯·æ±‚å¤´ï¼Œè¿™é‡Œé€šè¿‡add_headerå®ç°CROSè·¨åŸŸè¯·æ±‚æœåŠ¡å™¨</span></span><br><span class="line">            <span class="attribute">add_header</span> Access-Control-Allow-Origin *; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#sslé…ç½®å‚æ•°ï¼ˆé€‰æ‹©æ€§é…ç½®ï¼‰</span></span><br><span class="line">        <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">1m</span>;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#é…ç½®è®¿é—®æ§åˆ¶ï¼šæ¯ä¸ªIPä¸€ç§’é’Ÿåªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œè¶…å‡ºçš„è¯·æ±‚ä¼šè¢«delayed</span></span><br><span class="line">    <span class="comment">#è¯­æ³•ï¼šlimit_req_zone  $session_variable  zone=name:size  rate=rate (ä¸ºsessionä¼šè¯çŠ¶æ€åˆ†é…ä¸€ä¸ªå¤§å°ä¸ºsizeçš„å†…å­˜å­˜å‚¨åŒºï¼Œé™åˆ¶äº†æ¯ç§’ï¼ˆåˆ†ã€å°æ—¶ï¼‰åªæ¥å—rateä¸ªIPçš„é¢‘ç‡)</span></span><br><span class="line">    <span class="attribute">limit_req_zone</span>  $binary_remote_addr zone=req_one:<span class="number">10m</span>    rate=1r/s nodelay;</span><br><span class="line">    <span class="attribute">location</span> /pay &#123;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host $http_host;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real_IP $remote_addr;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        <span class="comment">#è®¿é—®æ§åˆ¶ï¼šlimit_req zone=name [burst=number] [nodelay];</span></span><br><span class="line">        <span class="attribute">limit_req</span> zone=req_one burst=<span class="number">5</span>; <span class="comment">#burst=5è¡¨ç¤ºè¶…å‡ºçš„è¯·æ±‚(è¢«delayed)å¦‚æœè¶…è¿‡5ä¸ªï¼Œé‚£äº›è¯·æ±‚ä¼šè¢«ç»ˆæ­¢ï¼ˆé»˜è®¤è¿”å›503ï¼‰</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://mysvr1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å¯ä»¥æŠŠå­é…ç½®æ–‡ä»¶æ”¾åˆ°/usr/local/etc/nginx/servers/è·¯å¾„ä¸‹ï¼Œé€šè¿‡includeå¼•å…¥</span></span><br><span class="line">    <span class="attribute">include</span> /usr/local/etc/nginx/servers/<span class="regexp">*.conf</span>;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>



<h1 id="å†…ç½®å…¨å±€å˜é‡"><a href="#å†…ç½®å…¨å±€å˜é‡" class="headerlink" title="å†…ç½®å…¨å±€å˜é‡"></a>å†…ç½®å…¨å±€å˜é‡</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$args</span> ï¼šè¿™ä¸ªå˜é‡ç­‰äºè¯·æ±‚è¡Œä¸­çš„å‚æ•°ï¼ŒåŒ<span class="variable">$query_string</span></span><br><span class="line"><span class="variable">$content_length</span> ï¼š è¯·æ±‚å¤´ä¸­çš„Content-lengthå­—æ®µã€‚</span><br><span class="line"><span class="variable">$content_type</span> ï¼š è¯·æ±‚å¤´ä¸­çš„Content-Typeå­—æ®µã€‚</span><br><span class="line"><span class="variable">$document_root</span> ï¼š å½“å‰è¯·æ±‚åœ¨rootæŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼ã€‚</span><br><span class="line"><span class="variable">$host</span> ï¼š è¯·æ±‚ä¸»æœºå¤´å­—æ®µï¼Œå¦åˆ™ä¸ºæœåŠ¡å™¨åç§°ã€‚</span><br><span class="line"><span class="variable">$http_user_agent</span> ï¼š å®¢æˆ·ç«¯agentä¿¡æ¯</span><br><span class="line"><span class="variable">$http_cookie</span> ï¼š å®¢æˆ·ç«¯cookieä¿¡æ¯</span><br><span class="line"><span class="variable">$limit_rate</span> ï¼š è¿™ä¸ªå˜é‡å¯ä»¥é™åˆ¶è¿æ¥é€Ÿç‡ã€‚</span><br><span class="line"><span class="variable">$request_method</span> ï¼š å®¢æˆ·ç«¯è¯·æ±‚çš„åŠ¨ä½œï¼Œé€šå¸¸ä¸ºGETæˆ–POSTã€‚</span><br><span class="line"><span class="variable">$remote_addr</span> ï¼š å®¢æˆ·ç«¯çš„IPåœ°å€ã€‚</span><br><span class="line"><span class="variable">$remote_port</span> ï¼š å®¢æˆ·ç«¯çš„ç«¯å£ã€‚</span><br><span class="line"><span class="variable">$remote_user</span> ï¼š å·²ç»ç»è¿‡Auth Basic ModuleéªŒè¯çš„ç”¨æˆ·åã€‚</span><br><span class="line"><span class="variable">$request_filename</span> ï¼š å½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„ï¼Œç”±rootæˆ–<span class="built_in">alias</span>æŒ‡ä»¤ä¸URIè¯·æ±‚ç”Ÿæˆã€‚</span><br><span class="line"><span class="variable">$scheme</span> ï¼š HTTPæ–¹æ³•ï¼ˆå¦‚httpï¼Œhttpsï¼‰ã€‚</span><br><span class="line"><span class="variable">$server_protocol</span> ï¼š è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œé€šå¸¸æ˜¯HTTP/1.0æˆ–HTTP/1.1ã€‚</span><br><span class="line"><span class="variable">$server_addr</span> ï¼š æœåŠ¡å™¨åœ°å€ï¼Œåœ¨å®Œæˆä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åå¯ä»¥ç¡®å®šè¿™ä¸ªå€¼ã€‚</span><br><span class="line"><span class="variable">$server_name</span> ï¼š æœåŠ¡å™¨åç§°ã€‚</span><br><span class="line"><span class="variable">$server_port</span> ï¼š è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„ç«¯å£å·ã€‚</span><br><span class="line"><span class="variable">$request_uri</span> ï¼š åŒ…å«è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼šâ€/foo/bar.php?arg=bazâ€ã€‚</span><br><span class="line"><span class="variable">$uri</span> ï¼š ä¸å¸¦è¯·æ±‚å‚æ•°çš„å½“å‰URIï¼Œ<span class="variable">$uri</span>ä¸åŒ…å«ä¸»æœºåï¼Œå¦‚â€/foo/bar.htmlâ€ã€‚</span><br><span class="line"><span class="variable">$document_uri</span> ï¼š ä¸<span class="variable">$uri</span>ç›¸åŒã€‚</span><br></pre></td></tr></table></figure>









]]></content>
      <categories>
        <category>ä¸­é—´ä»¶</category>
      </categories>
      <tags>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>NodeJså¯¹sessionçš„å¤„ç†ã€è¿›ç¨‹é—´é€šä¿¡</title>
    <url>/2017/08/19/NodeJs%E5%AF%B9session%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/</url>
    <content><![CDATA[<h2 id="å¯¹äºsessionçš„å¤„ç†"><a href="#å¯¹äºsessionçš„å¤„ç†" class="headerlink" title="å¯¹äºsessionçš„å¤„ç†"></a>å¯¹äºsessionçš„å¤„ç†</h2><p>â€‹    æœ€è¿‘é¡¹ç›®ä¸­æœ‰ç”¨åˆ°NodeJsï¼Œä¹Ÿåœ¨å­¦ä¹ ã€‚å¼€å‘è¿‡ç¨‹ä¸­å‘ç°ï¼ŒNodeJså¯¹äºsessionçš„å¤„ç†æ–¹å¼ä¸æ™®é€šæœåŠ¡å™¨ä¸åŒã€‚</p>
<ol>
<li>NodeJsæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä¼šä¸ºæœ¬æ¬¡è¯·æ±‚åˆ›å»ºsessionï¼Œä½†æ˜¯å¦‚æœè¿™æ¬¡è¯·æ±‚ä¸­æ²¡æœ‰å¯¹sessionçš„å¤„ç†ï¼ˆæ”¾å€¼ç­‰æ“ä½œï¼‰ï¼Œåœ¨è¯·æ±‚è¿”å›æ—¶ä¸ä¼šåšset-cookieæ“ä½œï¼Œè¯¥æ¬¡è¯·æ±‚ä¸ä¼šç”Ÿæˆcookieã€‚æ‰€ä»¥é‡å¤è°ƒç”¨è¯¥è¯·æ±‚æ¯æ¬¡éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„sessionï¼›</li>
<li>è¯·æ±‚å¤„ç†å‡½æ•°ä¸­å¯¹sessionæœ‰æ“ä½œï¼Œè¿”å›æ—¶æœ‰set-cookieï¼Œç”Ÿæˆcookieï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ä¸ä¼šç”Ÿæˆæ–°çš„sessionï¼›</li>
</ol>
<h2 id="è¿›ç¨‹é€šä¿¡"><a href="#è¿›ç¨‹é€šä¿¡" class="headerlink" title="è¿›ç¨‹é€šä¿¡"></a>è¿›ç¨‹é€šä¿¡</h2><p>â€‹    Nodeå¼€å§‹æ—¶æ˜¯å•çº¿ç¨‹ï¼Œä¸ºäº†æœ‰æ•ˆåˆ©ç”¨èµ„æºï¼Œåæ¥å¢åŠ äº†child_processå¯ä»¥å¤šè¿›ç¨‹ã€‚åæ¥åˆå°è£…äº†clusteræ¨¡å—ï¼Œæ›´å¥½çš„å¤„ç†å¤šè¿›ç¨‹ã€‚è¿›ç¨‹é—´é€šä¿¡ä¸»è¦ä¾èµ–äºç›‘å¬ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cluster = <span class="built_in">require</span>(<span class="string">&#x27;cluster&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> numCPUs = <span class="built_in">require</span>(<span class="string">&#x27;os&#x27;</span>).cpus().length;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸»è¿›ç¨‹</span></span><br><span class="line"><span class="keyword">if</span> (cluster.isMaster) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;[master] &#x27;</span> + <span class="string">&quot;start master...&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ ¹æ®CPUæ•°é‡åˆ›å»ºå­è¿›ç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; numCPUs; i++) &#123;</span><br><span class="line">        cluster.fork();</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//clusterç›‘å¬</span></span><br><span class="line">    cluster.on(<span class="string">&#x27;listening&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">worker, address</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;[master] &#x27;</span> + <span class="string">&#x27;listening: worker&#x27;</span> + worker.id + <span class="string">&#x27;,pid:&#x27;</span> + worker.process.pid + <span class="string">&#x27;, Address:&#x27;</span> + address.address + <span class="string">&quot;:&quot;</span> + address.port);</span><br><span class="line">    &#125;);</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="built_in">Object</span>.keys(cluster.workers).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">    	<span class="comment">//ç›‘å¬æ‰€æœ‰çš„worker</span></span><br><span class="line">        cluster.workers[id].on(<span class="string">&#x27;message&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;[master] &#x27;</span> + <span class="string">&#x27;received msg:&#x27;</span> + msg + <span class="string">&#x27;from worker&#x27;</span> + id);</span><br><span class="line">        &#125;);</span><br><span class="line">    </span><br><span class="line">    	<span class="comment">//å‘å­è¿›ç¨‹å‘é€ä¿¡æ¯</span></span><br><span class="line">    	cluster.workers[id].send(<span class="string">&#x27;[master] &#x27;</span> + <span class="string">&#x27;send msg &#x27;</span> + i + <span class="string">&#x27; to worker&#x27;</span> + worker.id);</span><br><span class="line">    &#125;);</span><br><span class="line">  </span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cluster.isWorker) &#123;	<span class="comment">//å­è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//å‘çˆ¶è¿›ç¨‹å‘é€æ•°æ®</span></span><br><span class="line">    process.send(data);</span><br><span class="line">  <span class="comment">//ç›‘å¬æ•°æ®</span></span><br><span class="line">  	process.on(<span class="string">&#x27;message&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="comment">//å­è¿›ç¨‹éƒ½ç›‘å¬3000ç«¯å£</span></span><br><span class="line">    http.createServer(app).listen(<span class="number">3000</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>clusterå¯¹è±¡</strong><br>clusterçš„å„ç§å±æ€§å’Œå‡½æ•°</p>
<ul>
<li>cluster.setttings:é…ç½®é›†ç¾¤å‚æ•°å¯¹è±¡</li>
<li>cluster.isMaster:åˆ¤æ–­æ˜¯ä¸æ˜¯masterèŠ‚ç‚¹</li>
<li>cluster.isWorker:åˆ¤æ–­æ˜¯ä¸æ˜¯workerèŠ‚ç‚¹</li>
<li>Event: â€˜forkâ€™: ç›‘å¬åˆ›å»ºworkerè¿›ç¨‹äº‹ä»¶</li>
<li>Event: â€˜onlineâ€™: ç›‘å¬workeråˆ›å»ºæˆåŠŸäº‹ä»¶</li>
<li>Event: â€˜listeningâ€™: ç›‘å¬workerå‘masterçŠ¶æ€äº‹ä»¶</li>
<li>Event: â€˜disconnectâ€™: ç›‘å¬workeræ–­çº¿äº‹ä»¶</li>
<li>Event: â€˜exitâ€™: ç›‘å¬workeré€€å‡ºäº‹ä»¶</li>
<li>Event: â€˜setupâ€™: ç›‘å¬setupMasteräº‹ä»¶</li>
<li>cluster.setupMaster([settings]): è®¾ç½®é›†ç¾¤å‚æ•°</li>
<li>cluster.fork([env]): åˆ›å»ºworkerè¿›ç¨‹</li>
<li>cluster.disconnect([callback]): å…³é—­worketè¿›ç¨‹</li>
<li>cluster.worker: è·å¾—å½“å‰çš„workerå¯¹è±¡</li>
<li>cluster.workers: è·å¾—é›†ç¾¤ä¸­æ‰€æœ‰å­˜æ´»çš„workerå¯¹è±¡</li>
</ul>
<p><strong>workerå¯¹è±¡</strong><br>workerçš„å„ç§å±æ€§å’Œå‡½æ•°ï¼šå¯ä»¥é€šè¿‡cluster.workers, cluster.worketè·å¾—ã€‚</p>
<ul>
<li>worker.id: è¿›ç¨‹IDå·</li>
<li>worker.process: ChildProcesså¯¹è±¡</li>
<li>worker.suicide: åœ¨disconnect()åï¼Œåˆ¤æ–­workeræ˜¯å¦è‡ªæ€</li>
<li>worker.send(message, [sendHandle]): masterç»™workerå‘é€æ¶ˆæ¯ã€‚æ³¨ï¼šworkerç»™å‘masterå‘é€æ¶ˆæ¯è¦ç”¨process.send(message)</li>
<li>worker.kill([signal=â€™SIGTERMâ€™]): æ€æ­»æŒ‡å®šçš„workerï¼Œåˆ«ådestory()</li>
<li>worker.disconnect(): æ–­å¼€workerè¿æ¥ï¼Œè®©workerè‡ªæ€</li>
<li>Event: â€˜messageâ€™: ç›‘å¬masterå’Œworkerçš„messageäº‹ä»¶</li>
<li>Event: â€˜onlineâ€™: ç›‘å¬æŒ‡å®šçš„workeråˆ›å»ºæˆåŠŸäº‹ä»¶</li>
<li>Event: â€˜listeningâ€™: ç›‘å¬masterå‘workerçŠ¶æ€äº‹ä»¶</li>
<li>Event: â€˜disconnectâ€™: ç›‘å¬workeræ–­çº¿äº‹ä»¶</li>
<li>Event: â€˜exitâ€™: ç›‘å¬workeré€€å‡ºäº‹ä»¶</li>
</ul>
]]></content>
      <categories>
        <category>Frontend</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title>NodeJsæ›´æ¢npmæº</title>
    <url>/2018/03/17/NodeJs%E6%9B%B4%E6%8D%A2npm%E9%95%9C%E5%83%8F/</url>
    <content><![CDATA[<p>â€‹    æœ€è¿‘åœ¨åšä¸€äº›Nodeçš„åº”ç”¨ï¼Œå®‰è£…æ¨¡å—æ—¶å®˜æ–¹çš„æºä¸ä»…é€Ÿåº¦æ…¢ï¼Œå¾ˆå¤šæ¨¡å—æ— æ³•ä¸‹è½½ï¼ˆç§‘å­¦ä¸Šç½‘ä¹Ÿä¸è¡Œï¼‰ã€‚æ²¡åŠæ³•â•®(â•¯_â•°)â•­ï¼Œåªå¥½æ¢æˆtaobaoæºï¼Œæ•´ç†äº†å‡ ç§æ–¹æ³•ã€‚</p>
<h2 id="ä½¿ç”¨ä¸€æ¬¡"><a href="#ä½¿ç”¨ä¸€æ¬¡" class="headerlink" title="ä½¿ç”¨ä¸€æ¬¡"></a>ä½¿ç”¨ä¸€æ¬¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//ä½¿ç”¨ä¸€æ¬¡å®‰è£…expressæœåŠ¡</span><br><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure>

<h2 id="æ°¸ä¹…æ›¿æ¢"><a href="#æ°¸ä¹…æ›¿æ¢" class="headerlink" title="æ°¸ä¹…æ›¿æ¢"></a>æ°¸ä¹…æ›¿æ¢</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å¯ä»¥å…ˆæŸ¥çœ‹åŸæ¥çš„æºåœ°å€ï¼Œåšå¥½å¤‡ä»½</span><br><span class="line">npm get registry</span><br><span class="line"></span><br><span class="line">//å°†npmæºç›´æ¥æ›¿æ¢</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">//æ¢å›å®˜æ–¹æº</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<h2 id="åŒæ—¶ä½¿ç”¨npmã€cnpm"><a href="#åŒæ—¶ä½¿ç”¨npmã€cnpm" class="headerlink" title="åŒæ—¶ä½¿ç”¨npmã€cnpm"></a>åŒæ—¶ä½¿ç”¨npmã€cnpm</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//å®‰è£…cnpm</span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">//ä¹‹åå¯ä»¥ä½¿ç”¨cnpmå®‰è£…æœåŠ¡ï¼Œä¸å½±å“npm</span><br><span class="line">cnpm install express</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Frontend</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title>Oracleå½»åº•åˆ é™¤æŸdatabase</title>
    <url>/2020/05/11/Oracle%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%E6%9F%90database/</url>
    <content><![CDATA[<p>ç¯å¢ƒï¼šOracle 12c</p>
<p>å‡è®¾è¦åˆ é™¤çš„åº“åä¸ºhelloï¼Œé¦–å…ˆç™»é™†ä¸Šä¸»æœºã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åœ¨shellä¸­æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œç™»é™†sysdbaç”¨æˆ·</span></span><br><span class="line">sqlplus <span class="operator">/</span> <span class="keyword">as</span> sysdba;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¾æ¬¡æ‰§è¡Œï¼ˆè¯¥æ“ä½œä¼šå°†æ‰€æœ‰åº“åˆ é™¤ï¼‰</span></span><br><span class="line">shutdown immediate;</span><br><span class="line">startup restrict mount;</span><br><span class="line"><span class="keyword">drop</span> database;</span><br><span class="line"><span class="comment">-- ç„¶åé€€å‡ºsqlplus</span></span><br><span class="line">quit;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤dbsä¸‹é¢çš„å¼•å¯¼æ–‡ä»¶</span></span><br><span class="line">cd $ORACLE_HOME<span class="operator">/</span>dbs</span><br><span class="line"><span class="comment">-- å°†åç§°ä¸­åŒ…å«åº“åï¼ˆhelloï¼‰çš„éƒ½åˆ æ‰</span></span><br><span class="line">rm <span class="operator">-</span>f hc_HELLO.dat</span><br><span class="line">Â·Â·Â·</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥æ‰¾å¹¶åˆ é™¤æ•°æ®æ–‡ä»¶</span></span><br><span class="line">find $ORACLE_BASE<span class="operator">/</span> <span class="operator">-</span>name $ORACLE_SID</span><br><span class="line"><span class="comment">-- å°†æŸ¥æ‰¾åˆ°æ–‡ä»¶éƒ½åˆ é™¤</span></span><br><span class="line">rm <span class="operator">-</span>rf xxxx</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title>Oracleç¼–ç é—®é¢˜</title>
    <url>/2020/05/11/Oracle%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>æœ€è¿‘è¢«Oracleçš„ç¼–ç é—®é¢˜æŠ˜è…¾çš„å¤´éƒ½å¤§äº†ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚</p>
<p>åœ¨Oracleæ­å»ºï¼Œä»¥åŠåˆå§‹åŒ–è„šæœ¬è¿‡ç¨‹ä¸­ï¼Œå…±æœ‰4å¤„æ¶‰åŠåˆ°ç¼–ç é—®é¢˜ã€‚</p>
<p>å…³äºç¼–ç é—®é¢˜ï¼Œå®é™…ä¸Šè®²çš„æ˜¯å¦‚ä½•è®¾ç½®ç¼–ç ï¼Œä¿è¯ä¸­æ–‡ä¸ä¹±ç ã€‚å¦‚æœæ˜¯ä»…æ˜¯è‹±æ–‡å­—ç¬¦ï¼Œä¸ä¼šæœ‰ä¹±ç é—®é¢˜çš„ã€‚</p>
<p>æœ‰ä¸€ç‚¹éœ€è¦åŒºåˆ†ï¼Œå‘½ä»¤æ‰§è¡Œç¯å¢ƒæ˜¯åœ¨shellï¼Œè¿˜æ˜¯åœ¨sqlplusã€‚</p>
<h1 id="æ“ä½œç³»ç»Ÿå­—ç¬¦é›†"><a href="#æ“ä½œç³»ç»Ÿå­—ç¬¦é›†" class="headerlink" title="æ“ä½œç³»ç»Ÿå­—ç¬¦é›†"></a>æ“ä½œç³»ç»Ÿå­—ç¬¦é›†</h1><p>å¯é€šè¿‡localeå’Œenv | grep LANGå‘½ä»¤æŸ¥çœ‹ã€‚</p>
<p>è¯¥ç¼–ç å¯¹äºOracleæ— å½±å“ï¼Œå› ä¸ºOracleæœ‰è‡ªå·±çš„å­—ç¬¦é›†ï¼Œä¼˜å…ˆä½¿ç”¨è‡ªå·±çš„å­—ç¬¦é›†ã€‚</p>
<p>å°±ç®—ä¸¤å°ä¸»æœºçš„å­—ç¬¦é›†ä¸åŒï¼Œåªè¦Oracleçš„å­—ç¬¦é›†ç›¸åŒï¼Œä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>åªæœ‰åœ¨å½“å‰ä¸»æœºåšè°ƒæ•´æ—¶ï¼Œæ‰ä¼šä¾èµ–ä¸»æœºå­—ç¬¦é›†ã€‚æ¯”å¦‚åœ¨shellä¸­æ‰§è¡Œæ•°æ®åº“çš„æ›´æ–°æŸ¥æ”¹æ“ä½œï¼Œå…¶ä¸­æ¶‰åŠåˆ°ä¸»æœºç¼–ç ä¸oracleç¼–ç äº’è½¬çš„è¿‡ç¨‹ã€‚å¦‚æœä¸¤è¾¹ç¼–ç ä¸åŒ¹é…ï¼Œä¹Ÿä¼šä¹±ç ã€‚</p>
<p>éœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼Œsqlpluså¦‚æœæœ¬èº«æ²¡æœ‰è®¾ç½®å­—ç¬¦é›†ï¼Œä¼šé»˜è®¤ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„å­—ç¬¦é›†ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨sqlplusæ‰§è¡Œè„šæœ¬çš„æ—¶å€™ï¼Œè¦æ³¨æ„NLS_LANGè®¾ç½®ä¸ºAMERICAN_AMERICA.ZHS16GBKï¼Œä¿è¯ä¸­æ–‡ä¸ä¹±ç ã€‚</p>
<h1 id="Oracleå­—ç¬¦é›†"><a href="#Oracleå­—ç¬¦é›†" class="headerlink" title="Oracleå­—ç¬¦é›†"></a>Oracleå­—ç¬¦é›†</h1><p>åœ¨å»ºåº“(create database)æ—¶ï¼Œå¯ä»¥è®¾ç½®è¯¥åº“çš„å­—ç¬¦é›†ï¼Œä¸€èˆ¬é€‰æ‹©AL32UTF8ã€‚</p>
<p>å½“ç™»å…¥sqlplusä¹‹åï¼Œæ‰§è¡Œsqlè¯­å¥åšæ’å…¥æˆ–è€…æ›´æ–°æ“ä½œæ—¶ï¼Œå­˜å…¥çš„æ•°æ®ä»¥è¯¥å­—ç¬¦ä¸ºå‡†ã€‚</p>
<h1 id="è„šæœ¬å­—ç¬¦é›†"><a href="#è„šæœ¬å­—ç¬¦é›†" class="headerlink" title="è„šæœ¬å­—ç¬¦é›†"></a>è„šæœ¬å­—ç¬¦é›†</h1><p>è¿™ç‚¹æŒ‡çš„æ˜¯sqlè„šæœ¬æ–‡ä»¶ä¸­çš„ç¼–ç å­—ç¬¦é›†ã€‚</p>
<p>ä¸€èˆ¬æ¥è®²æˆ‘ä»¬å¸¸ç”¨çš„åªæœ‰ä¸¤ç§ï¼ŒUTF8æˆ–è€…GB2312ã€‚</p>
<p>å½“è„šæœ¬ä¸­å…¨è‹±æ–‡æ—¶ï¼Œä»»ä½•ç¼–ç éƒ½å¯ä»¥ã€‚</p>
<p>å½“è„šæœ¬ä¸­æ¶‰åŠåˆ°ä¸­æ–‡å­—ç¬¦æ—¶ï¼Œéœ€è¦ä¿å­˜ä¸ºGB2312æ ¼å¼ã€‚</p>
<h1 id="æ–‡ä»¶æ ¼å¼"><a href="#æ–‡ä»¶æ ¼å¼" class="headerlink" title="æ–‡ä»¶æ ¼å¼"></a>æ–‡ä»¶æ ¼å¼</h1><p>å¸¸ç”¨ç¼–è¾‘å™¨ï¼Œæ¯”å¦‚UEã€Notepad++ï¼Œåœ¨ä¸‹æ–¹çŠ¶æ€æ éƒ½ä¼šæ˜¾ç¤ºæ–‡ä»¶æ ¼å¼ï¼Œæ€»å…±æœ‰ä¸‰ç§æ ¼å¼ï¼ŒUNIXã€Dos\Windowsã€MACã€‚</p>
<p>è¿™ä¸ªç¼–ç æ ‡æ˜è¯¥æ–‡ä»¶æ˜¯åœ¨ä»€ä¹ˆæ“ä½œç³»ç»Ÿä¸‹ç¼–è¾‘ç”Ÿæˆçš„ã€‚</p>
<p>æˆ‘ä»¬çš„è„šæœ¬ç›´æ¥åœ¨sqlplusä¸­æ‰§è¡Œï¼Œå·²æµ‹è¯•è¿‡ä½¿ç”¨UNIXã€Dos\Windowséƒ½å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</p>
<p>å¦‚æœæ˜¯åœ¨shellä¸­æ‰§è¡Œï¼Œéœ€è¦æ”¹æˆUNIXã€‚ä¹‹å‰æˆ‘åœ¨win7ä¸Šç¼–å†™è¿‡ä¸€ä¸ªDockerfileï¼Œä¸Šä¼ åˆ°ä¸»æœºæ‰§è¡ŒæŠ¥é”™ï¼Œæ”¹ä¸ºUNIXæ‰æ­£å¸¸æ‰§è¡Œã€‚</p>
<p>åœ¨Linuxä¸»æœºä¸Šï¼Œå¯ä»¥å†vimä¸­æŸ¥çœ‹ã€ä¿®æ”¹æ–‡ä»¶æ ¼å¼ã€‚è¾“å…¥<code>:set ff</code>æŸ¥çœ‹ï¼Œè¾“å…¥<code>:set ff=unix</code>ä¿®æ”¹ã€‚</p>
<h1 id="sshå·¥å…·ç¼–ç "><a href="#sshå·¥å…·ç¼–ç " class="headerlink" title="sshå·¥å…·ç¼–ç "></a>sshå·¥å…·ç¼–ç </h1><p>è¿™ç‚¹åº”è¯¥ä¸ç”¨å¤šè¯´äº†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½æœ‰ç»éªŒã€‚ä¸ç®¡æ˜¯shellï¼Œæˆ–æ˜¯sqlplusä¸­æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚æœæœ€ç»ˆè¦å±•ç¤ºçš„ç»“æœä¸­åŒ…å«ä¸­æ–‡ï¼Œå°±ç®—ä¸»æœºç¼–ç æ­£ç¡®ï¼Œå¦‚æœå·¥å…·ç¼–ç ä¸å¯¹ï¼Œä¹Ÿä¼šå±•ç¤ºä¹±ç ã€‚</p>
<p>åŒæ ·ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºUTF8ã€‚</p>
<p>ä¸ºäº†é¿å…å·¥å…·å¯¹æ•°æ®åº“ä¸­æ•°æ®ç¼–ç çš„å½±å“ï¼Œæˆ‘ä¸€èˆ¬çš„æ“ä½œéƒ½æ˜¯ï¼Œå°†sqlè„šæœ¬ä¸Šä¼ åˆ°Oracleä¸»æœºä¸Šï¼Œç„¶åç™»é™†sqlplusï¼Œä½¿ç”¨<code>@xxx/xxx/xxx.sql</code>çš„æ–¹å¼ï¼Œç›´æ¥åŠ è½½è„šæœ¬æ–‡ä»¶æ‰§è¡Œã€‚</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title>Python2ä¸Python3å·®å¼‚</title>
    <url>/2018/05/23/Python2%E4%B8%8EPython3%E5%B7%AE%E5%BC%82/</url>
    <content><![CDATA[<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>Python2</th>
<th>Python3</th>
</tr>
</thead>
<tbody><tr>
<td>file.write()</td>
<td>file.write(str)</td>
<td>file.write(str.encode()) # éœ€è½¬ä¸ºbyte</td>
</tr>
<tr>
<td>self.cf.read()</td>
<td>self.cf.read(file_path)</td>
<td>self.cf.read(file_path, encoding=â€â€) #éœ€æŒ‡å®šç¼–ç </td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>PythonåŸºç¡€çŸ¥è¯†</title>
    <url>/2018/05/24/Python%E8%A7%84%E8%8C%83/</url>
    <content><![CDATA[<h2 id="Pythonè§„èŒƒ"><a href="#Pythonè§„èŒƒ" class="headerlink" title="Pythonè§„èŒƒ"></a>Pythonè§„èŒƒ</h2><p><a href="https://blog.csdn.net/warm77/article/details/78353632">è§„èŒƒ</a></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Oracleé«˜å¯ç”¨æ¶æ„</title>
    <url>/2020/05/12/Oracle%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84/</url>
    <content><![CDATA[<p>æœ€è¿‘äº†è§£äº†ä¸€äº›Oracleæ–¹é¢çš„é«˜å¯ç”¨æ¶æ„ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
<p>æœ‰æ—¶é—´è¡¥ä¸Šæ¶æ„å›¾ã€‚</p>
<h1 id="DGæ¶æ„"><a href="#DGæ¶æ„" class="headerlink" title="DGæ¶æ„"></a>DGæ¶æ„</h1><p>è¯¥æ¶æ„æ˜¯ä¼ ç»Ÿçš„ä¸»å¤‡æ¶æ„ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ¶æ„ï¼Œæ»¡è¶³ä¸€èˆ¬ç³»ç»Ÿçš„è¦æ±‚ã€‚</p>
<p>é¦–å…ˆï¼Œç”³è¯·ä¸¤å°å®Œå…¨åŒæ„çš„ä¸»æœºï¼ŒæŒ‚è½½ç›¸åŒçš„NASï¼Œå¹¶å®‰è£…Oracleï¼Œä¿®æ”¹è®¾ç½®ã€‚ä¸€èˆ¬primaryæœºå¯¹å¤–æä¾›æœåŠ¡ï¼Œå…¶ä»–standbyæœºå¤‡ä»½ã€‚</p>
<p>æ¯å°Oracleä¸»æœºéƒ½æ˜¯ç‹¬ç«‹çš„ä¸»æœºä¸å­˜å‚¨ï¼Œé€šè¿‡åŒæ­¥å½’æ¡£æ—¥å¿—å’Œåœ¨çº¿æ—¥å¿—å®ç°æ•°æ®åŒæ­¥ã€‚</p>
<p>ä¸€èˆ¬DGæ¶æ„ä¸­æ¯å°ä¸»æœºéƒ½ä¼šæŒ‚è½½ä¸€å—NASï¼ŒOracleæ•°æ®å’Œæ—¥å¿—å­˜æ”¾åœ¨NASä¸Šã€‚</p>
<p>å»ºtablespaceæ—¶æŒ‡å®šdatafileåˆ°NASä¸Šã€‚</p>
<p>å½“å¼‚å¸¸æƒ…å†µæ—¶ï¼Œåˆ‡æ¢å¤‡æœºï¼Œåˆ‡æ¢æ—¶é—´ä¸€èˆ¬ä¸ºå‡ åˆ†é’Ÿã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- å¸¸è§„æ¨¡å¼ï¼Œåˆ›å»ºåä¸ºdbdataçš„è¡¨ç©ºé—´</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span>space dbdata</span><br><span class="line">  logging</span><br><span class="line">  datafile <span class="string">&#x27;/xxx/xxx/data.dbf&#x27;</span> size <span class="number">500</span>m</span><br><span class="line">  autoextend <span class="keyword">on</span></span><br><span class="line">  extent management <span class="keyword">local</span> autoallocate</span><br><span class="line">  segment space management auto ;</span><br></pre></td></tr></table></figure>

<p>PSï¼šè¿™é‡Œè®²ä¸‹DGå’ŒOGGä¸»è¦çš„åŒºåˆ«ã€‚DGæ•ˆç‡æ›´é«˜ã€æ›´ç¨³å®šã€å ç”¨èµ„æºå°‘ï¼Œä½†æ˜¯åªæ”¯æŒOracleé—´åŒæ­¥ã€‚OGGæ•ˆç‡ã€ç¨³å®šæ€§ã€èµ„æºå ç”¨éƒ½è¦å·®ä¸€ç‚¹ï¼Œä½†æ˜¯æ”¯æŒä¸åŒæ•°æ®åº“é—´åŒæ­¥ã€‚</p>
<h1 id="RACæ¶æ„"><a href="#RACæ¶æ„" class="headerlink" title="RACæ¶æ„"></a>RACæ¶æ„</h1><p>DGåªä½¿ç”¨Oracleå°±å¯ä»¥å®Œæˆã€‚</p>
<p>RACæ¶æ„éœ€è¦ä¸Oracleçš„å¦å¤–ä¸€ç§æŠ€æœ¯ï¼ŒASMï¼ˆAutomatic Storage Managementï¼‰ï¼Œç»“åˆä½¿ç”¨ã€‚åŸºæœ¬åŸç†æ˜¯ï¼Œä¸åŒOracleä¸»æœºå…±äº«åŒä¸€å—å­˜å‚¨ï¼Œå°±ä¸éœ€è¦æ•°æ®åŒæ­¥äº†ï¼Œè€ŒASMæ˜¯Oracleå¼€å‘çš„ç®¡ç†å­˜å‚¨çš„å·¥å…·ã€‚</p>
<p>è¯¥æ¨¡å¼ä¸‹éœ€è¦å…ˆå»ºç«‹ä¸€ä¸ªASMå®ä¾‹ï¼Œç„¶åä¸åŒOracleä¸»æœºä½¿ç”¨è¯¥ASMï¼Œåˆ›å»ºè¡¨ç©ºé—´æ—¶æŒ‡å®šè¯¥ASMã€‚</p>
<p>RACã€ASMå¯¹äºç¡¬ä»¶çš„è¦æ±‚æ›´é«˜ï¼Œä¸”ç”±äºå…±äº«æ•°æ®ï¼ŒåŸºæœ¬å¯ä»¥å®æ—¶åˆ‡æ¢ã€‚ä¸€èˆ¬åº”ç”¨äºæ ¸å¿ƒç³»ç»Ÿï¼Œå¦‚æ”¯ä»˜ç³»ç»Ÿç­‰ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ASMæ¨¡å¼ï¼ŒASMå®ä¾‹åä¸º+data_asmï¼Œåˆ›å»ºåä¸ºdbdataçš„è¡¨ç©ºé—´</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span>space dbdata</span><br><span class="line">  datafile <span class="string">&#x27;+data_asm&#x27;</span> size <span class="number">500</span>m</span><br><span class="line">  autoextend <span class="keyword">on</span>;</span><br></pre></td></tr></table></figure>

<h1 id="å¤šæœºæˆ¿æ¶æ„"><a href="#å¤šæœºæˆ¿æ¶æ„" class="headerlink" title="å¤šæœºæˆ¿æ¶æ„"></a>å¤šæœºæˆ¿æ¶æ„</h1><p>ä¸è®ºæ˜¯DGæ¶æ„ï¼Œè¿˜æ˜¯RACæ¶æ„ï¼Œéƒ½åœ¨å•ä¸€æœºæˆ¿ã€‚</p>
<p>å½“ä¼ä¸šå¯¹äºæ•°æ®æœ‰æ›´é«˜è¦æ±‚æ—¶ï¼Œå°±è¦è€ƒè™‘å¤šæœºæˆ¿æ¶æ„äº†ã€‚</p>
<p>æ ¹æ®æ˜¯å¦åŒåŸåˆæœ‰åŒåŸå¤‡ä»½ï¼Œå¼‚åŸå¤‡ä»½ï¼Œä»¥åŠä¸¤åœ°ä¸‰å¤‡ä»½ã€‚</p>
<p>å°±è¯´ä¸¤åœ°ä¸‰å¤‡ä»½å§ï¼Œæ€»å…±æ¶‰åŠ3ä¸ªæœºæˆ¿ï¼Œä¸»æœºæˆ¿Aï¼ŒåŒåŸæœºæˆ¿Bï¼Œå¼‚åœ°æœºæˆ¿Cã€‚</p>
<p>åœ¨ä¸»æœºæˆ¿Aä¸­Oracleå¯ä»¥é€‰æ‹©DGæˆ–è€…RACæ¶æ„ã€‚</p>
<p>åŒåŸæœºæˆ¿Bå’Œå¼‚åœ°æœºæˆ¿Cï¼Œè§†è¦æ±‚æ­å»ºã€‚ä¸åŒåº“é—´ä½¿ç”¨DGåŒæ­¥ï¼ŒåŒæ­¥é“¾è·¯ä¸ºA-&gt;Bï¼ŒA-&gt;Cã€‚</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
        <tag>é«˜å¯ç”¨æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>RDBMSé‚£ç‚¹äº‹å„¿ä¹‹Undo-logã€Redo-logå’Œbinlog</title>
    <url>/2020/03/11/RDBMS%E9%82%A3%E7%82%B9%E4%BA%8B%E5%84%BF%E4%B9%8BUndo-log%E3%80%81Redo-log%E5%92%8Cbinlog/</url>
    <content><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><h2 id="undo-log"><a href="#undo-log" class="headerlink" title="undo log"></a>undo log</h2><p>å½“æ•°æ®å˜æ›´æ—¶ï¼Œè®°å½•æ•°æ®åŸå§‹çš„çŠ¶æ€ã€‚åˆ†ä¸¤çº§ç­–ç•¥ï¼Œundo bufferå’Œundo logã€‚</p>
<p>undo bufferå³åœ¨å†…å­˜ä¸­ï¼Œè¿™ç§çŠ¶æ€çš„æ•°æ®æ˜¯ä¸ç¨³å®šçš„ï¼Œä¸€èˆ¬ä¼šç«‹å³æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­çš„fileæ–‡ä»¶ï¼Œå³undo logã€‚ä¸åŒæ•°æ®åº“undo logå­˜æ”¾ä½ç½®ä¸åŒã€‚å¯¹äºMysqlæ¥è¯´ï¼ŒMysql5.7åçš„ç‰ˆæœ¬æœ€å¥½å•ç‹¬åˆ›å»ºundoè¡¨ç©ºé—´ï¼Œé¿å…ä¸€æ¬¡æ›´æ–°å¤§æ‰¹é‡æ•°æ®ç”Ÿæˆå¤§é‡undo logå´æ— æ³•å­˜å‚¨ã€‚</p>
<p>åœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰ç”Ÿæˆã€‚</p>
<h2 id="redo-log"><a href="#redo-log" class="headerlink" title="redo log"></a>redo log</h2><p>å½“æ•°æ®å˜æ›´æ—¶ï¼Œè®°å½•æ•°æ®è¦å˜æ›´çš„çŠ¶æ€ã€‚ä¹Ÿåˆ†ä¸¤çº§ï¼Œredo bufferå’Œredo logã€‚</p>
<p>åŒundo logï¼Œredo bufferä¹Ÿå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œredo logæŒä¹…åŒ–åœ¨ç£ç›˜ä¸Šçš„fileæ–‡ä»¶ã€‚</p>
<p>æ•°æ®åº“æ”¶åˆ°æ›´æ–°è¯·æ±‚ï¼Œå…ˆæŸ¥è¯¢åŸæ•°æ®ï¼Œå†™åˆ°å†…å­˜ï¼ˆè®°ä¸ºdata bufferï¼‰ï¼Œç„¶åç”Ÿæˆredo bufferï¼ŒæŒä¹…åŒ–ä¸ºredo logã€‚ä¹‹åæ›´æ–°data bufferï¼Œåœ¨æŒä¹…åŒ–åˆ°data fileã€‚</p>
<p>åœ¨äº‹åŠ¡å¼€å§‹ä¹‹åç”Ÿæˆã€‚å¦‚æœäº‹åŠ¡æ¯”è¾ƒå¤§ï¼Œåœ¨ä¸­é—´æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½ä¼šç”Ÿæˆï¼Œå¹¶ä¸æ˜¯äº‹åŠ¡æäº¤æ—¶ä¸€æ¬¡æ€§ç”Ÿæˆã€‚</p>
<p>åŒæ—¶ä¼šè®°å½•äº‹åŠ¡çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬äº‹åŠ¡ç¼–å·ï¼ˆäº‹åŠ¡å¼€å§‹æ—¶ç”Ÿæˆï¼‰ã€å¼€å§‹çŠ¶æ€ã€ç»“æŸçŠ¶æ€ã€‚åˆ¤æ–­äº‹åŠ¡æ˜¯å¦æˆåŠŸå³æ ¹æ®è¯¥æ–‡ä»¶ä¸­äº‹åŠ¡çš„çŠ¶æ€ã€‚</p>
<p>ä¸åŒç±»å‹æ•°æ®åº“å­˜å‚¨æ ¼å¼ä¸ä¸€æ ·ï¼Œæœ‰çš„undo logã€redo logåˆ†å¼€è®°å½•ï¼Œæ ¼å¼å¦‚&lt;äº‹åŠ¡IDï¼Œå˜æ›´é¡¹ï¼Œå˜æ›´å‰å†…å®¹&gt;å’Œ&lt;äº‹åŠ¡IDï¼Œå˜æ›´é¡¹ï¼Œå˜æ›´åå†…å®¹&gt;ã€‚æœ‰äº›è®°å½•åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ ¼å¼å¦‚&lt;äº‹åŠ¡IDï¼Œå˜æ›´é¡¹ï¼Œå˜æ›´å‰å†…å®¹ï¼Œå˜æ›´åå†…å®¹&gt;ã€‚</p>
<h2 id="binlog"><a href="#binlog" class="headerlink" title="binlog"></a>binlog</h2><p>ç”¨äºmysqlèŠ‚ç‚¹ä¹‹é—´åŒæ­¥ç”¨çš„ï¼ŒåŸºæœ¬å¯ä»¥åšåˆ°å®æ—¶åŒæ­¥ã€‚ç›®å‰ä¹Ÿæœ‰å¾ˆå¤šåŸºäºbinlogå®ç°çš„è·¨åº“åŒæ­¥ï¼Œæ¯”å¦‚canalã€‚</p>
<p>åœ¨äº‹åŠ¡æäº¤æ—¶ä¸€æ¬¡æ€§å†™å…¥ã€‚æ‰€ä»¥å¼€å¯è¯¥åŠŸèƒ½æ—¶ä¼šä¸€å®šç¨‹åº¦ä¸Šå½±å“æ•ˆç‡ã€‚</p>
<h2 id="æ‰§è¡Œè¿‡ç¨‹"><a href="#æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="æ‰§è¡Œè¿‡ç¨‹"></a>æ‰§è¡Œè¿‡ç¨‹</h2><p>å†å®Œæ•´çš„æ¢³ç†ä¸€ä¸‹å®Œæ•´çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå½“ä½¿ç”¨äº‹åŠ¡æ—¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ç”Ÿæˆäº‹åŠ¡ID -&gt; æŸ¥è¯¢åŸå€¼å†™åˆ°data buffer -&gt; undo logï¼ˆåŒ…æ‹¬bufferåˆ°fileï¼‰-&gt; äº‹åŠ¡å¼€å§‹ -&gt; redo logï¼ˆåŒ…æ‹¬bufferåˆ°fileï¼‰-&gt; æ‰§è¡Œæ“ä½œï¼ˆupdateæˆ–å…¶ä»–ï¼Œæ“ä½œè¿‡ç¨‹ä¸­å®æ—¶å†™redo logï¼‰-&gt; äº‹åŠ¡å®Œæˆ -&gt; binlogå†™å…¥</span><br></pre></td></tr></table></figure>

<p>ä¸­é—´ä»»ä½•ç¯èŠ‚å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚é‡å¯ï¼Œä»¥redo logä¸­çš„äº‹åŠ¡çŠ¶æ€ä¸ºä¾æ®ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦å›æ»šã€‚</p>
<p>ä»¥ä¸Šè¯´çš„æ˜¯å•ä¸ªäº‹åŠ¡çš„æµç¨‹ã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“æœ€å¤´ç–¼çš„æ°¸è¿œæ˜¯å¹¶å‘çš„åœºæ™¯ã€‚</p>
<p>èŠåˆ°è¿™é‡Œäº†ï¼Œé¡ºä¾¿èŠèŠå¹¶å‘ã€‚</p>
<h1 id="å¹¶å‘æƒ…å†µä¸‹äº§ç”Ÿçš„é—®é¢˜"><a href="#å¹¶å‘æƒ…å†µä¸‹äº§ç”Ÿçš„é—®é¢˜" class="headerlink" title="å¹¶å‘æƒ…å†µä¸‹äº§ç”Ÿçš„é—®é¢˜"></a>å¹¶å‘æƒ…å†µä¸‹äº§ç”Ÿçš„é—®é¢˜</h1><p>å‡è®¾æœ‰ä¸¤ä¸ªäº‹åŠ¡T1ã€T2åœ¨åŒæ—¶è¿›è¡Œã€‚</p>
<h2 id="è„è¯»"><a href="#è„è¯»" class="headerlink" title="è„è¯»"></a>è„è¯»</h2><p>å½“T1æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹æŸæ¡æ•°æ®åšäº†updateï¼ŒT2è¯»å–äº†è¯¥æ•°æ®ï¼Œä½†æ˜¯æœ€ç»ˆT1å›æ»šï¼ŒT2å†è¯»æ•°æ®ï¼Œå‘ç°ä¸¤æ¬¡æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>å…³é”®ç‚¹åœ¨äºT1æ²¡æœ‰æ‰§è¡ŒæˆåŠŸã€‚</p>
<p>éš”ç¦»çº§åˆ«ä¸º<code>Read Uncommitted</code>çº§åˆ«ä¼šå‡ºç°è¯¥é—®é¢˜ã€‚</p>
<p>å°†éš”ç¦»çº§åˆ«è®¾ç½®ä¸º<code>Read Committed</code>å¯è§£å†³è¯¥é—®é¢˜ã€‚Sql Serverã€Oracleæ¨¡å¼æ˜¯è¯¥çº§åˆ«ã€‚</p>
<h2 id="ä¸å¯é‡å¤è¯»"><a href="#ä¸å¯é‡å¤è¯»" class="headerlink" title="ä¸å¯é‡å¤è¯»"></a>ä¸å¯é‡å¤è¯»</h2><p>T1æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå…ˆè¯»å–äº†æŸæ¡æ•°æ®ï¼Œç„¶åT2å¯¹äºè¯¥æ•°æ®åšäº†updateï¼ŒT1å†è¯»ï¼Œå‘ç°ä¸¤æ¬¡æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>å…³é”®ç‚¹åœ¨äºï¼Œåœ¨T1æ‰§è¡Œè¿‡ç¨‹çš„ä¸¤æ¬¡è¯»ä¹‹é—´ï¼ŒT2å·²ç»åšå®Œå˜æ›´äº†ã€‚</p>
<p>å°†éš”ç¦»çº§åˆ«è®¾ç½®ä¸º<code>Repeatable Read</code>å¯è§£å†³è¯¥é—®é¢˜ã€‚Mysqlé»˜è®¤æ˜¯è¯¥çº§åˆ«ã€‚</p>
<h2 id="å¹»è¯»"><a href="#å¹»è¯»" class="headerlink" title="å¹»è¯»"></a>å¹»è¯»</h2><p>T1æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŸ¥è¯¢ç¬¦åˆæŸäº›æ¡ä»¶çš„ä¸€æ‰¹æ•°æ®ï¼Œç„¶åT2åšäº†insertæ“ä½œï¼ŒT1åœ¨é‡æ–°æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œå‘ç°å¤šäº†ä¸€æ¡æ•°æ®ã€‚</p>
<p>å¹»è¯»ä¸ä¸å¯é‡å¤è¯»æœ‰äº›ç±»ä¼¼ï¼Œä¸»è¦åŒºåˆ«ç‚¹åœ¨äºæ‰€åšçš„æ“ä½œã€‚ä¸å¯é‡å¤è¯»ä»…å¯¹è®°å½•åšupdateï¼Œæ‰€ä»¥åªè¦é”è®°å½•å°±å¯ä»¥è§£å†³ã€‚å¹»è¯»æ˜¯æ‰§è¡Œçš„insertæ“ä½œï¼Œéœ€è¦å¯¹è¡¨è¿›è¡Œæ§åˆ¶ã€‚</p>
<p>å°†éš”ç¦»çº§åˆ«è®¾ç½®ä¸º<code>Serializable</code>å¯è§£å†³è¯¥é—®é¢˜ã€‚è¯¥çº§åˆ«ä¸‹äº‹åŠ¡ä¸èƒ½å¹¶å‘æ‰§è¡Œï¼Œåªèƒ½é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥æ€§èƒ½ä¹Ÿæ˜¯æœ€å·®çš„ã€‚</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>DB</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis-Sessionç®¡ç†</title>
    <url>/2018/07/13/Redis-Session%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    é¡¹ç›®ä¸­ä½¿ç”¨rediså­˜å‚¨sessionï¼Œå†™äº†ä¸ªsessionåˆ‡é¢ç”¨äºç»´æŠ¤sessionï¼Œå½“ç”¨æˆ·è°ƒç”¨æ¥å£æ—¶ï¼Œä¼šå…ˆæ£€éªŒredisä¸­æ˜¯å¦æœ‰sessionï¼ˆæœ‰æ•ˆæœŸä¸º30minï¼Œè°ƒç”¨æ¥å£åˆ·æ–°æœ‰æ•ˆæœŸï¼‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ›å»ºsessionã€‚åœ¨å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œéœ€è¦ç”¨é”é¿å…é‡å¤å†™ã€‚StringRedisTemplateä¸­æ²¡æœ‰å¯¹é”çš„å°è£…ï¼Œæ‰€ä»¥è‡ªå·±ç®€å•å°è£…äº†ä¸¤ä¸ªå–é”çš„æ–¹æ³•ã€‚</p>
<h1 id="tryLock"><a href="#tryLock" class="headerlink" title="tryLock"></a>tryLock</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°è¯•è·å–é”ï¼Œå¦‚æœè·å–åˆ°ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> keyName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> seconds</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">tryLock</span><span class="params">(String keyName, Long seconds)</span> </span>&#123;</span><br><span class="line">    RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span><br><span class="line">    <span class="keyword">boolean</span> lockReturn = connection.setNX(keyName.getBytes(), LOCK_TRUE.getBytes());</span><br><span class="line">    connection.close();</span><br><span class="line">    <span class="keyword">if</span> (lockReturn) &#123;</span><br><span class="line">        redisTemplate.expire(keyName, seconds, TimeUnit.SECONDS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> lockReturn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="getLock"><a href="#getLock" class="headerlink" title="getLock"></a>getLock</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸€å®šä¼šè·å–åˆ°é”ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> keyName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> seconds</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InterruptedException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getLock</span><span class="params">(String keyName, Long seconds)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span><br><span class="line">    <span class="keyword">boolean</span> lockReturn = connection.setNX(keyName.getBytes(), LOCK_TRUE.getBytes());</span><br><span class="line">    <span class="keyword">while</span> (!lockReturn) &#123;</span><br><span class="line">        Thread.sleep(<span class="number">10</span>);</span><br><span class="line">        lockReturn = connection.setNX(keyName.getBytes(), LOCK_TRUE.getBytes());</span><br><span class="line">    &#125;</span><br><span class="line">    connection.expire(keyName.getBytes(), seconds);</span><br><span class="line">    connection.close();</span><br><span class="line">    <span class="keyword">return</span> lockReturn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="releaseLock"><a href="#releaseLock" class="headerlink" title="releaseLock"></a>releaseLock</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é‡Šæ”¾é”</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> keyName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">releaseLock</span><span class="params">(String keyName)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> redisTemplate.delete(keyName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h1><p>åœ¨æŠ•äº§åï¼Œå‘ç°æ•ˆæœå¹¶ä¸å¥½ï¼Œå®ä¾‹ç»å¸¸ä¼šè·‘ç€è·‘ç€ï¼Œçªç„¶å¡æ­»ã€‚åˆ†æåŸå› åº”è¯¥æ˜¯redisè¿æ¥æ± èµ„æºè€—å°½ï¼Œå¯¼è‡´æœåŠ¡å™¨æ‰€æœ‰çº¿ç¨‹é˜»å¡ï¼Œæ•´å°å®ä¾‹ä¸å¯ç”¨ï¼ˆä¸€èˆ¬è·‘2ã€3å¤©æ‰ä¼šå‡ºç°ï¼‰ã€‚å› ä¸ºé¡¹ç›®å·²ç»ä½¿ç”¨äº†StringRedisTemplateï¼Œæœ¬èº«å®ƒä¼šç®¡ç†è‡ªå·±çš„è¿æ¥æ± ã€‚è€Œæˆ‘é€šè¿‡getConnectionè·å–åˆ°çš„è¿æ¥ï¼Œç›¸å½“äºè„±ç¦»äºè¿æ¥æ± ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¸StringRedisTemplateä¸å…¼å®¹ã€‚</p>
<p>å¦‚æœæœ‰åŒå­¦è‡ªå·±é€šè¿‡jediså®ç°äº†jedispoolè¿›è¡Œç®¡ç†ï¼Œåº”è¯¥æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è¯•ä¸€ä¸‹ã€‚jedisæ— æ³•è‡ªåŠ¨å…³é—­è¿æ¥ï¼Œå½“ä½¿ç”¨å®Œä¹‹åï¼Œåˆ«å¿˜äº†æ‰‹åŠ¨å…³é—­ã€‚</p>
<p>åæ¥ï¼Œå‘ç°äº†Redissonï¼Œä¸“é—¨ç”¨äºè§£å†³åˆ†å¸ƒå¼é—®é¢˜ï¼Œä¹Ÿæä¾›äº†é”çš„å®ç°ï¼Œå°ä¼™ä¼´å¯ä»¥ç”¨ä¸€ä¸‹ã€‚</p>
<p>é¡ºä¾¿å†åæ§½ä¸‹StringRedisTemplateï¼Œæ„Ÿè§‰å°±æ˜¯å¯¹redisçš„å‘½ä»¤åšäº†ç®€å•çš„å°è£…ï¼Œè€Œä¸”å¼€å¯äº‹åŠ¡æ—¶è¿˜æœ‰å‘â€¦</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redisä¸»å¤‡è‡ªåŠ¨åˆ‡æ¢é«˜å¯ç”¨æ–¹æ¡ˆ</title>
    <url>/2020/10/14/Redis%E4%B8%BB%E5%A4%87%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E9%AB%98%E5%8F%AF%E7%94%A8%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    æŸä¸ªå®¢æˆ·è´­ä¹°äº†æˆ‘ä»¬äº§å“ï¼Œéœ€è¦åˆ°å®¢æˆ·æœºæˆ¿æ­å»ºé«˜å¯ç”¨çš„redisï¼Œè€Œä¸”è¦æ±‚å‡ºç°æ•…éšœèƒ½å¤Ÿè‡ªåŠ¨åˆ‡æ¢ä¸»å¤‡ã€‚è€ƒè™‘åˆ°èŠ‚çœæœºå™¨ï¼Œè€Œä¸”redisä¸­æ•°æ®ä¹Ÿä¸ä¼šè¶…è¿‡1Gï¼Œå†³å®šç”¨ä¸»ä»æ¶æ„+keepalivedå®ç°ã€‚</p>
<h1 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h1><h2 id="æ‰€éœ€èµ„æº"><a href="#æ‰€éœ€èµ„æº" class="headerlink" title="æ‰€éœ€èµ„æº"></a>æ‰€éœ€èµ„æº</h2><ol>
<li>2å°ä¸»æœº</li>
<li>1ä¸ªvip</li>
</ol>
<h2 id="redisä¸»ä»æ­å»º"><a href="#redisä¸»ä»æ­å»º" class="headerlink" title="redisä¸»ä»æ­å»º"></a>redisä¸»ä»æ­å»º</h2><ol>
<li>2å°ä¸»æœºåˆ†åˆ«å®‰è£…reidsï¼Œå¹¶è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨</li>
<li>ä¿®æ”¹redis.confï¼Œè®¾ç½®ä¸»ä»</li>
</ol>
<h2 id="è®¾ç½®keepalived"><a href="#è®¾ç½®keepalived" class="headerlink" title="è®¾ç½®keepalived"></a>è®¾ç½®keepalived</h2><ol>
<li>2å°ä¸»æœºåˆ†åˆ«å®‰è£…keepalivedï¼Œå¹¶è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨</li>
<li>ç¼–å†™ç›‘å¬redisçš„è„šæœ¬ã€ä¿®æ”¹masterçŠ¶æ€çš„è„šæœ¬ã€ä¿®æ”¹slaveçŠ¶æ€çš„è„šæœ¬</li>
<li>ä¿®æ”¹keepalived.confï¼Œè®¾ç½®vipã€å„è„šæœ¬</li>
</ol>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><ol>
<li>å…ˆæŸ¥çœ‹2å°redisï¼ˆAã€Bï¼‰çš„è§’è‰²</li>
<li>æ‰‹åŠ¨å°†masterï¼ˆAï¼‰çš„rediså…³é—­ï¼Œç„¶åæŸ¥çœ‹slaveï¼ˆBï¼‰çš„è§’è‰²æ˜¯ä¸æ˜¯åˆ‡æ¢ä¸ºmaster</li>
<li>åœ¨æ–°çš„masterï¼ˆBï¼‰ä¸­è®¾ç½®ä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚hello</li>
<li>é‡æ–°å¯åŠ¨Aï¼ŒæŸ¥çœ‹Açš„è§’è‰²æ˜¯å¦ä¸ºslaveï¼Œå¹¶éªŒè¯Aä¸­æ˜¯å¦å°†helloåŒæ­¥è¿‡æ¥</li>
</ol>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redissoné‡åˆ°çš„å‘</title>
    <url>/2018/08/30/Redisson%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<h1 id="WRONGTYPE-Operation-against-a-key-holding-the-wrong-kind-of-value"><a href="#WRONGTYPE-Operation-against-a-key-holding-the-wrong-kind-of-value" class="headerlink" title="WRONGTYPE Operation against a key holding the wrong kind of value"></a>WRONGTYPE Operation against a key holding the wrong kind of value</h1> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">RLock lc = redisson.getLock(<span class="string">&quot;LOCK&quot;</span>); </span><br><span class="line">lc.lock(<span class="number">1000</span>,TimeUnit.MILLISECONDS);</span><br></pre></td></tr></table></figure>

<h2 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h2><p>redissonä¸­çš„getLockä¸ºäº†ä¿æŒåŸå­æ€§ï¼Œä½¿ç”¨Luaè„šæœ¬ä¸€æ¬¡æäº¤ã€‚åœ¨è®¾ç½®é”æ—¶ï¼Œä½¿ç”¨hsetã€‚</p>
<p>å½“redisé‡Œé¢å·²ç»å­˜åœ¨â€LOCKâ€çš„å˜é‡ï¼Œè°ƒç”¨getLockï¼ˆå†…éƒ¨å®ç°ä¸ºhset(â€œLOCKâ€)ï¼‰ï¼Œä¼šæŠ¥è¯¥å¼‚å¸¸ã€‚</p>
<h2 id="å¤„ç†ï¼š"><a href="#å¤„ç†ï¼š" class="headerlink" title="å¤„ç†ï¼š"></a>å¤„ç†ï¼š</h2><p>å…ˆç¡®ä¿redisä¸­çš„â€LOCKâ€å‚æ•°åˆ æ‰ï¼Œåœ¨è°ƒç”¨lock();</p>
<h1 id="unlockæ–¹æ³•ä¸­çš„publish"><a href="#unlockæ–¹æ³•ä¸­çš„publish" class="headerlink" title="unlockæ–¹æ³•ä¸­çš„publish"></a>unlockæ–¹æ³•ä¸­çš„publish</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">RLock lc = redisson.getLock(<span class="string">&quot;LOCK&quot;</span>);</span><br><span class="line">lc.unlock();</span><br></pre></td></tr></table></figure>

<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>é¡¹ç›®ä¸­ä½¿ç”¨<code>psubscribe &quot;*&quot;</code>è®¢é˜…äº†æ‰€æœ‰é¢‘é“ï¼Œåœ¨onMessage()ç›‘å¬å¤„ç†ä¸­ç”¨åˆ°äº†Redissoné”ï¼Œå¹¶ä¸”åœ¨å‡½æ•°æœ€åæœ‰unlock()é‡Šæ”¾é”æ“ä½œã€‚</p>
<h2 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h2><p>ä»£ç è¿è¡Œæ—¶ï¼Œå‘ç°ä¼šä¸€ç›´è§¦å‘onMessage()ï¼Œé€ æˆäº†æ­»å¾ªç¯ã€‚</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ä½¿ç”¨monitorå®æ—¶ç›‘æ§redisæ‰§è¡Œçš„å‘½ä»¤ï¼Œå‘ç°åœ¨unlockæ—¶ï¼Œä¼šä¾æ¬¡åšä¸‹é¢çš„æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">exists XXXX</span><br><span class="line">hexists XXXX ******</span><br><span class="line">hincrby XXXX ****** -1</span><br><span class="line">del XXXX</span><br><span class="line">publish redisson_lock_channel:&#123;XXXX&#125; 0</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°åœ¨æœ€åä¼šå‘redisson_lock_channel:{XXXX} publish ä¸€ä¸ª0</p>
<h2 id="å¤„ç†"><a href="#å¤„ç†" class="headerlink" title="å¤„ç†"></a>å¤„ç†</h2><p>åœ¨onMessage()ä¸­é’ˆå¯¹è‡ªå·±æƒ³è®¢é˜…çš„é¢‘é“å¤„ç†ï¼Œå¦åˆ™return;</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Rediså¸¸ç”¨å‘½ä»¤</title>
    <url>/2018/08/30/Redis%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h1 id="client-list"><a href="#client-list" class="headerlink" title="client list"></a>client list</h1><p>æŸ¥çœ‹è¿æ¥çš„å®¢æˆ·ç«¯</p>
<h1 id="monitor"><a href="#monitor" class="headerlink" title="monitor"></a>monitor</h1><p>å®æ—¶ç›‘æ§redisæ‰§è¡Œçš„å‘½ä»¤</p>
<h1 id="info"><a href="#info" class="headerlink" title="info"></a>info</h1><p>redisä¿¡æ¯</p>
<h1 id="é…ç½®å¯†ç "><a href="#é…ç½®å¯†ç " class="headerlink" title="é…ç½®å¯†ç "></a>é…ç½®å¯†ç </h1><p>æ‰¾åˆ°å¯¹åº”çš„redis.confæ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨/etc/ç›®å½•ä¸‹ï¼Œç„¶åæ‰¾åˆ°requirepassï¼Œä¿®æ”¹åé¢çš„å€¼ï¼Œå¹¶å°†å‰é¢çš„# åˆ æ‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># requirepass foobared</span></span><br></pre></td></tr></table></figure>

<h1 id="pub-sub"><a href="#pub-sub" class="headerlink" title="pub/sub"></a>pub/sub</h1><p>publishï¼šå‘å¸ƒï¼›</p>
<p>subscribeï¼šç›‘å¬æŸä¸€é¢‘é“ï¼›</p>
<p>psubscribeï¼šæ”¯æŒæ­£åˆ™ï¼›</p>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redisæ‰¹é‡æ”¹åkey</title>
    <url>/2018/04/13/Redis%E6%89%B9%E9%87%8F%E6%94%B9%E5%90%8Dkey/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    æœ€è¿‘æ¥åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œéœ€è¦å°†redisä¸­çš„keyè¿›è¡Œrenameã€‚ä¹‹å‰çš„ç»“æ„ä¸ºXXX-XXX-XXX-*ï¼Œæ›¿æ¢ä¸ºXXX:XXX:XXX:*ã€‚</p>
<h2 id="æ€è·¯-amp-æ–¹æ¡ˆ"><a href="#æ€è·¯-amp-æ–¹æ¡ˆ" class="headerlink" title="æ€è·¯&amp;æ–¹æ¡ˆ"></a>æ€è·¯&amp;æ–¹æ¡ˆ</h2><p>â€‹    ç¬¬ä¸€ååº”æƒ³åˆ°æ˜¯ç”¨æ­£åˆ™ï¼ŒåŒ¹é…å‡ºå¯¹åº”çš„keyï¼Œç„¶ååˆ©ç”¨redisä¸­ä¹Ÿæœ‰renameå‘½ä»¤ï¼Œæ”¯æŒé‡å‘½åã€‚å°½é‡éƒ½åœ¨redisä¸­å¤„ç†ã€‚</p>
<p>â€‹    åæ¥è°ƒç ”äº†ä¸€ä¸‹ï¼Œredisä¸­æ²¡æœ‰ç±»ä¼¼äºfindçš„å‘½ä»¤ğŸ˜©ï¼Œå”¯ä¸€å¯ç”¨çš„æ˜¯keyså‘½ä»¤ï¼Œæ‰€ä»¥è°ƒæ•´æ–¹æ¡ˆï¼Œä½¿ç”¨keys+patternåŒ¹é…å‡ºæ‰€æœ‰å¯¹åº”çš„keyï¼Œæµå‘shellï¼Œshellä¸­å¯¹keyå¾ªç¯ï¼Œè½¬æ¢keyåã€‚</p>
<p>â€‹    å…¶ä¸­è¿˜æœ‰ä¸€ä¸ªå‘ï¼Œkeysè™½ç„¶æ”¯æŒæ­£åˆ™ï¼Œä½†æ˜¯è²Œä¼¼åªæ”¯æŒ*ï¼Œ?ã€+ã€^éƒ½ä¸æ”¯æŒã€‚åº“ä¸­æ–°ç»“æ„ã€è€ç»“æ„çš„æ•°æ®éƒ½æœ‰ï¼Œæ‰€ä»¥åªèƒ½æšä¸¾äº†</p>
<h2 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//åˆ›å»ºshellè„šæœ¬</span><br><span class="line">vim rename.sh</span><br><span class="line"></span><br><span class="line">//æ‹·è´å¦‚ä¸‹å†…å®¹</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">##redisä¸»æœºIP</span></span><br><span class="line">host=127.0.0.1</span><br><span class="line"><span class="comment">##redisç«¯å£</span></span><br><span class="line">port=6379</span><br><span class="line"><span class="comment">##å¯†ç </span></span><br><span class="line">passwd=123456</span><br><span class="line"><span class="comment">##patternæ¨¡å¼</span></span><br><span class="line"><span class="comment"># patterns=(&quot;[a-zA-Z]*-[a-zA-Z0-9]*&quot; &quot;[a-zA-Z]-[a-zA-Z0-9]*-[a-zA-Z0-9]*&quot; &quot;[a-zA-Z]-[a-zA-Z0-9]*-[a-zA-Z0-9]*-*&quot;)</span></span><br><span class="line">patterns=(<span class="string">&quot;Answer-*-*-*&quot;</span> <span class="string">&quot;FaqInfo-*-*&quot;</span> <span class="string">&quot;ModelInfo-*-*&quot;</span> <span class="string">&quot;RelatedFaq-*-*-*&quot;</span> <span class="string">&quot;SensitiveWord-*&quot;</span> <span class="string">&quot;Term-*-*-*&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">##å¤‡ä»½redis</span></span><br><span class="line">redis-cli -h <span class="variable">$host</span> -p <span class="variable">$port</span> -a <span class="variable">$passwd</span> save</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;å¤‡ä»½è‡³=&gt;&#x27;</span></span><br><span class="line">redis-cli -h <span class="variable">$host</span> -p <span class="variable">$port</span> -a <span class="variable">$passwd</span> config get dir</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> <span class="variable">$&#123;patterns[@]&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    <span class="comment">##å¾ªç¯è·å–keyå¹¶åˆ é™¤</span></span><br><span class="line">    re=$(redis-cli -h <span class="variable">$host</span> -p <span class="variable">$port</span> -a <span class="variable">$passwd</span> --raw keys <span class="variable">$p</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$re</span></span><br><span class="line">    <span class="comment">##è½¬æˆæ•°ç»„</span></span><br><span class="line">    arr=(<span class="variable">$re</span>)</span><br><span class="line">    <span class="comment">##æ‰“å°æ•°ç»„é•¿åº¦</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;arr.len:&#x27;</span><span class="variable">$&#123;#arr[@]&#125;</span></span><br><span class="line">    <span class="comment">##å¾ªç¯æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> <span class="variable">$&#123;arr[@]&#125;</span></span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">            <span class="comment"># echo $key</span></span><br><span class="line">            <span class="comment"># echo &quot;key:&quot;$key</span></span><br><span class="line">            newKey=$(<span class="built_in">echo</span> <span class="variable">$&#123;key/\-/\:&#125;</span>)</span><br><span class="line">            newKey=$(<span class="built_in">echo</span> <span class="variable">$&#123;newKey/\-/\:&#125;</span>)</span><br><span class="line">            newKey=$(<span class="built_in">echo</span> <span class="variable">$&#123;newKey/\-/\:&#125;</span>)</span><br><span class="line">            <span class="built_in">echo</span> <span class="variable">$newKey</span></span><br><span class="line">            redis-cli -h <span class="variable">$host</span> -p <span class="variable">$port</span> -a <span class="variable">$passwd</span> rename <span class="variable">$key</span> <span class="variable">$newKey</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;done&#x27;</span></span><br><span class="line"></span><br><span class="line">//æˆæ‰§è¡Œæƒé™</span><br><span class="line">chmod 777 rename.sh</span><br><span class="line"></span><br><span class="line">//æ‰§è¡Œ</span><br><span class="line">sh rename.sh XXXX XX XX</span><br></pre></td></tr></table></figure>

<h2 id="æ¢å¤å¤‡ä»½"><a href="#æ¢å¤å¤‡ä»½" class="headerlink" title="æ¢å¤å¤‡ä»½"></a>æ¢å¤å¤‡ä»½</h2><p>â€‹    è„šæœ¬ä¸­ä¼šå…ˆå°†å½“å‰åº“ä¸­å†…å®¹è¿›è¡Œå¤‡ä»½ï¼Œå¤‡ä»½åˆ°è„šæœ¬è¿è¡Œç›®å½•ä¸­ï¼Œæ–‡ä»¶åä¸ºdump.rdbã€‚</p>
<p>æ¢å¤å¤‡ä»½æ“ä½œï¼š</p>
<ol>
<li>åœæ­¢RedisæœåŠ¡ï¼š<code>redis-cli shutdown</code>ï¼›</li>
<li>å°†dump.rdbæ–‡ä»¶æ‹·è´åˆ°rediså®‰è£…ç›®å½•ä¸‹çš„binç›®å½•ï¼ˆæˆ‘çš„æ˜¯/usr/local/Cellar/redis/3.2.9/binï¼‰ï¼›</li>
<li>é‡å¯redisæœåŠ¡ <code>redis-server &amp;</code>;</li>
</ol>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Shell</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>SSHè¿æ¥ä¿æŒä¼šè¯</title>
    <url>/2018/02/03/SSH%E8%BF%9E%E6%8E%A5%E4%BF%9D%E6%8C%81%E4%BC%9A%E8%AF%9D/</url>
    <content><![CDATA[<h2 id="ä¼šè¯ä¿æŒ"><a href="#ä¼šè¯ä¿æŒ" class="headerlink" title="ä¼šè¯ä¿æŒ"></a>ä¼šè¯ä¿æŒ</h2><p>â€‹    ç›¸ä¿¡ç©æœåŠ¡å™¨çš„æœ‹å‹éƒ½é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œç»ˆç«¯é‡Œçš„sshè¿æ¥æœåŠ¡å™¨ç»å¸¸è¶…æ—¶ï¼Œè‡ªåŠ¨æ–­å¼€é“¾æ¥ï¼› è€Œåˆä¸æƒ³ä¸“é—¨ä¸‹è½½ä¸€ä¸ªsshå®¢æˆ·ç«¯ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºå®‰å…¨é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢æ˜¯è§‰å¾—æœ‰äº›é¸¡è‚‹ã€‚æ‰€ä»¥æŸ¥äº†ä¸€ä¸‹èƒ½å¦å°†sshçš„ä¼šè¯ä¿æŒä½ï¼Œä¸è‡ªåŠ¨æ–­å¼€è¿æ¥ï¼Œè¿˜çœŸæœ‰ã€‚</p>
<p>â€‹    ä¸»è¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å‘é€ä¿æŒæ´»è·ƒçš„æ•°æ®åŒ…æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤300ç§’</span></span><br><span class="line">ServerAliveInterval 60 </span><br><span class="line"><span class="comment">#ç³»ç»ŸsshæœåŠ¡ç»´æŒæœ€å¤§çš„ä¿æ´»è¿æ¥æ•°é‡ï¼Œé»˜è®¤æ˜¯3</span></span><br><span class="line">ServerAliveCountMax 10 </span><br></pre></td></tr></table></figure>

<p>â€‹    å¦‚æœéœ€è¦æ›´æ”¹å…¨éƒ¨ç”¨æˆ·çš„è®¾ç½®ï¼Œä¿®æ”¹/etc/ssh/ssh_configä¸­çš„æ–‡ä»¶ï¼›</p>
<p>â€‹    å¦‚æœåªæ”¹æŸä¸€ä¸ªç”¨æˆ·ä¸­çš„è®¾ç½®ï¼Œä¿®æ”¹~/etc/ssh/ssh_configä¸­çš„æ–‡ä»¶ï¼›</p>
<p><em><strong>PS:</strong></em></p>
<p>Host * :Hoståé¢åŠ çš„æ˜¯æœåŠ¡å™¨ipã€ipç«¯ï¼Œ*ä»£è¡¨æ‰€æœ‰æœåŠ¡å™¨</p>
<h2 id="è®¾ç½®åˆ«å"><a href="#è®¾ç½®åˆ«å" class="headerlink" title="è®¾ç½®åˆ«å"></a>è®¾ç½®åˆ«å</h2><p>â€‹    ä¸ºç»å¸¸è®¿é—®çš„æœåŠ¡å™¨è®¾ç½®åˆ«åï¼Œå°±ä¸ç”¨æ¯æ¬¡éƒ½å†™å…¨ä¿¡æ¯äº†ã€‚åŒæ ·ï¼Œè¿˜æ˜¯ç¼–è¾‘ssh_configæ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//æ·»åŠ ï¼Œåä¿å­˜é€€å‡º</span><br><span class="line">Host prd</span><br><span class="line">HostName 120.52.145.22</span><br><span class="line">User <span class="built_in">log</span></span><br><span class="line">IdentitiesOnly yes</span><br><span class="line">IdentityFile  ~/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨åˆ«åç™»å½•(å¦‚æœä¸è¡Œé‡å¯ä¸‹sshæœåŠ¡:sudo service ssh reload)</span><br><span class="line">ssh prd</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼ŒHostã€HostNameã€Userä¸ºå¿…é¡»ï¼Œå…¶ä»–å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦é…ç½®ã€‚å„å±æ€§å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>Host åˆ«å</li>
<li>HostName æŒ‡å®šç™»å½•çš„ä¸»æœºåæˆ–IPåœ°å€</li>
<li>Port æŒ‡å®šç™»å½•çš„ç«¯å£å·</li>
<li>User ç™»å½•ç”¨æˆ·å</li>
<li>IdentityFile ç™»å½•çš„å…¬é’¥æ–‡ä»¶ï¼ˆå¦‚æœæ˜¯pemæ–‡ä»¶ï¼Œå¯ä»¥å°†pemæ·»åŠ åˆ°sshï¼Œssh-addå‘½ä»¤ï¼‰</li>
<li>IdentitiesOnly åªæ¥å—SSH key ç™»å½•</li>
<li>PubkeyAuthentication</li>
</ul>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>SSHé€šè¿‡Keyç™»å½•æœåŠ¡å™¨</title>
    <url>/2018/03/18/SSH%E9%80%9A%E8%BF%87Key%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<h2 id="æœåŠ¡å™¨ä¸Šåˆ›å»ºè®¿é—®ç”¨æˆ·"><a href="#æœåŠ¡å™¨ä¸Šåˆ›å»ºè®¿é—®ç”¨æˆ·" class="headerlink" title="æœåŠ¡å™¨ä¸Šåˆ›å»ºè®¿é—®ç”¨æˆ·"></a>æœåŠ¡å™¨ä¸Šåˆ›å»ºè®¿é—®ç”¨æˆ·</h2><p>è¯¥æ­¥ä¸ºå¯é€‰ï¼Œæ ¹æ®ä¸ªäººéœ€è¦åˆ›å»ºã€‚ä¸æ¨èç›´æ¥ä½¿ç”¨rootç”¨æˆ·ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">adduser gavin</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¯†ç </span></span><br><span class="line">passwd gavin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ sudoæƒé™</span></span><br><span class="line">vim /etc/sudoers</span><br><span class="line"><span class="comment"># æ·»åŠ ä¸‹è¡Œ</span></span><br><span class="line">gavin  ALL=(ALL)       ALL</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸ä¸ºäº†å¢åŠ å¯†ç å¤æ‚åº¦ï¼Œæˆ‘ä¼šç”¨<a href="http://tool.c7sky.com/password/">åœ¨çº¿ç”Ÿæˆå¯†ç å·¥å…·</a> ç”Ÿæˆå¯†ç </p>
<h2 id="æœ¬æœºåˆ›å»ºç§˜é’¥-å…¬é’¥å¯¹ï¼ˆKeyï¼‰"><a href="#æœ¬æœºåˆ›å»ºç§˜é’¥-å…¬é’¥å¯¹ï¼ˆKeyï¼‰" class="headerlink" title="æœ¬æœºåˆ›å»ºç§˜é’¥/å…¬é’¥å¯¹ï¼ˆKeyï¼‰"></a>æœ¬æœºåˆ›å»ºç§˜é’¥/å…¬é’¥å¯¹ï¼ˆKeyï¼‰</h2><p>ç½‘ä¸Šå¾ˆå¤šå¸–å­éƒ½ç›´æ¥ç”¨<strong>ssh-keygen</strong>ï¼Œæˆ–è€…<strong>ssh-keygen -t rsa</strong>ï¼Œè¿™æ ·ä¼šç”Ÿæˆåä¸ºid_rsaçš„Keyï¼ˆé»˜è®¤åï¼‰ï¼Œè¿™æ ·å½“ä½ æ¯æ¬¡éœ€è¦ç”Ÿæˆæ–°çš„Keyæ—¶ï¼Œä¼šè¦†ç›–ä»¥å‰çš„ã€‚å¦‚æœä½ çš„æ‰€æœ‰è®¤è¯å…±ç”¨ä¸€ç»„Keyï¼Œä¹Ÿå¯ä»¥ï¼Œä¸è¿‡ä¸æ¨èã€‚</p>
<p>ä¸‹ä¸ºç”¨rsaç®—æ³•ï¼Œåœ¨~/.ssh/ä¸‹ç”Ÿæˆåä¸ºid_rsa.qcloudï¼Œæ³¨é‡Šä¸ºqcloudçš„Keyï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># qcloudå¯¹åº”è…¾è®¯äº‘ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±æƒ…å†µå–å</span></span><br><span class="line">ssh-keygen -t rsa -f ~/.ssh/id_rsa.qcloud -C <span class="string">&quot;qcloud&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åä¸€è·¯Enterï¼ˆå¯ä»¥é€‰æ‹©è¾“å…¥passphraseï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh/</span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç”Ÿæˆçš„<strong>id_rsa.qcloud</strong>ã€<strong>id_rsa.qcloud.pub</strong></p>
<h2 id="å°†å…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨"><a href="#å°†å…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨" class="headerlink" title="å°†å…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨"></a>å°†å…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨</h2><p>ç§é’¥å­˜æœ¬åœ°ï¼Œå…¬é’¥æ”¾åˆ°æœåŠ¡å™¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”¨gavinç”¨æˆ·ç™»å½•æœåŠ¡å™¨ï¼Œåˆ›å»º.sshç›®å½•</span></span><br><span class="line">mkdir .ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬æœºæ‹·è´åˆ°æœåŠ¡å™¨</span></span><br><span class="line">scp -r ~/.ssh/id_rsa.qcloud.pub gavin@XXX.XXX.XXX.XXX:/home/gavin/.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹æœåŠ¡å™¨ä¸Š.sshã€authorized_keysæƒé™ï¼Œä»…å½“å‰ç”¨æˆ·å¯æ“ä½œ</span></span><br><span class="line">chmod 700 .ssh</span><br><span class="line">chmod 600 .ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<h2 id="æœåŠ¡å™¨å¼€å¯ç§˜é’¥éªŒè¯"><a href="#æœåŠ¡å™¨å¼€å¯ç§˜é’¥éªŒè¯" class="headerlink" title="æœåŠ¡å™¨å¼€å¯ç§˜é’¥éªŒè¯"></a>æœåŠ¡å™¨å¼€å¯ç§˜é’¥éªŒè¯</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯ç§˜é’¥éªŒè¯</span></span><br><span class="line">RSAAuthentication yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦å¤–å¯ä»¥å…³é—­å¯†ç éªŒè¯</span></span><br><span class="line">PasswordAuthentication no</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">service sshd restart</span><br></pre></td></tr></table></figure>

<h2 id="æœ¬æœºè®¾ç½®åˆ«å"><a href="#æœ¬æœºè®¾ç½®åˆ«å" class="headerlink" title="æœ¬æœºè®¾ç½®åˆ«å"></a>æœ¬æœºè®¾ç½®åˆ«å</h2><p>å‰é¢è®¾ç½®å®Œï¼Œå°±å¯ä»¥æ— å¯†ç ç™»å½•äº†ã€‚ä¸è¿‡æ¯æ¬¡éƒ½è¦è¾“å…¥æœåŠ¡å™¨ipï¼Œæ¯”è¾ƒåäººç±»ã€‚å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®åˆ«åï¼Œä½¿ä½“éªŒæ›´å‹å¥½ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/ssh/ssh_config (æˆ–è€…~/.ssh/ssh_config)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ï¼Œä¿å­˜é€€å‡º</span></span><br><span class="line">Host qcloud</span><br><span class="line">HostName XXX.XXX.XXX.XXX</span><br><span class="line">User gavin</span><br><span class="line">IdentitiesOnly yes</span><br><span class="line">IdentityFile  ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>å¦‚æ­¤è®¾ç½®ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥<strong>ssh qcloud</strong>ç™»å½•ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>Solræ¼”ç»ƒ</title>
    <url>/2018/09/09/Solr%E6%BC%94%E7%BB%83/</url>
    <content><![CDATA[<h1 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h1><ol>
<li>è®¿é—®<a href="https://www.apache.org/dyn/closer.cgi">å®˜ç½‘</a>è¿›è¡Œä¸‹è½½ï¼›</li>
<li>è§£å‹å³å¯ï¼›</li>
</ol>
<h1 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h1><ol>
<li>è¿›åˆ°solrç›®å½•ï¼Œæ‰§è¡Œ<code>bin/solr start -e cloud</code>ï¼Œå¤šèŠ‚ç‚¹è¿è¡Œï¼›</li>
<li>åˆ†åˆ«æç¤ºåˆ›å»ºå‡ ä¸ªèŠ‚ç‚¹ã€ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ç«¯å£ã€ç¬¬äºŒä¸ªèŠ‚ç‚¹ç«¯å£ï¼ŒæŒ‰enteré»˜è®¤å°±å¯ä»¥ï¼›</li>
<li>è¾“å…¥é›†åˆåç§°ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºtechproductsï¼›</li>
<li>ç„¶åæç¤ºåˆ›å»ºå‡ ä¸ªåˆ†ç‰‡ã€åˆ›å»ºå‡ ä¸ªå‰¯æœ¬ï¼Œè¿™äº›é»˜è®¤2å°±å¯ä»¥ï¼›</li>
<li>ç„¶åé€‰æ‹©ä½¿ç”¨å“ªç»„é…ç½®æ–‡ä»¶ï¼Œæ€»å…±æœ‰_defaultã€sample_techproducts_configsä¸¤ä¸ªé€‰é¡¹ï¼Œæˆ‘ä»¬é€‰åè€…ï¼›</li>
<li>åˆ›å»ºå®Œæˆï¼Œå¯ä»¥é€šè¿‡<code>localhost:8983</code>è¿›å…¥solrç®¡ç†é¡µé¢ï¼Œåœ¨cloudä¸­æŸ¥çœ‹é›†åˆçš„ç»“æ„ï¼›</li>
</ol>
<p><strong>å¦‚æœç¬¬ä¸€æ­¥æ—¶æŠ¥é”™ï¼š</strong></p>
<p>ä½¿ç”¨æ™®é€šç”¨æˆ·ï¼š</p>
<p><code>ERROR: Logs directory /etc/solr-7.4.0/example/cloud/node1/solr/../logs is not writable. Exiting</code></p>
<p>æˆ–è€…</p>
<p>ä½¿ç”¨rootç”¨æˆ·ï¼š</p>
<p><code>ERROR: Failed to start Solr using command: &quot;bin/solr&quot; start -cloud -p 8983 -s &quot;example/cloud/node1/solr&quot; Exception : org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)</code></p>
<p>æ˜¯å› ä¸ºç”¨æˆ·è®¿é—®æƒé™ä¸å¯¹ï¼Œä¿®æ”¹ä¸‹æƒé™å°±å¯ä»¥ã€‚æˆ‘è¿™é‡Œç›´æ¥å¼€äº†æ‰€æœ‰æƒé™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo chmod -R 777 /etc/solr-7.4.0</span><br></pre></td></tr></table></figure>

<h1 id="ç´¢å¼•æ•°æ®"><a href="#ç´¢å¼•æ•°æ®" class="headerlink" title="ç´¢å¼•æ•°æ®"></a>ç´¢å¼•æ•°æ®</h1><p>Solrç›®å½•ä¸­çš„exampleæä¾›äº†åŸºç¡€æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›åŸºç¡€æ•°æ®åŠ è½½åˆ°åˆšæ‰åˆ›å»ºçš„techproductsé›†åˆï¼Œå¹¶å»ºç«‹ç´¢å¼•ï¼š</p>
<p><code>bin/post -c techproducts example/exampledocs/*</code></p>
<h1 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h1><p>åœ¨Solr Adminä¸­å¯ä»¥è‡ªå·±å®šä¹‰æŸ¥è¯¢æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
<ol>
<li>å…ˆé€‰ä¸­åˆ›å»ºçš„techproductsé›†åˆï¼Œç„¶åé€‰æ‹©Queryï¼›</li>
<li>åœ¨qä¸­è¾“å…¥è‡ªå·±çš„æŸ¥è¯¢æ¡ä»¶ï¼Œé»˜è®¤*:*æŸ¥è¯¢æ‰€æœ‰ã€‚æ¯”å¦‚<code>id:123</code>ï¼Œå°±æ˜¯æŸ¥è¯¢idä¸º123çš„å†…å®¹ï¼›</li>
<li>å¤šæ¡ä»¶æŸ¥è¯¢ï¼Œä¸­é—´ç”¨<code>+</code>è¿æ¥ï¼Œå¦‚ï¼š<code>+(features:&quot;CAS latency&quot;)+(id:&quot;VDBDB1A16&quot;)</code>ï¼›ç›¸åï¼Œå¦‚æœå¸Œæœ›ç»“æœä¸­è¿‡æ»¤æ‰æŸä¸ªå±æ€§çš„å†…å®¹ï¼Œç”¨<code>-</code>è¿æ¥ï¼Œå¦‚ï¼š<code>+(features:&quot;CAS latency&quot;)-(id:&quot;VDBDB1A16&quot;)</code></li>
<li>flå¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œè¿‡æ»¤ï¼Œä»…æ˜¾ç¤ºflä¸­çš„å±æ€§ã€‚å¤šä¸ªå±æ€§<code>,</code>é—´éš”ï¼›</li>
</ol>
<h1 id="Solrå…¶ä»–å‘½ä»¤"><a href="#Solrå…¶ä»–å‘½ä»¤" class="headerlink" title="Solrå…¶ä»–å‘½ä»¤"></a>Solrå…¶ä»–å‘½ä»¤</h1><h3 id="åˆ é™¤é›†åˆ"><a href="#åˆ é™¤é›†åˆ" class="headerlink" title="åˆ é™¤é›†åˆ"></a>åˆ é™¤é›†åˆ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bin/solr delete -c techproducts</span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºæ–°é›†åˆ"><a href="#åˆ›å»ºæ–°é›†åˆ" class="headerlink" title="åˆ›å»ºæ–°é›†åˆ"></a>åˆ›å»ºæ–°é›†åˆ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bin/solr create -c &lt;yourCollection&gt; -s 2 -rf 2</span><br></pre></td></tr></table></figure>

<h3 id="åœæ­¢"><a href="#åœæ­¢" class="headerlink" title="åœæ­¢"></a>åœæ­¢</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bin/solr stop -all</span><br></pre></td></tr></table></figure>

<h3 id="é‡æ–°å¯åŠ¨"><a href="#é‡æ–°å¯åŠ¨" class="headerlink" title="é‡æ–°å¯åŠ¨"></a>é‡æ–°å¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bin/solr start -c -p 8983 -s example/cloud/node1/solr</span><br><span class="line">bin/solr start -c -p 7574 -s example/cloud/node2/solr -z localhost:9983</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ä¸­é—´ä»¶</category>
      </categories>
      <tags>
        <tag>Solr</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootå¤šå°å®ä¾‹ç›‘æ§redis-keyå¤±æ•ˆäº‹ä»¶</title>
    <url>/2018/06/06/SpringBoot%E5%A4%9A%E5%AE%9E%E4%BE%8B%E7%9B%91%E6%8E%A7redis-key%E5%A4%B1%E6%95%88%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    æœ€è¿‘æ¥åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œredisä¸­çš„å˜é‡å¤±æ•ˆæ—¶ï¼Œéœ€è¦è®°å½•åˆ°æ—¥å¿—ä¸­ã€‚æŸ¥äº†ä¸€ä¸‹ï¼Œå¯ä»¥é€šè¿‡è®¢é˜…redisäº‹ä»¶ï¼Œjavaä¸­è¿›è¡Œå¤„ç†ã€‚è®¢é˜…äº‹ä»¶ä¼šé˜»å¡å½“å‰è¿›ç¨‹ï¼Œæ‰€ä»¥éœ€è¦å¼€çº¿ç¨‹å¤„ç†ã€‚åå°æœåŠ¡æ˜¯SpringBootæ­å»ºï¼Œè€Œä¸”æ˜¯å¤šå®ä¾‹ï¼Œä¸ºäº†ç¡®ä¿æ¯ä¸ªäº‹ä»¶ä»…æ¶ˆè´¹ä¸€æ¬¡ï¼Œé€‚ç”¨redisé”ã€‚</p>
<h1 id="Redisè®¾ç½®"><a href="#Redisè®¾ç½®" class="headerlink" title="Redisè®¾ç½®"></a>Redisè®¾ç½®</h1><p>â€‹    redisä¸­éœ€è¦å¼€å¯äº‹ä»¶é€šçŸ¥ï¼Œé»˜è®¤æ˜¯ä¸å¼€å¯çš„ã€‚</p>
<ol>
<li>ä¿®æ”¹redis.confæ–‡ä»¶ï¼Œè®¾ç½®notify-keyspace-events ä¸º Exï¼›</li>
<li>redisä¸­æ‰§è¡Œ<code>config set notify-keyspace-events Ex</code>ï¼ˆè¯¥æ–¹å¼é‡å¯rediså¤±æ•ˆï¼‰ï¼›</li>
</ol>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>K</td>
<td>é”®ç©ºé—´é€šçŸ¥ï¼Œä»¥<code>__keyspace@&lt;db&gt;__</code>ä¸ºå‰ç¼€</td>
</tr>
<tr>
<td>E</td>
<td>é”®äº‹ä»¶é€šçŸ¥ï¼Œä»¥<code>__keysevent@&lt;db&gt;__</code>ä¸ºå‰ç¼€</td>
</tr>
<tr>
<td>g</td>
<td>del , expipre , rename ç­‰ç±»å‹æ— å…³çš„é€šç”¨å‘½ä»¤çš„é€šçŸ¥</td>
</tr>
<tr>
<td>$</td>
<td>Stringå‘½ä»¤</td>
</tr>
<tr>
<td>l</td>
<td>Listå‘½ä»¤</td>
</tr>
<tr>
<td>s</td>
<td>Setå‘½ä»¤</td>
</tr>
<tr>
<td>h</td>
<td>Hashå‘½ä»¤</td>
</tr>
<tr>
<td>z</td>
<td>æœ‰åºé›†åˆå‘½ä»¤</td>
</tr>
<tr>
<td>x</td>
<td>è¿‡æœŸæ—¶é—´ï¼ˆæ¯æ¬¡keyè¿‡æœŸæ—¶ç”Ÿæˆï¼‰</td>
</tr>
<tr>
<td>e</td>
<td>å»ä½æ—¶é—´ï¼ˆå½“keyåœ¨å†…å­˜å­˜æ»¡äº†è¢«æ¸…é™¤æ—¶ç”Ÿæˆï¼‰</td>
</tr>
<tr>
<td>A</td>
<td>g$lshzxeçš„åˆ«åï¼Œå› æ­¤â€œAKEâ€æ„å‘³ç€æ‰€æœ‰äº‹ä»¶</td>
</tr>
</tbody></table>
<h1 id="Javaä»£ç "><a href="#Javaä»£ç " class="headerlink" title="Javaä»£ç "></a>Javaä»£ç </h1><h2 id="è®¾ç½®JedisPool"><a href="#è®¾ç½®JedisPool" class="headerlink" title="è®¾ç½®JedisPool"></a>è®¾ç½®JedisPool</h2><h3 id="å¢åŠ jedisä¾èµ–"><a href="#å¢åŠ jedisä¾èµ–" class="headerlink" title="å¢åŠ jedisä¾èµ–"></a>å¢åŠ jedisä¾èµ–</h3><p>pomæ–‡ä»¶å¢åŠ ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ymlä¸­å¢åŠ é…ç½®"><a href="#ymlä¸­å¢åŠ é…ç½®" class="headerlink" title="ymlä¸­å¢åŠ é…ç½®"></a>ymlä¸­å¢åŠ é…ç½®</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">jedis:</span></span><br><span class="line">  <span class="attr">max:</span></span><br><span class="line">    <span class="attr">total:</span> <span class="number">100</span></span><br><span class="line">    <span class="attr">idle:</span> <span class="number">10</span></span><br><span class="line">    <span class="attr">waitmillis:</span> <span class="number">10000</span></span><br><span class="line">    <span class="attr">timeout:</span> <span class="number">10000</span></span><br><span class="line">  <span class="attr">testOnBorrow:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">  <span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure>

<h3 id="å®ä¾‹åŒ–JedisPool"><a href="#å®ä¾‹åŒ–JedisPool" class="headerlink" title="å®ä¾‹åŒ–JedisPool"></a>å®ä¾‹åŒ–JedisPool</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cache.annotation.CachingConfigurerSupport;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cache.annotation.EnableCaching;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·ç¼–å†™æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yangfan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2018/6/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JedisConfig</span> <span class="keyword">extends</span> <span class="title">CachingConfigurerSupport</span></span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.port&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> port;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.host&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String host;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.max.total&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer maxTotal;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.max.idle&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer maxIdle;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.max.waitmillis&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long maxWaitMillis;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.max.timeout&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> timeout;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jedis.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JedisPool <span class="title">redisPoolFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        JedisPoolConfig jedisPoolConfig = <span class="keyword">new</span> JedisPoolConfig();</span><br><span class="line">        jedisPoolConfig.setMaxIdle(maxIdle);</span><br><span class="line">        jedisPoolConfig.setMaxWaitMillis(maxWaitMillis);</span><br><span class="line">        JedisPool jedisPool = <span class="keyword">new</span> JedisPool(jedisPoolConfig, host, port, timeout, password);</span><br><span class="line">        <span class="keyword">return</span> jedisPool;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºç›‘å¬ç±»"><a href="#åˆ›å»ºç›‘å¬ç±»" class="headerlink" title="åˆ›å»ºç›‘å¬ç±»"></a>åˆ›å»ºç›‘å¬ç±»</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.springboot.util.ApplicationContextUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPubSub;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·ç¼–å†™æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yangfan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2018/6/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisListener</span> <span class="keyword">extends</span> <span class="title">JedisPubSub</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String INSTANCE_LOCK = <span class="string">&quot;INSTANCE_LOCK&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JedisPool jedisPool;</span><br><span class="line">    Jedis jedis = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPMessage</span><span class="params">(String pattern, String channel, String message)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// çº¿ç¨‹ä¸­æ— æ³•é€šè¿‡æ³¨è§£è·å–æ³¨å…¥å¯¹è±¡ï¼Œåœ¨ApplicationContextä¸­è·å–</span></span><br><span class="line">        jedisPool = ApplicationContextUtil.getBean(JedisPool.class);</span><br><span class="line">        jedis = jedisPool.getResource();</span><br><span class="line"></span><br><span class="line">	    <span class="comment">// åŠ é”ã€‚setnxæ˜¯åŸå­æ€§æ“ä½œï¼Œè®¾ç½®æˆåŠŸè¿”å›1ï¼Œå¦åˆ™è¿”å›0</span></span><br><span class="line">        Long lock = jedis.setnx(INSTANCE_LOCK, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (lock == <span class="number">0</span>) &#123;</span><br><span class="line">        	jedis.close();</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	    <span class="comment">// å†™å¤„ç†é€»è¾‘ï¼Œå¯ä»¥åšå…¶ä»–æ“ä½œï¼Œä¹Ÿå¯ä»¥å…¥åº“</span></span><br><span class="line">        System.out.println(pattern + <span class="string">&quot;=&quot;</span> + channel + <span class="string">&quot;=&quot;</span> + message);</span><br><span class="line">        </span><br><span class="line">        jedis.del(INSTANCE_LOCK);</span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="comment">// è®¢é˜…äº‹ä»¶ï¼Œä½¿ç”¨çº¿ç¨‹ä¸­æ“ä½œï¼Œå¦åˆ™é˜»å¡å½“å‰è¿›ç¨‹</span></span><br><span class="line">        SubThread subThread = <span class="keyword">new</span> SubThread(jedisPool);</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(subThread);</span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€å¼€å§‹çš„æ–¹æ¡ˆï¼Œå®ä¾‹å…±ç”¨ä¸€ä¸ªé”ï¼Œå®é™…å‘ç°å¯èƒ½ä¼šæœ‰å®ä¾‹Aå¤„ç†å®Œï¼Œå®ä¾‹Bæ‰å¼€å§‹å¤„ç†ï¼Œå¯¼è‡´å¤„ç†å¤šæ¬¡çš„æƒ…å†µã€‚</p>
<p>ç„¶åä¼˜åŒ–ä¸ºå°†é”æ—¶é—´åŠ é•¿çš„æ–¹æ¡ˆã€‚</p>
<p>è€Œå¦‚æœå°†é”æ—¶é—´åŠ é•¿ï¼Œä¼šå¯¼è‡´å¤šå°å®ä¾‹å¤„ç†æ˜¯é˜»å¡ï¼Œè¿›è€Œä¼˜åŒ–ä¸ºæ¯ä¸ªKeyåŠ é”ã€å¹¶å»¶é•¿é”æ—¶é—´çš„æ–¹æ¡ˆã€‚</p>
<p>ä¿®æ”¹åå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPMessage</span><span class="params">(String pattern, String channel, String message)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (StringUtils.startsWith(message, KEYS_LOCK)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    jedisPool = ApplicationContextUtil.getBean(JedisPool.class);</span><br><span class="line">    jedis = jedisPool.getResource();</span><br><span class="line"></span><br><span class="line">    Long lock = jedis.setnx(KEYS_LOCK + message, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">    jedis.expire(KEYS_LOCK + message, <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">if</span> (lock == <span class="number">0</span>) &#123;</span><br><span class="line">        jedis.close();</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(pattern + <span class="string">&quot;=&quot;</span> + channel + <span class="string">&quot;=&quot;</span> + message);</span><br><span class="line">    jedis.del(KEYS_LOCK);</span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºçº¿ç¨‹ç±»"><a href="#åˆ›å»ºçº¿ç¨‹ç±»" class="headerlink" title="åˆ›å»ºçº¿ç¨‹ç±»"></a>åˆ›å»ºçº¿ç¨‹ç±»</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·ç¼–å†™æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yangfan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2018/6/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> JedisPool jedisPool;</span><br><span class="line"><span class="comment">//	ç»æµ‹è¯•ï¼Œä»…èƒ½é€šè¿‡ * æ­£åˆ™åŒ¹é…ï¼Œå¦‚æœåŠ å‰ç¼€ï¼ŒåŒ¹é…ä¸åˆ°</span></span><br><span class="line">    String pattern = <span class="string">&quot;*&quot;</span>;</span><br><span class="line"><span class="comment">//    String pattern0 = &quot;keyspace@0:SessionID_*&quot;;</span></span><br><span class="line"><span class="comment">//    String pattern1 = &quot;__key*__:*&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//	å¯ä»¥ç›‘å¬æŸä¸€ç‰¹å®šchannelçš„äº‹ä»¶</span></span><br><span class="line"><span class="comment">//    String pattern2 = &quot;__keyevent@0__:*&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//	å…¥å‚å¯ä»¥ä¸ºStringæ•°ç»„</span></span><br><span class="line"><span class="comment">//    String[] patterns = new String[]&#123;&quot;SessionID_*&quot;&#125;;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SubThread</span><span class="params">(JedisPool jedisPool)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.jedisPool = jedisPool;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="comment">//å¦‚æœçº¿ç¨‹ä¸­å‡ºç°é—®é¢˜ï¼Œçº¿ç¨‹ç›´æ¥æŒ‚æ‰ã€‚</span></span><br><span class="line">    	<span class="comment">//ä½¿ç”¨whileï¼Œé‡å¯çº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            Jedis jedis = jedisPool.getResource();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                jedis.psubscribe(<span class="keyword">new</span> RedisListener(), pattern);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                jedis.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºApplicationContextUtilç±»"><a href="#åˆ›å»ºApplicationContextUtilç±»" class="headerlink" title="åˆ›å»ºApplicationContextUtilç±»"></a>åˆ›å»ºApplicationContextUtilç±»</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeansException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContextAware;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·ç¼–å†™æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yangfan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2018/6/6</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationContextUtil</span> <span class="keyword">implements</span> <span class="title">ApplicationContextAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApplicationContext</span><span class="params">(ApplicationContext applicationContext)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ApplicationContextUtil.applicationContext == <span class="keyword">null</span>) &#123;</span><br><span class="line">            ApplicationContextUtil.applicationContext = applicationContext;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ApplicationContext <span class="title">getApplicationContext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getBean</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ApplicationContextUtil.getApplicationContext().getBean(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt;<span class="function">T <span class="title">getBean</span><span class="params">(Class&lt;T&gt; clazz)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ApplicationContextUtil.getApplicationContext().getBean(clazz);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt;<span class="function">T <span class="title">getBean</span><span class="params">(String name, Class&lt;T&gt; clazz)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ApplicationContextUtil.getApplicationContext().getBean(name, clazz);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootå¸¸è§æŠ¥é”™</title>
    <url>/2018/04/18/SpringBoot%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<h2 id="Whitelabel-Error-Page"><a href="#Whitelabel-Error-Page" class="headerlink" title="Whitelabel Error Page"></a>Whitelabel Error Page</h2><p>è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯é…ç½®ä¸å¯¹ï¼Œä»”ç»†æ£€æŸ¥ä¸‹ã€‚</p>
<p>å¦å¤–ï¼Œæ–°æ‰‹å¸¸çŠ¯çš„é”™è¯¯å°±æ˜¯ï¼Œä½¿ç”¨<code>@SpringBootApplication</code>æ³¨è§£çš„Applicationç±»ï¼Œéœ€è¦ä¸controlleråŒçº§ç›®å½•ã€‚å› ä¸ºé»˜è®¤ä»Applicationç±»å½“å‰ç›®å½•å‘ä¸‹çš„å­ç›®å½•é‡Œæ‰«æã€‚</p>
<h2 id="Detected-both-xxx-jar-and-bound-xxx-jar-on-the-class-path"><a href="#Detected-both-xxx-jar-and-bound-xxx-jar-on-the-class-path" class="headerlink" title="Detected both xxx.jar and bound xxx.jar on the class path"></a>Detected both xxx.jar and bound xxx.jar on the class path</h2><p>jaråŒ…å†²çªï¼Œæ ¹æ®æƒ…å†µåˆ é™¤å…¶ä¸­ä¸€ä¸ªjaråŒ…ã€‚</p>
<p>ç”±äºspringbootä¸­å¾ˆå¤šåŒ…æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œä¸‹é¢æ•™å¤§å®¶å¦‚ä½•çœ‹é¡¹ç›®ä¸­çš„åŒ…åˆ†åˆ«åŒ…å«å“ªäº›åŒ…ï¼š</p>
<p>1ã€ä½¿ç”¨ideaä¸­çš„<code>Show Dependencies</code></p>
<p>æ‰“å¼€<code>View - Tool Windows - Maven Projects</code></p>
<img data-src="/2018/04/18/SpringBoot%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99/idea_maven_jar.png" class="">

<p>ç‚¹å‡»åï¼Œç”ŸæˆåŒ…ä¾èµ–è§†å›¾</p>
<img data-src="/2018/04/18/SpringBoot%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99/maven_jar.png" class="">

<p>2ã€ å¦‚æœä½ çš„ideaæ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨mavenå‘½ä»¤æ˜¾ç¤ºç»“æ„ï¼Œæ˜¯ä¸€ä¸ªæ ‘çŠ¶å›¾</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn dependency:tree</span><br><span class="line"></span><br><span class="line">//ç”Ÿæˆç»“æ„å¦‚ä¸‹ï¼š</span><br><span class="line">[INFO] com.springboot:myspringbootdemo:jar:0.0.1-SNAPSHOT</span><br><span class="line">[INFO] +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile</span><br><span class="line">[INFO] |  |  |  |  \- ch.qos.logback:logback-core:jar:1.2.3:compile</span><br><span class="line">[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.10.0:compile</span><br><span class="line">[INFO] |  |  |  |  \- org.apache.logging.log4j:log4j-api:jar:2.10.0:compile</span><br><span class="line">[INFO] |  |  |  \- org.slf4j:jul-to-slf4j:jar:1.7.25:compile</span><br><span class="line">[INFO] |  |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile</span><br><span class="line">[INFO] |  |  \- org.yaml:snakeyaml:jar:1.19:runtime</span><br><span class="line">[INFO] |  +- com.zaxxer:HikariCP:jar:2.7.8:compile</span><br><span class="line">[INFO] |  \- org.springframework:spring-jdbc:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] |     +- org.springframework:spring-beans:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] |     \- org.springframework:spring-tx:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.5:compile</span><br><span class="line">[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile</span><br><span class="line">[INFO] |  |  |  \- com.fasterxml.jackson.core:jackson-core:jar:2.9.5:compile</span><br><span class="line">[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.9.5:compile</span><br><span class="line">[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.9.5:compile</span><br><span class="line">[INFO] |  |  \- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.9.5:compile</span><br><span class="line">[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.0.1.RELEASE:compile</span><br><span class="line">[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.29:compile</span><br><span class="line">[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.29:compile</span><br><span class="line">[INFO] |  |  \- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.29:compile</span><br><span class="line">[INFO] |  +- org.hibernate.validator:hibernate-validator:jar:6.0.9.Final:compile</span><br><span class="line">[INFO] |  |  +- javax.validation:validation-api:jar:2.0.1.Final:compile</span><br><span class="line">[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile</span><br><span class="line">[INFO] |  |  \- com.fasterxml:classmate:jar:1.3.4:compile</span><br><span class="line">[INFO] |  +- org.springframework:spring-web:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] |  \- org.springframework:spring-webmvc:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] |     +- org.springframework:spring-aop:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] |     +- org.springframework:spring-context:jar:5.0.5.RELEASE:compile</span><br><span class="line">[INFO] |     \- org.springframework:spring-expression:jar:5.0.5.RELEASE:compile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootç›¸å…³èµ„æ–™</title>
    <url>/2017/07/29/SpringBoot%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99/</url>
    <content><![CDATA[<h2 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h2><h3 id="Blog"><a href="#Blog" class="headerlink" title="Blog"></a>Blog</h3><ul>
<li><a href="http://blog.didispace.com/categories/Spring-Boot/">ç¨‹åºå‘˜DD-ç¿Ÿæ°¸è¶…</a></li>
<li><a href="http://www.ityouknow.com/spring-boot">çº¯æ´çš„å¾®ç¬‘</a></li>
<li><a href="http://blog.csdn.net/liaokailin/article/category/5765237">liaokailinçš„ä¸“æ </a></li>
<li><a href="http://blog.720ui.com/columns/springboot_all/">Spring Boot æ­ç§˜ä¸å®æˆ˜ ç³»åˆ—</a></li>
<li><a href="http://blog.csdn.net/column/details/spring-boot.html">catoopçš„ä¸“æ </a></li>
<li><a href="http://blog.csdn.net/column/details/15397.html">æ–¹å¿—æœ‹ Spring Boot ä¸“æ </a></li>
<li><a href="http://lihao312.iteye.com/">Spring-booté›†æˆ</a></li>
</ul>
<h3 id="Website"><a href="#Website" class="headerlink" title="Website"></a>Website</h3><ul>
<li><a href="http://projects.spring.io/spring-boot/">Spring Boot å®˜ç½‘</a></li>
<li><a href="https://qbgbook.gitbooks.io/spring-boot-reference-guide-zh/content/">Spring Bootå‚è€ƒæŒ‡å—-ä¸­æ–‡ç‰ˆ</a></li>
<li><a href="https://dongchuan.gitbooks.io/gradle-user-guide-/content/tutorials/">Gradle ä¸­æ–‡å‚è€ƒæŒ‡å—</a></li>
<li><a href="http://www.imooc.com/learn/767">æ…•è¯¾ç½‘è§†é¢‘</a></li>
<li><a href="http://www.mkyong.com/tutorials/spring-boot-tutorials/">spring-boot-tutorials</a></li>
</ul>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><ul>
<li><a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples">spring bootå®˜æ–¹ä¾‹å­</a></li>
<li><a href="https://github.com/ityouknow/spring-boot-examples">spring-boot-starter</a></li>
<li><a href="https://github.com/dyc87112/SpringBoot-Learning">SpringBoot-Learning</a></li>
<li><a href="https://github.com/cloudfavorites/favorites-web">favorites-web</a></li>
<li><a href="https://github.com/JeffLi1993/springboot-learning-example">springboot-learning-example</a></li>
<li><a href="https://github.com/leelance/spring-boot-all">spring-boot-all</a></li>
</ul>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBooté›†æˆMockServer</title>
    <url>/2018/04/25/SpringBoot%E9%9B%86%E6%88%90MockServer/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘é¡¹ç›®ä¸­åœ¨å¼•å…¥Mockï¼Œå…¶ä¸­æœ‰ä¸€é¡¹æ˜¯å±è”½æ‰å¤–éƒ¨ä¾èµ–ï¼ŒåŒ…æ‹¬å…³è”ç³»ç»Ÿçš„RESTæ¥å£ã€‚åšäº†ä¸‹æŠ€æœ¯è°ƒç ”ï¼Œæ‰“ç®—ä½¿ç”¨MockServerå¯¹å¤–éƒ¨æ¥å£è¿›è¡Œmock</p>
<h2 id="æ’ä»¶é›†æˆ"><a href="#æ’ä»¶é›†æˆ" class="headerlink" title="æ’ä»¶é›†æˆ"></a>æ’ä»¶é›†æˆ</h2><ol>
<li><p>åœ¨pomæ–‡ä»¶ä¸­å¢åŠ mockserverçš„mavenæ’ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mock-server<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mockserver-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">serverPort</span>&gt;</span>1080<span class="tag">&lt;/<span class="name">serverPort</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¯æ ¹æ®æƒ…å†µæ˜¯å¦è®¾ç½®porxyPortã€‚æˆ‘æ²¡è®¾ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">proxyPort</span>&gt;</span>1090<span class="tag">&lt;/<span class="name">proxyPort</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logLevel</span>&gt;</span>DEBUG<span class="tag">&lt;/<span class="name">logLevel</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¯¥ç±»ä¸ºåˆå§‹åŒ–ç±»ï¼ŒæŒ‰ç…§è‡ªå·±çš„æ–‡ä»¶é…ç½®ï¼Œå³ä¸‹ä¸€æ­¥ä¸­çš„ç±» --&gt;</span>        <span class="tag">&lt;<span class="name">initializationClass</span>&gt;</span>org.mockserver.maven.ExampleInitializationClass<span class="tag">&lt;/<span class="name">initializationClass</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">        	<span class="comment">&lt;!-- æŒ‡å®šåœ¨è¯¥ç”Ÿå‘½å‘¨æœŸæ—¶è°ƒç”¨è¯¥æ’ä»¶ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>process-test-classes<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-test-classes<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goal</span>&gt;</span>start<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>verify<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>verify<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goal</span>&gt;</span>stop<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»ºè‡ªå·±çš„MockServerInitializerç±»ï¼ˆ<strong>ç±»åä¸€å®šä¸è¦å®šä¹‰ä¸º<code>MockServerInitializer</code>ï¼Œå®˜æ–¹æœ‰è¿™ä¸ªç±»</strong>ï¼‰ï¼Œå®ç°ExpectationInitializeræ¥å£ï¼š</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">public <span class="keyword">class</span> HttpMockServerInitializer implements ExpectationInitializer &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void initialize<span class="constructor">Expectations(MockServerClient <span class="params">mockServerClient</span>)</span> &#123;</span><br><span class="line">        mockServerClient.<span class="keyword">when</span>(<span class="module-access"><span class="module"><span class="identifier">HttpRequest</span>.</span></span>request<span class="literal">()</span>.<span class="keyword">with</span><span class="constructor">Method(<span class="string">&quot;POST&quot;</span>)</span>.<span class="keyword">with</span><span class="constructor">Path(<span class="string">&quot;/test&quot;</span>)</span>)</span><br><span class="line">                .respond(<span class="module-access"><span class="module"><span class="identifier">HttpResponse</span>.</span></span>response<span class="literal">()</span>.<span class="keyword">with</span><span class="constructor">StatusCode(200)</span>.<span class="keyword">with</span><span class="constructor">Body(<span class="string">&quot;success&quot;</span>)</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>PSï¼šå¦‚æœä½ åœ¨ç”¨ideaç¼–è¾‘å™¨ï¼Œä¸€å®šè¦æ‰“å¼€ideaçš„è‡ªåŠ¨ç¼–è¯‘åŠŸèƒ½ï¼Œé»˜è®¤è¯¥åŠŸèƒ½æ˜¯ä¸å¼€å¯çš„ã€‚æ‰“å¼€æ–¹å¼</em></p>
</li>
<li><p>è¿è¡ŒmockserveræœåŠ¡ï¼š</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">mvn mockserver:<span class="built_in">run</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥ä½¿ç”¨postmanè¯·æ±‚ï¼Œå¾—åˆ°é¢„è®¾çš„è¿”å›ã€‚</p>
</li>
</ol>
<h2 id="ä»£ç æ‰‹åŠ¨åˆ›å»º"><a href="#ä»£ç æ‰‹åŠ¨åˆ›å»º" class="headerlink" title="ä»£ç æ‰‹åŠ¨åˆ›å»º"></a>ä»£ç æ‰‹åŠ¨åˆ›å»º</h2><p>æ’ä»¶é›†æˆæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¸è¿‡æœ‰äº›åœºæ™¯æ— æ³•æ»¡è¶³ã€‚æ¯”å¦‚éœ€è¦åœ¨MockServerä¸­æ³¨å…¥Springå®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œå½“è¿è¡ŒMockServeræ—¶ï¼Œç”±äºæ²¡æœ‰åˆå§‹åŒ–Springå®¹å™¨ï¼Œå¯¼è‡´æ³¨å…¥å¤±è´¥ã€‚</p>
<p>è¿™ç§æƒ…å†µå°±éœ€è¦æ‰‹åŠ¨åˆ›å»ºMockServerã€‚</p>
<ol>
<li><p>ç¼–è¾‘pom.xmlï¼Œå¯¼å…¥ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mock-server<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mockserver-netty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æˆæ–‡æ—¶æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ°å®˜ç½‘æŸ¥è¯¢ç›®å‰æœ€æ–°ç‰ˆæœ¬ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»ºmockServerï¼Œproxyå¯ä¸è®¾ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥ç±»</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockserver.integration.ClientAndProxy.startClientAndProxy;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockserver.integration.ClientAndServer.startClientAndServer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨<span class="doctag">@Service</span>å°†è¯¥ç±»æ³¨å…¥springï¼Œæ–¹ä¾¿ç®¡ç†</span></span><br><span class="line"><span class="comment"> * å®ç°InitializingBeanæ¥å£ï¼Œåˆå§‹åŒ–ç±»å¯¹è±¡æ—¶ï¼Œå®ä¾‹åŒ–mockServerå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * å®ç°DisposableBeanæ¥å£ï¼Œé”€æ¯ç±»å¯¹è±¡æ—¶ï¼Œå…³é—­æœåŠ¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpMockServerManual</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DisposableBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> ClientAndProxy proxy;</span><br><span class="line">    <span class="keyword">private</span> ClientAndServer mockServer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ«å¿˜äº†å…³é—­æœåŠ¡</span></span><br><span class="line">        proxy.stop();</span><br><span class="line">        mockServer.stop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">        mockServer = startClientAndServer(<span class="number">1080</span>);</span><br><span class="line">        proxy = startClientAndProxy(<span class="number">1090</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>mockç›¸å…³httpæ¥å£ï¼š</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">mockServer.<span class="keyword">when</span>(<span class="module-access"><span class="module"><span class="identifier">HttpRequest</span>.</span></span>request<span class="literal">()</span>.<span class="keyword">with</span><span class="constructor">Method(<span class="string">&quot;POST&quot;</span>)</span>.<span class="keyword">with</span><span class="constructor">Path(<span class="string">&quot;/test&quot;</span>)</span>)</span><br><span class="line">                .respond(<span class="module-access"><span class="module"><span class="identifier">HttpResponse</span>.</span></span>response<span class="literal">()</span>.<span class="keyword">with</span><span class="constructor">StatusCode(200)</span>.<span class="keyword">with</span><span class="constructor">Body(<span class="string">&quot;success&quot;</span>)</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="æ›´å¤šè¯¦æƒ…å‚è§å®˜ç½‘"><a href="#æ›´å¤šè¯¦æƒ…å‚è§å®˜ç½‘" class="headerlink" title="æ›´å¤šè¯¦æƒ…å‚è§å®˜ç½‘"></a>æ›´å¤šè¯¦æƒ…å‚è§å®˜ç½‘</h2><p>æœ¬æ–‡åªæä¾›äº†javaå®ç°ã€‚å®˜ç½‘è¿˜æœ‰JSç­‰å®ç°ï¼Œè¯·æˆ³<a href="http://mock-server.com/#what-is-mockserver">MockServerå®˜ç½‘</a>äº†è§£ã€‚</p>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>MockServer</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBooté›†æˆSwagger2</title>
    <url>/2018/04/27/SpringBoot%E9%9B%86%E6%88%90Swagger2/</url>
    <content><![CDATA[<h2 id="å¢åŠ denpendency"><a href="#å¢åŠ denpendency" class="headerlink" title="å¢åŠ denpendency"></a>å¢åŠ denpendency</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºSwagger2é…ç½®ç±»"><a href="#åˆ›å»ºSwagger2é…ç½®ç±»" class="headerlink" title="åˆ›å»ºSwagger2é…ç½®ç±»"></a>åˆ›å»ºSwagger2é…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Swagger2Config</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">createRestApi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.springboot.controller&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfoBuilder()</span><br><span class="line">                .title(<span class="string">&quot;SpringBootä¸­ä½¿ç”¨Swagger2æ„å»ºRESTful APIS&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;æ›´å¤šSpringBootç›¸å…³æ–‡ç« è¯·å…³æ³¨ï¼šhttp://wonius.top&quot;</span>)</span><br><span class="line">                .termsOfServiceUrl(<span class="string">&quot;http://wonius.top&quot;</span>)</span><br><span class="line">                .contact(<span class="string">&quot;Gavin&#x27;s Notes&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ğŸŒ°"><a href="#ğŸŒ°" class="headerlink" title="ğŸŒ°"></a>ğŸŒ°</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/users&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;ç”¨æˆ·ç®¡ç†ç±»&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserControllerWithSwagger2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> Map&lt;Long, User&gt; users = Collections.synchronizedMap(<span class="keyword">new</span> HashMap&lt;Long, User&gt;());</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;è·å–ç”¨æˆ·åˆ—è¡¨&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/getUsers&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;User&gt;(users.values());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;åˆ›å»ºç”¨æˆ·&quot;, notes = &quot;æ ¹æ®Userå¯¹è±¡åˆ›å»ºç”¨æˆ·&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;user&quot;, value = &quot;ç”¨æˆ·å®ä½“User&quot;, required = true, dataType = &quot;User&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/postUser&quot;, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">postUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> </span>&#123;</span><br><span class="line">        users.put(user.getId(), user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;è·å–ç”¨æˆ·ä¿¡æ¯&quot;, notes = &quot;æ ¹æ®idè·å–ç”¨æˆ·ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·id&quot;, required = true, dataType = &quot;Long&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/getUser&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> users.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;æ›´æ–°ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;, notes = &quot;æ ¹æ®idæ›´æ–°å¯¹åº”user&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParams(&#123;</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·id&quot;, required = true, dataType = &quot;Long&quot;),</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;user&quot;, value = &quot;ç”¨æˆ·å®ä½“user&quot;, required = true, dataType = &quot;User&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/putUser&quot;, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">putUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id, <span class="meta">@RequestBody</span> User user)</span> </span>&#123;</span><br><span class="line">        User u = users.get(id);</span><br><span class="line">        u.setHost(user.getHost());</span><br><span class="line">        u.setName(user.getName());</span><br><span class="line">        users.put(id, u);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;åˆ é™¤ç”¨æˆ·&quot;, notes = &quot;æ ¹æ®idåˆ é™¤ç”¨æˆ·&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·id&quot;, required = true, dataType = &quot;Long&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/deleteUser&quot;, method = RequestMethod.DELETE)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">deleteUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        users.remove(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åè®¿é—®<a href="http://localhost:8080/swagger-ui.html%E5%8A%A0%E8%BD%BD%E3%80%82">http://localhost:8080/swagger-ui.htmlåŠ è½½ã€‚</a></p>
<p><strong>PS: methodä¸€å®šè¦å†™ï¼Œä¸ç„¶swagger2ä¼šå°†è¯¥æ–¹æ³•çš„æ‰€æœ‰methodæšä¸¾ä¸€é</strong></p>
<h2 id="å¸¸ç”¨æ³¨è§£"><a href="#å¸¸ç”¨æ³¨è§£" class="headerlink" title="å¸¸ç”¨æ³¨è§£"></a>å¸¸ç”¨æ³¨è§£</h2><h3 id="Api-ç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¯´æ˜è¯¥ç±»çš„ä½œç”¨"><a href="#Api-ç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¯´æ˜è¯¥ç±»çš„ä½œç”¨" class="headerlink" title="@Api ç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¯´æ˜è¯¥ç±»çš„ä½œç”¨"></a><code>@Api</code> <em>ç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¯´æ˜è¯¥ç±»çš„ä½œç”¨</em></h3><p>tags=â€è¯´æ˜è¯¥ç±»çš„ä½œç”¨â€<br>value=â€è¯¥å‚æ•°æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®â€</p>
<h3 id="ApiOperationç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ä½œç”¨"><a href="#ApiOperationç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ä½œç”¨" class="headerlink" title="@ApiOperationç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ä½œç”¨"></a><code>@ApiOperation</code><em>ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ä½œç”¨</em></h3><p>value=â€è¯´æ˜æ–¹æ³•çš„ä½œç”¨â€</p>
<p>notes=â€æ–¹æ³•çš„å¤‡æ³¨è¯´æ˜â€</p>
<h3 id="ApiImplicitParams-ApiImplicitParam-ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯·æ±‚å‚æ•°è¯´æ˜"><a href="#ApiImplicitParams-ApiImplicitParam-ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯·æ±‚å‚æ•°è¯´æ˜" class="headerlink" title="@ApiImplicitParams/@ApiImplicitParam ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯·æ±‚å‚æ•°è¯´æ˜"></a><code>@ApiImplicitParams/@ApiImplicitParam</code> <em>ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯·æ±‚å‚æ•°è¯´æ˜</em></h3><p>@ApiImplicitParamsï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼ŒåŒ…å«ä¸€ç»„å‚æ•°è¯´æ˜<br>â€‹    @ApiImplicitParamï¼šç”¨åœ¨ @ApiImplicitParams æ³¨è§£ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªè¯·æ±‚å‚æ•°çš„é…ç½®ä¿¡æ¯<br>â€‹        nameï¼šå‚æ•°å<br>â€‹        valueï¼šå‚æ•°çš„æ±‰å­—è¯´æ˜ã€è§£é‡Š<br>â€‹        requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼ <br>â€‹        paramTypeï¼šå‚æ•°æ”¾åœ¨å“ªä¸ªåœ°æ–¹<br>â€‹            Â· header â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestHeader<br>â€‹            Â· query â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestParam<br>â€‹            Â· pathï¼ˆç”¨äºrestfulæ¥å£ï¼‰â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@PathVariable<br>â€‹            Â· bodyï¼ˆä¸å¸¸ç”¨ï¼‰<br>â€‹            Â· formï¼ˆä¸å¸¸ç”¨ï¼‰<br>â€‹        dataTypeï¼šå‚æ•°ç±»å‹ï¼Œé»˜è®¤Stringï¼Œå…¶å®ƒå€¼dataType=â€Integerâ€<br>â€‹        defaultValueï¼šå‚æ•°çš„é»˜è®¤å€¼</p>
<h3 id="ApiResponses-ApiResponseç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œå“åº”å‚æ•°è¯´æ˜"><a href="#ApiResponses-ApiResponseç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œå“åº”å‚æ•°è¯´æ˜" class="headerlink" title="@ApiResponses/@ApiResponseç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œå“åº”å‚æ•°è¯´æ˜"></a><code>@ApiResponses/@ApiResponse</code><em>ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œå“åº”å‚æ•°è¯´æ˜</em></h3><p>@ApiResponsesï¼šç”¨äºè¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº”<br>â€‹    @ApiResponseï¼šç”¨åœ¨@ApiResponsesä¸­ï¼Œä¸€èˆ¬ç”¨äºè¡¨è¾¾ä¸€ä¸ªé”™è¯¯çš„å“åº”ä¿¡æ¯<br>â€‹        codeï¼šæ•°å­—ï¼Œä¾‹å¦‚400<br>â€‹        messageï¼šä¿¡æ¯ï¼Œä¾‹å¦‚â€è¯·æ±‚å‚æ•°æ²¡å¡«å¥½â€<br>â€‹        responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±»</p>
<h3 id="ApiModel-ApiModelPropertyç”¨åœ¨å“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºå“åº”æ•°æ®çš„ä¿¡æ¯"><a href="#ApiModel-ApiModelPropertyç”¨åœ¨å“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºå“åº”æ•°æ®çš„ä¿¡æ¯" class="headerlink" title="@ApiModel/@ApiModelPropertyç”¨åœ¨å“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºå“åº”æ•°æ®çš„ä¿¡æ¯"></a><code>@ApiModel/@ApiModelProperty</code><em>ç”¨åœ¨å“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºå“åº”æ•°æ®çš„ä¿¡æ¯</em></h3><p>@ApiModelï¼šç”¨äºå“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯<br>â€‹            ï¼ˆè¿™ç§ä¸€èˆ¬ç”¨åœ¨poståˆ›å»ºçš„æ—¶å€™ï¼Œä½¿ç”¨@RequestBodyè¿™æ ·çš„åœºæ™¯ï¼Œ<br>â€‹            è¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨@ApiImplicitParamæ³¨è§£è¿›è¡Œæè¿°çš„æ—¶å€™ï¼‰<br>â€‹    @ApiModelPropertyï¼šç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å“åº”ç±»çš„å±æ€§</p>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Swagger2</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringCloudç›¸å…³èµ„æ–™</title>
    <url>/2017/07/29/SpringCloud%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99/</url>
    <content><![CDATA[<h2 id="Spring-Cloud"><a href="#Spring-Cloud" class="headerlink" title="Spring Cloud"></a>Spring Cloud</h2><h3 id="Blog"><a href="#Blog" class="headerlink" title="Blog"></a>Blog</h3><ul>
<li><a href="http://blog.didispace.com/categories/Spring-Cloud/">ç¨‹åºå‘˜DD-ç¿Ÿæ°¸è¶…</a></li>
<li><a href="http://www.ityouknow.com/spring-cloud">çº¯æ´çš„å¾®ç¬‘</a></li>
<li><a href="http://blog.csdn.net/liaokailin/article/category/6212338">liaokailinçš„ä¸“æ </a></li>
<li><a href="http://www.itmuch.com/categories/Spring-Cloud/">å‘¨ç«‹|Spring Cloud</a></li>
<li><a href="http://blog.csdn.net/column/details/15197.html">æ–¹å¿—æœ‹ Spring Cloud ä¸“æ </a></li>
<li><a href="http://xujin.org/categories/%E8%B7%9F%E6%88%91%E5%AD%A6Spring-Cloud/">è®¸è¿› è·Ÿæˆ‘å­¦Spring Cloud</a></li>
</ul>
<h3 id="Website"><a href="#Website" class="headerlink" title="Website"></a>Website</h3><ul>
<li><a href="http://projects.spring.io/spring-cloud/">Spring Cloud å®˜ç½‘</a></li>
<li><a href="https://springcloud.cc/">Spring Cloudä¸­æ–‡ç½‘</a></li>
</ul>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><ul>
<li><a href="https://github.com/ityouknow/spring-cloud-examples">spring-cloud-starter</a></li>
<li><a href="https://github.com/dyc87112/SpringCloud-Learning">SpringCloud-Learning</a></li>
</ul>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBooté›†æˆTestNG</title>
    <url>/2018/04/27/SpringBoot%E9%9B%86%E6%88%90TestNG/</url>
    <content><![CDATA[<h2 id="å¢åŠ dependency"><a href="#å¢åŠ dependency" class="headerlink" title="å¢åŠ dependency"></a>å¢åŠ dependency</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.testng<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>testng<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®maven-surefire-plugin"><a href="#é…ç½®maven-surefire-plugin" class="headerlink" title="é…ç½®maven-surefire-plugin"></a>é…ç½®maven-surefire-plugin</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">suiteXmlFiles</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">suiteXmlFile</span>&gt;</span>$&#123;basedir&#125;/src/test/resources/MyTestNG.xml<span class="tag">&lt;/<span class="name">suiteXmlFile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">suiteXmlFiles</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä¸å•ç‹¬å¼€çº¿ç¨‹å¯åŠ¨test --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">forkMode</span>&gt;</span>never<span class="tag">&lt;/<span class="name">forkMode</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="å¢åŠ MyTestNG-xml"><a href="#å¢åŠ MyTestNG-xml" class="headerlink" title="å¢åŠ MyTestNG.xml"></a>å¢åŠ MyTestNG.xml</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">suite</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;http://testng.org/testng-1.0.dtd&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">suite</span> <span class="attr">name</span>=<span class="string">&quot;Suite&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">test</span> <span class="attr">name</span>=<span class="string">&quot;test1&quot;</span> <span class="attr">verbose</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">classes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">class</span> <span class="attr">name</span>=<span class="string">&quot;com.springboot.testng.FirstTest&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">methods</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">methods</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">classes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">test</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">test</span> <span class="attr">name</span>=<span class="string">&quot;test2&quot;</span> <span class="attr">verbose</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groups</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">run</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;testGroup&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">run</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">groups</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">test</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">suite</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¢åŠ å¯¹åº”çš„ç±»</p>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p>å¸¸ç”¨æ³¨è§£å°±é‚£ä¹ˆå‡ ä¸ªï¼Œå¯ä»¥è§ä¸‹é¢çš„æ–‡ç« </p>
<p><a href="https://blog.csdn.net/dragonpeng2008/article/details/70820902">https://blog.csdn.net/dragonpeng2008/article/details/70820902</a></p>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>TestNG</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringCloudæ¦‚è¿°</title>
    <url>/2018/05/29/SpringCloud%E6%A6%82%E8%BF%B0/</url>
    <content><![CDATA[<h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><p><img data-src="../SpringCloud%E6%A6%82%E8%BF%B0/SpringCloud.png" alt="ç»„ä»¶å…³ç³»å›¾"></p>
<h1 id="Zuul"><a href="#Zuul" class="headerlink" title="Zuul"></a>Zuul</h1><p><strong>Zuul æ˜¯åœ¨äº‘å¹³å°ä¸Šæä¾›åŠ¨æ€è·¯ç”±,ç›‘æ§,å¼¹æ€§,å®‰å…¨ç­‰è¾¹ç¼˜æœåŠ¡çš„æ¡†æ¶ã€‚Zuul ç›¸å½“äºæ˜¯è®¾å¤‡å’Œ Netflix æµåº”ç”¨çš„ Web ç½‘ç«™åç«¯æ‰€æœ‰è¯·æ±‚çš„å‰é—¨ã€‚</strong></p>
<p>â€‹    æœåŠ¡ç½‘å…³æ˜¯å¾®æœåŠ¡æ¶æ„ä¸­ä¸€ä¸ªä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚é€šè¿‡æœåŠ¡ç½‘å…³ç»Ÿä¸€å‘å¤–ç³»ç»Ÿæä¾›REST APIçš„è¿‡ç¨‹ä¸­ï¼Œé™¤äº†å…·å¤‡æœåŠ¡è·¯ç”±ã€å‡è¡¡è´Ÿè½½åŠŸèƒ½ä¹‹å¤–ï¼Œå®ƒè¿˜å…·å¤‡äº†æƒé™æ§åˆ¶ç­‰åŠŸèƒ½ã€‚Spring Cloud Netflixä¸­çš„Zuulå°±æ‹…ä»»äº†è¿™æ ·çš„ä¸€ä¸ªè§’è‰²ï¼Œä¸ºå¾®æœåŠ¡æ¶æ„æä¾›äº†å‰é—¨ä¿æŠ¤çš„ä½œç”¨ï¼ŒåŒæ—¶å°†æƒé™æ§åˆ¶è¿™äº›è¾ƒé‡çš„éä¸šåŠ¡é€»è¾‘å†…å®¹è¿ç§»åˆ°æœåŠ¡è·¯ç”±å±‚é¢ï¼Œä½¿å¾—æœåŠ¡é›†ç¾¤ä¸»ä½“èƒ½å¤Ÿå…·å¤‡æ›´é«˜çš„å¯å¤ç”¨æ€§å’Œå¯æµ‹è¯•æ€§ã€‚</p>
<h1 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h1><p><strong>äº‘ç«¯æœåŠ¡å‘ç°ï¼Œä¸€ä¸ªåŸºäº REST çš„æœåŠ¡ï¼Œç”¨äºå®šä½æœåŠ¡ï¼Œä»¥å®ç°äº‘ç«¯ä¸­é—´å±‚æœåŠ¡å‘ç°å’Œæ•…éšœè½¬ç§»ã€‚</strong></p>
<p><img data-src="../SpringCloud%E6%A6%82%E8%BF%B0/Eureka.png" alt="Eureka"></p>
<p><strong>ä¸‰éƒ¨åˆ†</strong>ï¼šæœåŠ¡æ³¨å†Œä¸­å¿ƒã€æœåŠ¡æä¾›è€…ã€æœåŠ¡æ¶ˆè´¹è€…ï¼›</p>
<p><strong>ä¸¤åŠŸèƒ½</strong>ï¼šæœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°ï¼›</p>
<p><strong>è¿è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>ä¸¤å°<code>EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒ</code>ç»„æˆä¸»ä»æ³¨å†Œä¸­å¿ƒé›†ç¾¤ï¼ˆé˜²æ­¢ä¸€å°æŒ‚æ‰æ•´ä¸ªæœåŠ¡æŒ‚æ‰ï¼‰ï¼›</li>
<li><code>æœåŠ¡æä¾›è€…</code>å‘<code>EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒ</code>è¿›è¡Œæ³¨å†Œã€ç»­çº¦ã€ä¸‹çº¿æœåŠ¡ç­‰æ“ä½œï¼›</li>
<li><code>æœåŠ¡æ¶ˆè´¹è€…</code>ä»<code>EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒ</code>æ‹‰å–æœåŠ¡åˆ—è¡¨ï¼Œå¹¶ç»´æŠ¤åœ¨æœ¬åœ°ï¼ˆè¿™æ˜¯å®¢æˆ·ç«¯å‘ç°æ¨¡å¼çš„æœºåˆ¶ä½“ç°ï¼‰ï¼›</li>
<li><code>æœåŠ¡æ¶ˆè´¹è€…</code>æ ¹æ®æœåŠ¡åˆ—è¡¨æ‰¾åˆ°å¯¹åº”æœåŠ¡æä¾›è€…ï¼Œè¿›è¡Œæ¶ˆè´¹ï¼›</li>
</ol>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ol>
<li><p>æœåŠ¡ç»­çº¦ä»»åŠ¡è°ƒç”¨æ—¶é—´é—´éš”ï¼Œé»˜è®¤30sï¼›</p>
</li>
<li><p>æœåŠ¡ç¼“å­˜æ¸…å•æ›´æ–°æœºåˆ¶ï¼Œæ¬¡/30sï¼›</p>
</li>
<li><p>æœåŠ¡æ—¶æ•ˆæ—¶é—´ï¼Œé»˜è®¤90sï¼›</p>
</li>
<li><p>é»˜è®¤æ¯60så°†å½“å‰æ¸…å•ä¸­è¶…è¿‡90sï¼ˆæ²¡æœ‰ç»­çº¦ï¼‰çš„æœåŠ¡è¸¢å‡ºå»ï¼›</p>
</li>
<li><p>è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œå·¥ä½œæœºåˆ¶æ˜¯å¦‚æœ15minå†…è¶…è¿‡85%çš„å®¢æˆ·ç«¯èŠ‚ç‚¹éƒ½æ²¡æœ‰æ­£å¸¸çš„å¿ƒè·³ï¼Œé‚£ä¹ˆEurekaå°±è®¤ä¸ºå®¢æˆ·ç«¯ä¸æ³¨å†Œä¸­å¿ƒå‡ºç°äº†ç½‘ç»œæ•…éšœï¼ŒEureka Serverè‡ªåŠ¨è¿›å…¥è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ã€‚<em>ï¼ˆEurekaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œé€šè¿‡é…ç½®eureka.server.enable-self-preservationï¼Œé»˜è®¤ä¸ºæ‰“å¼€çŠ¶æ€ï¼Œå»ºè®®ç”Ÿäº§ç¯å¢ƒæ‰“å¼€æ­¤é…ç½®ï¼‰</em></p>
<ul>
<li>Eureka Serverä¸å†ä»æ³¨å†Œåˆ—è¡¨ä¸­ç§»é™¤å› ä¸ºé•¿æ—¶é—´æ²¡æ”¶åˆ°å¿ƒè·³æ£€æµ‹çš„<code>è¿‡æœŸæœåŠ¡</code>ï¼›</li>
</ul>
<ul>
<li>Eureka Serverä»ç„¶èƒ½å¤Ÿæ¥å—æ–°æœåŠ¡çš„æ³¨å†Œã€æŸ¥è¯¢è¯·æ±‚ï¼Œä½†æ˜¯ä¸ä¼šåŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼Œä¿è¯å½“å‰èŠ‚ç‚¹ä¾ç„¶å¯ç”¨ï¼›</li>
<li>å½“ç½‘ç»œç¨³å®šæ—¶ï¼Œå½“å‰Eureka Serveræ–°çš„æ³¨å†Œä¿¡æ¯ä¼šè¢«åŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼›</li>
</ul>
</li>
</ol>
<h1 id="Ribbon"><a href="#Ribbon" class="headerlink" title="Ribbon"></a>Ribbon</h1><p><strong>æä¾›äº‘ç«¯è´Ÿè½½å‡è¡¡ï¼Œæœ‰å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥å¯ä¾›é€‰æ‹©ï¼Œå¯é…åˆæœåŠ¡å‘ç°å’Œæ–­è·¯å™¨ä½¿ç”¨ã€‚</strong></p>
<p><code>æœåŠ¡æ¶ˆè´¹è€…</code>æ ¹æ®æœåŠ¡åˆ—è¡¨ä¸­çš„æœåŠ¡æä¾›è€…ï¼Œæ‰¾åˆ°å®é™…çš„<code>æœåŠ¡ç”Ÿäº§è€…</code>ï¼Œé€šè¿‡Spring Cloud Ribbonå®ç°ã€‚</p>
<p><strong>è´Ÿè½½å‡è¡¡ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>RandomRuleï¼šä»å®ä¾‹åˆ—è¡¨éšæœºé€‰å–ã€‚é€‰æ‹©é€»è¾‘åœ¨ä¸€ä¸ªwhile(server == null)å¾ªç¯å†…ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¼šè¿”å›ä¸€ä¸ªæœåŠ¡å®ä¾‹ã€‚å¦‚æœå‡ºç°æ­»å¾ªç¯ï¼Œå–ä¸åˆ°æœåŠ¡å®ä¾‹ï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨å¹¶å‘çš„bugï¼›</li>
<li>RoundRobinRuleï¼ˆé»˜è®¤ï¼‰ï¼šæŒ‰ç…§çº¿æ€§è½®è¯¢é€‰æ‹©ä¸€ä¸ªå®ä¾‹ã€‚éšæœºæ¬¡æ•°è¶…è¿‡10æ¬¡ï¼Œç»“æŸå°è¯•ï¼›</li>
<li>WeightedResponseTimeRuleï¼šåŸºäºRoundRobinRuleï¼Œå¢åŠ äº†æ ¹æ®å®ä¾‹çš„è¿è¡Œæƒ…å†µè®¡ç®—æƒé‡ï¼Œç„¶åæ ¹æ®æƒé‡æŒ‘é€‰å®ä¾‹ã€‚ä¸»è¦æœ‰ä¸‰ä¸ªæ ¸å¿ƒå†…å®¹ï¼š<ul>
<li>å®šæ—¶ä»»åŠ¡<ul>
<li>æ¯30sæ‰§è¡Œä¸€æ¬¡æƒé‡è®¡ç®—ï¼›</li>
</ul>
</li>
<li>æƒé‡è®¡ç®—<ul>
<li>è®°å½•æ¯ä¸ªå®ä¾‹çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œç´¯åŠ æ‰€æœ‰å®ä¾‹çš„å¹³å‡å“åº”æ—¶é—´ï¼Œå¾—åˆ°æ€»å¹³å‡å“åº”æ—¶é—´ï¼ŒtotalResponseTimeï¼›</li>
<li>å¾ªç¯æ‰€æœ‰çš„å®ä¾‹ï¼Œè®¡ç®—å…¶æƒé‡ï¼ŒweightSoFar+=totalResponseTime - å®ä¾‹å¹³å‡å“åº”æ—¶é—´ï¼Œå…¶ä¸­weightSoFaråˆå§‹å€¼ä¸º0ã€‚æ¯ä¸ªå®ä¾‹æƒé‡ç»“æœï¼Œä¿å­˜åˆ°ArrayList currentWeightsä¸­ï¼›</li>
</ul>
</li>
<li>å®ä¾‹é€‰æ‹©<ul>
<li>åˆ¤æ–­æœ€åä¸€ä¸ªå®ä¾‹çš„æƒé‡ï¼Œæ˜¯å¦ &lt; 0.001dï¼Œè‹¥æ˜¯ï¼Œé‡‡ç”¨RoundRobbinRuleç­–ç•¥ï¼›</li>
<li>ç”Ÿæˆä¸€ä¸ª[0, æœ€å¤§æƒé‡å€¼) åŒºé—´å†…çš„éšæœºæ•°ï¼›</li>
<li>éå†æƒé‡æ¸…å•currentWeightsï¼Œè‹¥æƒé‡ &gt;= éšæœºå¾—åˆ°çš„æ•°å€¼ï¼Œå°±é€‰æ‹©è¿™ä¸ªå®ä¾‹ï¼›</li>
</ul>
</li>
</ul>
</li>
<li>å…¶ä»–ç­–ç•¥è¿˜æœ‰BestAvailableRuleã€AvaliablityFilteringRuleã€ZoneAvoidanceRuleã€RetryRule</li>
</ul>
<h1 id="Feign"><a href="#Feign" class="headerlink" title="Feign"></a>Feign</h1><p><strong>Feignæ˜¯ä¸€ç§å£°æ˜å¼ã€æ¨¡æ¿åŒ–çš„HTTPå®¢æˆ·ç«¯ã€‚</strong></p>
<p>â€‹    Spring Cloud Feign æ˜¯ä¸€ä¸ªå£°æ˜webæœåŠ¡å®¢æˆ·ç«¯ï¼Œè¿™ä½¿å¾—ç¼–å†™WebæœåŠ¡å®¢æˆ·ç«¯æ›´å®¹æ˜“ï¼Œä½¿ç”¨Feign åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶å¯¹å®ƒè¿›è¡Œæ³¨è§£ï¼Œå®ƒå…·æœ‰å¯æ’æ‹”çš„æ³¨è§£æ”¯æŒåŒ…æ‹¬Feignæ³¨è§£ä¸JAX-RSæ³¨è§£ï¼ŒFeignè¿˜æ”¯æŒå¯æ’æ‹”çš„ç¼–ç å™¨ä¸è§£ç å™¨ï¼ŒSpring Cloud å¢åŠ äº†å¯¹ Spring MVCçš„æ³¨è§£ï¼ŒSpring Web é»˜è®¤ä½¿ç”¨äº†HttpMessageConverters, Spring Cloud é›†æˆ Ribbon å’Œ Eureka æä¾›çš„è´Ÿè½½å‡è¡¡çš„HTTPå®¢æˆ·ç«¯ Feignã€‚</p>
<h1 id="Hystrix"><a href="#Hystrix" class="headerlink" title="Hystrix"></a>Hystrix</h1><p><strong>ç†”æ–­å™¨ï¼Œå®¹é”™ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡ç†”æ–­æœºåˆ¶æ§åˆ¶æœåŠ¡å’Œç¬¬ä¸‰æ–¹åº“çš„èŠ‚ç‚¹,ä»è€Œå¯¹å»¶è¿Ÿå’Œæ•…éšœæä¾›æ›´å¼ºå¤§çš„å®¹é”™èƒ½åŠ›ã€‚</strong></p>
<p>â€‹    åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸­ï¼Œå½“æŸä¸ªæœåŠ¡å•å…ƒå‘ç”Ÿæ•…éšœï¼ˆç±»ä¼¼ç”µå™¨å‘ç”ŸçŸ­è·¯ï¼‰ä¹‹åï¼Œé€šè¿‡æ–­è·¯å™¨çš„æ•…éšœç›‘æ§ï¼ˆç±»ä¼¼ç†”æ–­ä¿é™©ä¸ï¼‰ï¼Œ æƒ³è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªé”™è¯¯å“åº”ï¼Œè€Œä¸æ˜¯é•¿æ—¶é—´ç­‰å¾…ï¼Œè¿™æ ·å°±ä¸ä¼šä½¿å¾—çº¿ç¨‹å› è°ƒç”¨æ•…éšœæœåŠ¡è¢«é•¿æ—¶é—´å ç”¨ä¸æ”¾ï¼Œé¿å…äº†æ•…éšœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è”“å»¶<br>â€‹    é’ˆå¯¹è¿™ä¸€æœºåˆ¶ï¼ŒSpring Cloud Hystrixå®ç°äº†æ–­è·¯å™¨ï¼Œçº¿ç¨‹éš”ç¦»ç­‰ä¸€ç³»åˆ—æœåŠ¡ä¿æŠ¤åŠŸèƒ½ã€‚å®ƒä¹Ÿæ˜¯åŸºäºNetfixçš„å¼€æºæ¡†æ¶Hystrixå®ç°çš„ï¼Œè¯¥æ¡†æ¶çš„ç›®æ ‡åœ¨äºé€šè¿‡æ§åˆ¶é‚£äº›è®¿é—®è¿œç¨‹ç³»ç»Ÿã€æœåŠ¡å’Œç¬¬ä¸‰æ–¹åº“çš„èŠ‚ç‚¹ï¼Œä»è€Œå¯¹å»¶è¿Ÿå’Œæ•…éšœæä¾›æ›´å¼ºå¤§çš„å®¹é”™èƒ½åŠ›ã€‚</p>
<p>Hystrixå…·æœ‰ï¼š</p>
<ul>
<li><p>æœåŠ¡é™çº§</p>
</li>
<li><p>æœåŠ¡ç†”æ–­</p>
<ul>
<li>è¯·æ±‚æ€»æ•°ï¼ˆé»˜è®¤20ï¼‰</li>
<li>é”™è¯¯ç™¾åˆ†æ¯”ï¼ˆé»˜è®¤50ï¼‰</li>
</ul>
</li>
<li><p>çº¿ç¨‹å’Œä¿¡å·éš”ç¦»</p>
</li>
<li><p>è¯·æ±‚ç¼“å­˜</p>
</li>
<li><p>è¯·æ±‚åˆå¹¶</p>
</li>
<li><p>æœåŠ¡ç›‘æ§</p>
<p><img data-src="../img/Hystrix.png" alt="Hystrix"></p>
</li>
<li><p>é›†ç¾¤ç›‘æ§ï¼ˆTurbineï¼‰</p>
</li>
</ul>
<h1 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h1><p><strong>é…ç½®ç®¡ç†å·¥å…·åŒ…ï¼Œè®©ä½ å¯ä»¥æŠŠé…ç½®æ”¾åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œé›†ä¸­åŒ–ç®¡ç†é›†ç¾¤é…ç½®ï¼Œç›®å‰æ”¯æŒæœ¬åœ°å­˜å‚¨ã€Gitä»¥åŠSubversionã€‚</strong></p>
<p>â€‹    åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”±äºæœåŠ¡æ•°é‡å·¨å¤šï¼Œä¸ºäº†æ–¹ä¾¿æœåŠ¡é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†ï¼Œå®æ—¶æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶ã€‚    åœ¨Spring Cloudä¸­ï¼Œæœ‰åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶Spring Cloud Config ï¼Œå®ƒæ”¯æŒé…ç½®æœåŠ¡æ”¾åœ¨é…ç½®æœåŠ¡çš„å†…å­˜ä¸­ï¼ˆå³æœ¬åœ°ï¼‰ï¼Œä¹Ÿæ”¯æŒæ”¾åœ¨è¿œç¨‹Gitä»“åº“ä¸­ã€‚åœ¨Cpring Cloud Config ç»„ä»¶ä¸­ï¼Œåˆ†ä¸¤ä¸ªè§’è‰²ï¼Œä¸€æ˜¯Config Serverï¼ŒäºŒæ˜¯Config Clientã€‚</p>
<p>â€‹    Config Serverç”¨äºé…ç½®å±æ€§çš„å­˜å‚¨ï¼Œå­˜å‚¨çš„ä½ç½®å¯ä»¥ä¸ºGitä»“åº“ã€SVNä»“åº“ã€æœ¬åœ°æ–‡ä»¶ç­‰ï¼ŒConfig Clientç”¨äºæœåŠ¡å±æ€§çš„è¯»å–ã€‚</p>
<h1 id="Bus"><a href="#Bus" class="headerlink" title="Bus"></a>Bus</h1><p><strong>äº‹ä»¶ã€æ¶ˆæ¯æ€»çº¿ï¼Œç”¨äºåœ¨é›†ç¾¤ï¼ˆä¾‹å¦‚ï¼Œé…ç½®å˜åŒ–äº‹ä»¶ï¼‰ä¸­ä¼ æ’­çŠ¶æ€å˜åŒ–ï¼Œå¯ä¸Spring Cloud Configè”åˆå®ç°çƒ­éƒ¨ç½²ã€‚</strong></p>
<p>â€‹    åœ¨Spring Cloud Configä¸­ï¼Œæˆ‘ä»¬çŸ¥é“çš„é…ç½®æ–‡ä»¶å¯ä»¥é€šè¿‡Config Serverå­˜å‚¨åˆ°Gitç­‰åœ°æ–¹ï¼Œé€šè¿‡Config Clientè¿›è¡Œè¯»å–ï¼Œä½†æ˜¯æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¸å¯èƒ½æ˜¯ä¸€ç›´ä¸å˜çš„ï¼Œå½“æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶æ”¾ç”Ÿå˜åŒ–çš„æ—¶å€™å¦‚ä½•è¿›è¡Œæ›´æ–°å“ªï¼Ÿ</p>
<p>â€‹    ä¸€ç§æœ€ç®€å•çš„æ–¹å¼é‡æ–°ä¸€ä¸‹Config Clientè¿›è¡Œé‡æ–°è·å–ï¼Œä½†Spring Cloudç»å¯¹ä¸ä¼šè®©ä½ è¿™æ ·åšçš„ï¼ŒSpring Cloud Busæ­£æ˜¯æä¾›ä¸€ç§æ“ä½œä½¿å¾—æˆ‘ä»¬åœ¨ä¸å…³é—­æœåŠ¡çš„æƒ…å†µä¸‹æ›´æ–°æˆ‘ä»¬çš„é…ç½®ã€‚</p>
<p>â€‹    Spring Cloud Buså®˜æ–¹æ„ä¹‰ï¼šæ¶ˆæ¯æ€»çº¿ã€‚</p>
<p>â€‹    å½“ç„¶åŠ¨æ€æ›´æ–°æœåŠ¡é…ç½®åªæ˜¯æ¶ˆæ¯æ€»çº¿çš„ä¸€ä¸ªç”¨å¤„ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–ç”¨å¤„ã€‚</p>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªç›®çš„åœ°ï¼›</li>
<li>æ¶ˆæ¯è½¬æ¢ä¸ºå…¶ä»–çš„è¡¨ç°å½¢å¼ï¼›</li>
<li>æ‰§è¡Œæ¶ˆæ¯èšç„¦ã€æ¶ˆæ¯åˆ†è§£ï¼Œå¹¶å°†ç»“æœå‘é€åˆ°å…¶ä»–çš„ç›®çš„åœ°ï¼Œç„¶åé‡æ–°ç»„åˆå“åº”è¿”å›ç»™æ¶ˆæ¯ç”¨æˆ·ï¼›</li>
<li>è°ƒç”¨webæœåŠ¡æ¥æ£€ç´¢æ•°æ®ï¼›</li>
<li>å“åº”é”™è¯¯æ—¶é—´ï¼›</li>
<li>ä½¿ç”¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼æ¥æä¾›å†…å®¹ï¼Œæˆ–åŸºäºä¸»é¢˜çš„æ¶ˆæ¯è·¯ç”±</li>
</ul>
<p><img data-src="../SpringCloud%E6%A6%82%E8%BF%B0/Bus.png" alt="Bus"></p>
<p>ä¸¤ä¸ªæ¶ˆæ¯ç»„ä»¶ï¼š</p>
<p>kafkaï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>spring.cloud.stream.kafka.binder.brokers</td>
<td>Kafkaçš„æœåŠ¡ç«¯åˆ—è¡¨</td>
<td>localhost</td>
</tr>
<tr>
<td>spring.cloud.stream.kafka.binder.defaultBrokerPort</td>
<td>KafkaæœåŠ¡ç«¯çš„ç«¯å£ã€‚å½“brokersä¸­æ²¡æœ‰é…ç½®ç«¯å£æ—¶ï¼Œé»˜è®¤ä½¿ç”¨è¿™ä¸ªç«¯å£</td>
<td>9092</td>
</tr>
<tr>
<td>spring.cloud.stream.kafka.binder.zkNodes</td>
<td>KafkaæœåŠ¡ç«¯è¿æ¥çš„ZookeeperèŠ‚ç‚¹åˆ—è¡¨</td>
<td>localhost</td>
</tr>
<tr>
<td>spring.cloud.stream.kafka.binder.defaultZkPort</td>
<td>ZookeeperèŠ‚ç‚¹çš„é»˜è®¤ç«¯å£ã€‚å½“zkNodesä¸­æ²¡æœ‰é…ç½®ç«¯å£æ—¶ï¼Œé»˜è®¤ä½¿ç”¨è¿™ä¸ªç«¯å£</td>
<td>2181</td>
</tr>
</tbody></table>
<p>RabbitMQï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>spring.rabbitmq.host</td>
<td>RabbitMQçš„æœåŠ¡åœ°å€</td>
<td>localhost</td>
</tr>
<tr>
<td>spring.rabbitmq.port</td>
<td>RabbitMQçš„æœåŠ¡ç«¯å£</td>
<td>5672</td>
</tr>
<tr>
<td>spring.rabbitmq.username</td>
<td></td>
<td></td>
</tr>
<tr>
<td>spring.rabbitmq.password</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>#æ€»ç»“</p>
<p>å‰é¢ä»‹ç»äº†å¾ˆå¤šSpring Cloudçš„ç»„ä»¶ï¼Œæœ¬ç¯‡æŒ‰ç…§è‡ªå·±çš„è§’åº¦æ¥åšä¸€æ¬¡å½’çº³ã€‚</p>
<p>Spring CloudæŠ€æœ¯åº”ç”¨ä»åœºæ™¯ä¸Šå¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šæ¶¦ç‰©æ— å£°ç±»å’Œç‹¬æŒ‘å¤§æ¢ç±»ã€‚</p>
<p>æ¶¦ç‰©æ— å£°ï¼Œèåˆåœ¨æ¯ä¸ªå¾®æœåŠ¡ä¸­ã€ä¾èµ–å…¶å®ƒç»„ä»¶å¹¶ä¸ºå…¶æä¾›æœåŠ¡ã€‚</p>
<p>Ribbonï¼Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œç‰¹æ€§æœ‰åŒºåŸŸäº²å’Œã€é‡è¯•æœºåˆ¶ã€‚</p>
<p>Hystrixï¼Œå®¢æˆ·ç«¯å®¹é”™ä¿æŠ¤ï¼Œç‰¹æ€§æœ‰æœåŠ¡é™çº§ã€æœåŠ¡ç†”æ–­ã€è¯·æ±‚ç¼“å­˜ã€è¯·æ±‚åˆå¹¶ã€ä¾èµ–éš”ç¦»ã€‚</p>
<p>Feignï¼Œå£°æ˜å¼æœåŠ¡è°ƒç”¨ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯Ribbon+Hystrix</p>
<p>Streamï¼Œæ¶ˆæ¯é©±åŠ¨ï¼Œæœ‰Sinkã€Sourceã€Processorä¸‰ç§é€šé“ï¼Œç‰¹æ€§æœ‰è®¢é˜…å‘å¸ƒã€æ¶ˆè´¹ç»„ã€æ¶ˆæ¯åˆ†åŒºã€‚</p>
<p>Busï¼Œæ¶ˆæ¯æ€»çº¿ï¼Œé…åˆConfigä»“åº“ä¿®æ”¹çš„ä¸€ç§Streamå®ç°ï¼Œ</p>
<p>Sleuthï¼Œåˆ†å¸ƒå¼æœåŠ¡è¿½è¸ªï¼Œéœ€è¦ææ¸…æ¥šTraceIDå’ŒSpanIDä»¥åŠæŠ½æ ·ï¼Œå¦‚ä½•ä¸ELKæ•´åˆã€‚</p>
<p>ç‹¬æŒ‘å¤§æ¢ï¼Œç‹¬è‡ªå¯åŠ¨ä¸éœ€è¦ä¾èµ–å…¶å®ƒç»„ä»¶ã€‚</p>
<p>Eurekaï¼ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œç‰¹æ€§æœ‰å¤±æ•ˆå‰”é™¤ã€æœåŠ¡ä¿æŠ¤ã€‚</p>
<p>Dashboardï¼ŒHystrixä»ªè¡¨ç›˜ï¼Œç›‘æ§é›†ç¾¤æ¨¡å¼å’Œå•ç‚¹æ¨¡å¼ï¼Œå…¶ä¸­é›†ç¾¤æ¨¡å¼éœ€è¦æ”¶é›†å™¨Turbineé…åˆã€‚</p>
<p>Zuulï¼ŒAPIæœåŠ¡ç½‘å…³ï¼ŒåŠŸèƒ½æœ‰è·¯ç”±åˆ†å‘å’Œè¿‡æ»¤ã€‚</p>
<p>Configï¼Œåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œæ”¯æŒæœ¬åœ°ä»“åº“ã€SVNã€Gitã€JaråŒ…å†…é…ç½®ç­‰æ¨¡å¼ï¼Œ</p>
<p>æ¯ä¸ªç»„ä»¶éƒ½ä¸æ˜¯å¹³ç™½æ— æ•…çš„äº§ç”Ÿçš„ï¼Œæ˜¯ä¸ºäº†è§£å†³æŸä¸€ç‰¹å®šçš„é—®é¢˜è€Œå­˜åœ¨ã€‚</p>
<p>Eurekaå’ŒRibbonï¼Œæ˜¯æœ€åŸºç¡€çš„ç»„ä»¶ï¼Œä¸€ä¸ªæ³¨å†ŒæœåŠ¡ï¼Œä¸€ä¸ªæ¶ˆè´¹æœåŠ¡ã€‚</p>
<p>Hystrixä¸ºäº†ä¼˜åŒ–Ribbonã€é˜²æ­¢æ•´ä¸ªå¾®æœåŠ¡æ¶æ„å› ä¸ºæŸä¸ªæœåŠ¡èŠ‚ç‚¹çš„é—®é¢˜å¯¼è‡´å´©æºƒï¼Œæ˜¯ä¸ªä¿é™©ä¸çš„ä½œç”¨ã€‚</p>
<p>Dashboardç»™Hystrixç»Ÿè®¡å’Œå±•ç¤ºç”¨çš„ï¼Œè€Œä¸”ç›‘æ§æœåŠ¡èŠ‚ç‚¹çš„æ•´ä½“å‹åŠ›å’Œå¥åº·æƒ…å†µã€‚</p>
<p>Turbineæ˜¯é›†ç¾¤æ”¶é›†å™¨ï¼ŒæœåŠ¡äºDashboardçš„ã€‚</p>
<p>Feignæ˜¯æ–¹ä¾¿æˆ‘ä»¬ç¨‹åºå‘˜äº›æ›´ä¼˜ç¾çš„ä»£ç çš„ã€‚</p>
<p>Zuulæ˜¯åŠ åœ¨æ•´ä¸ªå¾®æœåŠ¡æœ€å‰æ²¿çš„é˜²ç«å¢™å’Œä»£ç†å™¨ï¼Œéšè—å¾®æœåŠ¡ç»“ç‚¹IPç«¯å£ä¿¡æ¯ï¼ŒåŠ å¼ºå®‰å…¨ä¿æŠ¤çš„ã€‚</p>
<p>Configæ˜¯ä¸ºäº†è§£å†³æ‰€æœ‰å¾®æœåŠ¡å„è‡ªç»´æŠ¤å„è‡ªçš„é…ç½®ï¼Œè®¾ç½®ä¸€ä¸ªåŒæ„çš„é…ç½®ä¸­å¿ƒï¼Œæ–¹ä¾¿ä¿®æ”¹é…ç½®çš„ã€‚</p>
<p>Busæ˜¯å› ä¸ºconfigä¿®æ”¹å®Œé…ç½®åå„ä¸ªç»“ç‚¹éƒ½è¦refreshæ‰èƒ½ç”Ÿæ•ˆå®åœ¨å¤ªéº»çƒ¦ï¼Œæ‰€ä»¥äº¤ç»™busæ¥é€šçŸ¥æœåŠ¡èŠ‚ç‚¹åˆ·æ–°é…ç½®çš„ã€‚</p>
<p>Streamæ˜¯ä¸ºäº†ç®€åŒ–ç ”å‘äººå‘˜å¯¹MQä½¿ç”¨çš„å¤æ‚åº¦ï¼Œå¼±åŒ–MQçš„å·®å¼‚æ€§ï¼Œè¾¾åˆ°ç¨‹åºå’ŒMQæ¾è€¦åˆã€‚</p>
<p>Sleuthæ˜¯å› ä¸ºå•æ¬¡è¯·æ±‚åœ¨å¾®æœåŠ¡èŠ‚ç‚¹ä¸­è·³è½¬æ— æ³•è¿½æº¯ï¼Œè§£å†³ä»»åŠ¡é“¾æ—¥å¿—è¿½è¸ªé—®é¢˜çš„ã€‚</p>
<p>ç‰¹æ®Šæˆå‘˜Zipkinï¼Œä¹‹æ‰€ä»¥ç‰¹æ®Šæ˜¯å› ä¸ºä»jaråŒ…å’ŒåŒ…åæ¥çœ‹å®ƒä¸å±äºSpring Cloudçš„ä¸€å‘˜ï¼Œä½†æ˜¯å®ƒä¸Spring Cloud Sleuthçš„æŠ½æ ·æ—¥å¿—ç»“åˆçš„å¤©è¡£æ— ç¼ã€‚ä¹ä¸€çœ‹å®ƒä¸Hystrixçš„Dashboardä½œç”¨æœ‰é‡å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ä»–ä»¬çš„ä¾§é‡ç‚¹å®Œå…¨ä¸åŒã€‚Dashboardä¾§é‡çš„æ˜¯å•ä¸ªæœåŠ¡çš„ç»Ÿè®¡å’Œæ˜¯å¦å¯ç”¨ï¼ŒZipkinä¾§é‡çš„ç›‘æ§ç¯èŠ‚æ—¶é•¿ã€‚ç®€è¨€ä¹‹ï¼ŒDashboardä¾§é‡æ•…éšœè¯Šæ–­ï¼ŒZipkinä¾§é‡æ€§èƒ½ä¼˜åŒ–ã€‚</p>
<p>å†…å®¹å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/yejingtao703/article/details/78331442">https://blog.csdn.net/yejingtao703/article/details/78331442</a></p>
<p><a href="https://blog.csdn.net/xlgen157387/article/details/77773908">https://blog.csdn.net/xlgen157387/article/details/77773908</a></p>
<p><a href="https://blog.csdn.net/tudou201601/article/details/79123912">https://blog.csdn.net/tudou201601/article/details/79123912</a></p>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringCloudé¡¹ç›®æ­å»º</title>
    <url>/2018/05/31/SpringCloud%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<p>ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œå°†æ‰€æœ‰é¡¹ç›®æ”¾åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­ç»´æŠ¤ã€‚</p>
<h1 id="åˆ›å»ºparentå·¥ç¨‹"><a href="#åˆ›å»ºparentå·¥ç¨‹" class="headerlink" title="åˆ›å»ºparentå·¥ç¨‹"></a>åˆ›å»ºparentå·¥ç¨‹</h1><p>é¦–å…ˆï¼Œnewä¸€ä¸ªProjectï¼Œé€‰æ‹©mavenï¼Œæ³¨æ„ä¸è¦å‹¾é€‰<code>create from archetype</code>ï¼Œå¡«å†™GroupIdã€ArtifactIdã€Project nameã€‚åˆ›å»ºå®Œæˆåï¼Œå°†srcç›®å½•åˆ é™¤ã€‚</p>
<p><img data-src="../SpringCloud%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/parent.png" alt="parentå·¥ç¨‹"></p>
<p>é…ç½®pomæ–‡ä»¶ï¼Œæ·»åŠ SpringCloudä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>Finchley.RC2<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å„ä¸ªå­é¡¹ç›®å…±ç”¨çš„ä¸€äº›ä¾èµ–--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--test--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--springboot--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>spring-milestones<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Spring Milestones<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://repo.spring.io/milestone<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="åˆ›å»ºEurekaæ³¨å†Œä¸­å¿ƒ"><a href="#åˆ›å»ºEurekaæ³¨å†Œä¸­å¿ƒ" class="headerlink" title="åˆ›å»ºEurekaæ³¨å†Œä¸­å¿ƒ"></a>åˆ›å»ºEurekaæ³¨å†Œä¸­å¿ƒ</h1><p>åˆ›å»ºä¸€ä¸ªæ–°çš„Moduleï¼Œé€‰æ‹©Spring Initializrï¼Œå¡«å†™GroupIdã€ArtifactIdã€Nameï¼Œé€‰æ‹©Cloud Discovery - Eureka Serverï¼Œå‘½åModule Nameï¼Œå®Œæˆã€‚</p>
<p><img data-src="../SpringCloud%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/eureka.png" alt="åˆ›å»ºEureka"></p>
<p>åˆ›å»ºåä¼šè‡ªåŠ¨åœ¨<code>parent</code>çš„pomä¸­æ·»åŠ æ¨¡å—ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ‰‹åŠ¨æ·»åŠ ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>eureka-server<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>service<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘è¯¥æ¨¡å—ä¸­çš„pomæ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.woniu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>eureka-server<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Eureka-Server<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹åº”Applicationç±»æ·»åŠ æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EurekaServersApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SpringApplication.run(EurekaServersApplication.class, args);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘application.ymlé…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: <span class="number">8081</span></span><br><span class="line">eureka:</span><br><span class="line">  instance:</span><br><span class="line">    hostname: localhost</span><br><span class="line"># è¯¥serveré»˜è®¤åŒæ—¶ä¹Ÿæ˜¯client</span><br><span class="line">  client:</span><br><span class="line">    registerWithEureka: <span class="keyword">false</span></span><br><span class="line">    fetchRegistry: <span class="keyword">false</span></span><br><span class="line">    serviceUrl:</span><br><span class="line">      defaultZone: http:<span class="comment">//$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span></span><br></pre></td></tr></table></figure>

<h1 id="åˆ›å»ºæœåŠ¡"><a href="#åˆ›å»ºæœåŠ¡" class="headerlink" title="åˆ›å»ºæœåŠ¡"></a>åˆ›å»ºæœåŠ¡</h1><p>åˆ›å»ºä¸€ä¸ªæ–°çš„Moduleï¼Œä»ç„¶é€‰æ‹©Mavenï¼Œå‹¾é€‰<code>create from archetype</code>ï¼Œå¹¶é€‰æ‹©quickstartï¼Œå¡«å†™ArtifactIdã€Module Nameï¼Œåˆ›å»ºå®Œæˆã€‚</p>
<p><img data-src="../SpringCloud%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/service.png" alt="åˆ›å»ºservice"></p>
<p>ä¿®æ”¹pomæ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.woniu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>service<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>service<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨mainä¸‹é¢åˆ›å»ºresourcesç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹åˆ›å»ºapplication.ymlæ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">service</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">serviceUrl:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8081/eureka/</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8082</span></span><br></pre></td></tr></table></figure>

<p>åœ¨å¯¹åº”Applicationç±»æ·»åŠ æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaClient</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceApplication</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">service</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;world&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">( String[] args )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        SpringApplication.run(ServiceApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åä¾æ¬¡å¯åŠ¨eureka-serverã€serviceæœåŠ¡ï¼Œè®¿é—®localhost:8081ï¼Œè®¿é—®æˆåŠŸã€‚</p>
<p><img data-src="../SpringCloud%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/run.png" alt="run"></p>
<p><em>@EnableDiscoveryClientã€@EnableEurekaClientåŒºåˆ«ï¼š</em></p>
<p><em>@EnableDiscoveryClientåŸºäºspring-cloud-commonsï¼Œå…¶discovery serviceæœ‰å¤šç§å®ç°ï¼ŒEurekaã€Consulã€Zookeeperç­‰ã€‚è€Œ@EnableEurekaClientåªé’ˆå¯¹spring-cloud-netflixæœåŠ¡ï¼›</em></p>
<p><em>@EnableEurekaClientå®ç°ä¸­åŒ…å«@EnableDiscoveryClientï¼›</em></p>
]]></content>
      <categories>
        <category>Spring</category>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringRedisDataä¸­äº‹åŠ¡çš„å‘</title>
    <url>/2018/09/07/SpringRedisData%E4%B8%AD%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9D%91/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    é¡¹ç›®ä¸­ä½¿ç”¨rediså­˜å‚¨ä¼šè¯ï¼Œè€ƒè™‘åˆ°å¹¶å‘åœºæ™¯ï¼Œåœ¨å¯¹sessionè¿›è¡Œç®¡ç†çš„æ—¶å€™éœ€è¦åŠ é”ã€‚æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨äº†StringRedisTemplateï¼Œæ•…è€Œæ‰“ç®—ç”¨å®ƒå®ç°ä¸€ä¸ªåˆ†å¸ƒå¼é”ã€‚</p>
<h2 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h2><h3 id="version-1"><a href="#version-1" class="headerlink" title="version 1"></a>version 1</h3><p>â€‹    é¦–å…ˆï¼Œä½¿ç”¨setnxè¾¾åˆ°é”çš„æ•ˆæœï¼Œä¸ºäº†é˜²æ­¢ç³»ç»Ÿå¼‚å¸¸å‡ºç°æ­»é”ï¼Œè¿˜éœ€è¦ä¸ºæ¯ä¸ªé”è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚ç”±äºè¿™äº›éƒ½æ˜¯éåŸå­æ€§æ“ä½œï¼Œæ‰€ä»¥ä½¿ç”¨redisäº‹åŠ¡è¿›è¡Œå¤„ç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getLock</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  stringRedisTemplate.multi();</span><br><span class="line">  stringRedisTemplate.opsForValue().set(<span class="string">&quot;SessionLock&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">  stringRedisTemplate.exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹    ç„¶è€Œå‘ç°äº‹åŠ¡å¹¶æ²¡èµ·ä½œç”¨ï¼Œåæ¥æŸ¥çœ‹æºç å‘ç°ï¼Œå¦‚æœæ²¡æœ‰æ˜¯ä½¿ç”¨<code>@Transactional</code>æ³¨è§£ï¼ŒstringRedisTemplateçš„æ¯ä¸ªæ“ä½œéƒ½ä¼šæ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œä¸åŒè¿æ¥æ²¡æœ‰å®ç°multiçš„ç‰¹æ€§ã€‚</p>
<h3 id="version-2"><a href="#version-2" class="headerlink" title="version 2"></a>version 2</h3><p>â€‹    å‘ç°é—®é¢˜ç»§è€ŒåŠ ä¸Šæ³¨è§£</p>
<p><a href="https://www.ibm.com/developerworks/cn/java/j-master-spring-transactional-use/index.html">https://www.ibm.com/developerworks/cn/java/j-master-spring-transactional-use/index.html</a></p>
<p><a href="https://blog.csdn.net/weixin_38399962/article/details/82753763">https://blog.csdn.net/weixin_38399962/article/details/82753763</a></p>
<p><a href="https://juejin.im/post/5ce5638ef265da1b91636a56">https://juejin.im/post/5ce5638ef265da1b91636a56</a></p>
<p><a href="https://www.jianshu.com/p/d72e8526bea1">https://www.jianshu.com/p/d72e8526bea1</a></p>
<p><a href="https://www.cnblogs.com/toutou/p/redis_lock.html">https://www.cnblogs.com/toutou/p/redis_lock.html</a></p>
<p><a href="https://blog.csdn.net/liuhanfanshuang/article/details/52136438">https://blog.csdn.net/liuhanfanshuang/article/details/52136438</a></p>
<p><a href="https://blog.csdn.net/qq_34021712/article/details/79606551?depth_1-utm_source=distribute.pc_relevant_right.none-task&amp;utm_source=distribute.pc_relevant_right.none-task">https://blog.csdn.net/qq_34021712/article/details/79606551?depth_1-utm_source=distribute.pc_relevant_right.none-task&amp;utm_source=distribute.pc_relevant_right.none-task</a></p>
<p><a href="https://blog.csdn.net/congcong68/article/details/52734735">https://blog.csdn.net/congcong68/article/details/52734735</a></p>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Springæ³¨å…¥staticå˜é‡</title>
    <url>/2018/07/26/Spring%E6%B3%A8%E5%85%A5static%E5%8F%98%E9%87%8F/</url>
    <content><![CDATA[<h1 id="ä½¿ç”¨setteræ–¹æ³•"><a href="#ä½¿ç”¨setteræ–¹æ³•" class="headerlink" title="ä½¿ç”¨setteræ–¹æ³•"></a>ä½¿ç”¨setteræ–¹æ³•</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;userService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> <span class="keyword">implements</span> <span class="title">IUserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String hello;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;hello.value&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHello</span><span class="params">(String hello)</span> </span>&#123;</span><br><span class="line">        hello = hello;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="åœ¨springå®¹å™¨ä¸­æ³¨å…¥å¯¹è±¡æ—¶èµ‹å€¼"><a href="#åœ¨springå®¹å™¨ä¸­æ³¨å…¥å¯¹è±¡æ—¶èµ‹å€¼" class="headerlink" title="åœ¨springå®¹å™¨ä¸­æ³¨å…¥å¯¹è±¡æ—¶èµ‹å€¼"></a>åœ¨springå®¹å™¨ä¸­æ³¨å…¥å¯¹è±¡æ—¶èµ‹å€¼</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;userService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> <span class="keyword">implements</span> <span class="title">IUserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String hello;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;hello.value&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String pHello;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        hello = pHello;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Springé›†æˆHanLPåˆ†è¯</title>
    <url>/2018/06/15/Spring%E9%9B%86%E6%88%90HanLP%E5%88%86%E8%AF%8D/</url>
    <content><![CDATA[<h1 id="é…ç½®pomæ–‡ä»¶"><a href="#é…ç½®pomæ–‡ä»¶" class="headerlink" title="é…ç½®pomæ–‡ä»¶"></a>é…ç½®pomæ–‡ä»¶</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.hankcs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hanlp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>portable-1.6.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º1.6.4ã€‚å¯ä»¥åœ¨<a href="https://github.com/hankcs/HanLP">è¿™é‡Œ</a>æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<h1 id="æ·»åŠ è‡ªå®šä¹‰å­—å…¸æ–‡ä»¶"><a href="#æ·»åŠ è‡ªå®šä¹‰å­—å…¸æ–‡ä»¶" class="headerlink" title="æ·»åŠ è‡ªå®šä¹‰å­—å…¸æ–‡ä»¶"></a>æ·»åŠ è‡ªå®šä¹‰å­—å…¸æ–‡ä»¶</h1><p>åœ¨resourcesä¸‹é¢å»ºç«‹ç›®å½•ï¼Œå­˜æ”¾è‡ªå®šä¹‰å­—å…¸ã€‚</p>
<p>æˆ‘çš„ç›®å½•æ˜¯resources/hanlp/custom/CustomDic.txt</p>
<h1 id="ç¼–å†™Javaç±»"><a href="#ç¼–å†™Javaç±»" class="headerlink" title="ç¼–å†™Javaç±»"></a>ç¼–å†™Javaç±»</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CUSTOM_DICTIONARY_PATH = <span class="string">&quot;/hanlp/custom/CustomDic.txt&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SYNONYM_WORD_PATH = <span class="string">&quot;/hanlp/synonym/SynonDic.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Term&gt; list;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Segment segment;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map synonymMap;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        refreshDictionary();</span></span><br><span class="line">        segmentSentence(<span class="string">&quot;ä½ æ˜¯æŸ´çŠ¬ç‹—ç‹—å§&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ·æ–°ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">refreshDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        HanLP.Config.CustomDictionaryPath = <span class="keyword">new</span> String[] &#123;</span><br><span class="line">                WordUtil.class.getResource(CUSTOM_DICTIONARY_PATH).getPath()</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        CustomDictionary.reload();</span><br><span class="line">        segment = HanLP.newSegment().enableCustomDictionary(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†è¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> text</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">segmentSentence</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">        segment = HanLP.newSegment().enableCustomDictionary(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        list = segment.seg(text);</span><br><span class="line">        String result = list.get(<span class="number">0</span>).word;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">1</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            result+=<span class="string">&quot; &quot;</span>+list.get(i).word;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ·æ–°åŒä¹‰è¯å­—å…¸</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">refreshSynonym</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String path = WordUtil.class.getResource(SYNONYM_WORD_PATH).getPath();</span><br><span class="line">        File file = <span class="keyword">new</span> File(path);</span><br><span class="line">        BufferedReader reader;</span><br><span class="line">        synonymMap = <span class="keyword">new</span> HashMap();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(file));</span><br><span class="line">            String line;</span><br><span class="line">            <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                String[] words = line.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (String word: words) &#123;</span><br><span class="line">                    synonymMap.put(word, words[<span class="number">0</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–åŒä¹‰è¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> word</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getSynonym</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (String) synonymMap.get(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æé«˜æ•ˆç‡ï¼ŒHanLPä¼šå°†å­—å…¸æ–‡ä»¶è½¬ä¹‰æˆbinæ–‡ä»¶ï¼Œæ¯æ¬¡ä»binæ–‡ä»¶ä¸­è¯»å–å•è¯ã€‚</p>
<p>æ‰€ä»¥å½“å­—å…¸æ›´æ–°æ—¶ï¼Œéœ€è¦åˆ é™¤binæ–‡ä»¶ï¼Œé‡æ–°ç”Ÿæˆï¼Œå®˜æ–¹æä¾›reloadæ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦æŒ‡å®šè‡ªå®šä¹‰å­—å…¸çš„ä½ç½®ã€‚</p>
<p>å½“è°ƒç”¨segment()æ–¹æ³•æ—¶ä¼šå…ˆä»å¯¹åº”çš„binæ–‡ä»¶ä¸­è¯»å–ï¼Œå¦‚æœæ²¡æœ‰binæ–‡ä»¶ï¼Œå…ˆé‡æ–°ç”Ÿæˆbinæ–‡ä»¶ï¼Œå†è¯»å–ã€‚</p>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>åˆ†è¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Sqlä¼˜åŒ–</title>
    <url>/2017/08/13/Sql%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥å…¨è¡¨æ‰«"><a href="#ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥å…¨è¡¨æ‰«" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥å…¨è¡¨æ‰«"></a>ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥å…¨è¡¨æ‰«</h2><p>å…¬å¸è¿™è¾¹çš„è¦æ±‚æ˜¯ï¼ŒSqlçš„æŸ¥è¯¢æ•°æ®å°äº50Mæ—¶ï¼Œå¯ä»¥å…¨è¡¨æ‰«ã€‚</p>
<p>å‡å¦‚ä¸€æ¡æ•°æ®å¤§å°ä¸º100Bï¼Œ50Må¯¹åº”çš„æ•°æ®é‡ä¸ºï¼š</p>
<p>$50<em>1024</em>1024/100=524288$, çº¦50wæ¡æ•°æ®ã€‚æ‰€ä»¥å½“è¡¨ä¸­æ•°æ®é‡å°äº50wæ—¶ï¼Œå¯ä»¥å…¨è¡¨æ‰«ã€‚</p>
<h2 id="Oracleåˆ†é¡µ"><a href="#Oracleåˆ†é¡µ" class="headerlink" title="Oracleåˆ†é¡µ"></a>Oracleåˆ†é¡µ</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒOracleåˆ†é¡µçš„å†™æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ç”¨åµŒå¥—æŸ¥è¯¢çš„æ–¹å¼ã€‚ä¸¾ä¸ªğŸŒ°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line">	<span class="keyword">select</span> rownum rowno, t.<span class="operator">*</span> </span><br><span class="line">	<span class="keyword">from</span></span><br><span class="line">  	(<span class="keyword">select</span> id,</span><br><span class="line">     		name,</span><br><span class="line">     		salary</span><br><span class="line">     	 <span class="keyword">from</span> worker</span><br><span class="line">     	 <span class="keyword">order</span> <span class="keyword">by</span> name <span class="keyword">desc</span>) t		<span class="operator">/</span><span class="operator">/</span>å¦‚æœåˆ†é¡µæ—¶éœ€è¦æ’åºï¼Œä¸€å®šè¦åœ¨å­æŸ¥è¯¢é‡Œæ’åºå®Œæˆåï¼Œå†åˆ†é¡µ</span><br><span class="line">  	<span class="keyword">where</span> rownum <span class="operator">&lt;=</span> <span class="number">10</span>				<span class="operator">/</span><span class="operator">/</span><span class="operator">&lt;</span> ä¸€å®šåœ¨å­æŸ¥è¯¢ä¸­ã€‚å› ä¸ºrownumæ˜¯æŸ¥è¯¢å‡ºæ•°æ®ä¹‹åå†ç»™rownumèµ‹å€¼ã€‚å¦åˆ™ä»ç¬¬<span class="number">2</span>é¡µå¼€å§‹æŸ¥è¯¢ç»“æœéƒ½ä¸ºç©º</span><br><span class="line">) <span class="keyword">where</span> rowno <span class="operator">&gt;</span><span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>å¦å¤–è¿˜æœ‰ä¸€ç§å†™æ³•ï¼Œä½¿ç”¨betweenï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> rownum, w.<span class="operator">*</span> </span><br><span class="line"><span class="keyword">from</span> worker w</span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">rownum <span class="keyword">between</span> <span class="number">1</span> <span class="keyword">and</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ ¼å¼æ›´åŠ ç®€å•ï¼Œä¸è¿‡æ•ˆç‡å¯èƒ½ä¼šæœ‰ä¸åŒã€‚å…·ä½“è¿˜æ˜¯è¦çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œé€‰æ‹©æœ€ä¼˜ã€‚</p>
<h2 id="æ‰¹é‡æ›´æ–°æ—¶ï¼Œå¦‚æœå‚æ•°ä¸å›ºå®šï¼Œé€ æˆç¡¬è§£æ"><a href="#æ‰¹é‡æ›´æ–°æ—¶ï¼Œå¦‚æœå‚æ•°ä¸å›ºå®šï¼Œé€ æˆç¡¬è§£æ" class="headerlink" title="æ‰¹é‡æ›´æ–°æ—¶ï¼Œå¦‚æœå‚æ•°ä¸å›ºå®šï¼Œé€ æˆç¡¬è§£æ"></a>æ‰¹é‡æ›´æ–°æ—¶ï¼Œå¦‚æœå‚æ•°ä¸å›ºå®šï¼Œé€ æˆç¡¬è§£æ</h2><p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸ªåœºæ™¯ï¼Œéœ€è¦æ ¹æ®idæ‰¹é‡æ›´æ–°æŸä¸ªå€¼ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¼šå°†idæ”¾åˆ°listä¸­ï¼Œå°†listä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">update worker</span><br><span class="line"><span class="keyword">set</span> status <span class="operator">=</span> &quot;Y&quot;</span><br><span class="line"><span class="keyword">where</span> id <span class="keyword">in</span></span><br><span class="line"><span class="operator">&lt;</span>iterator <span class="keyword">open</span><span class="operator">=</span>&quot;(&quot; <span class="keyword">close</span><span class="operator">=</span>&quot;)&quot; conjunction<span class="operator">=</span>&quot;,&quot;<span class="operator">&gt;</span></span><br><span class="line">	#list[]#</span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span>iterator<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºå…¥å‚æ˜¯listï¼Œé•¿åº¦ä¸å›ºå®šï¼Œç”Ÿæˆçš„sqlä¹Ÿä¼šä¸åŒï¼Œæ•°æ®åº“åœ¨æ‰§è¡Œæ—¶æ¯æ¬¡éƒ½è¦ç”Ÿæˆæ–°çš„æ‰§è¡Œè®¡åˆ’ï¼Œå¯¼è‡´ç¡¬è§£æã€‚</p>
<p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘èƒ½æƒ³åˆ°çš„æœ‰å¦‚ä¸‹ä¸¤ç§æ–¹å¼å¤„ç†ï¼š</p>
<ol>
<li><p><strong>å°†listé•¿åº¦å›ºå®š</strong></p>
<p>å°†å¤§æ‰¹é‡åˆ†æˆè‹¥å¹²å°æ‰¹æ¬¡ï¼Œæ¯”å¦‚æ¯æ‰¹æ¬¡æ›´æ–°100æ¡ï¼Œlistå®šé•¿ä¸º100ï¼Œå½“æœ€åçš„æ‰¹æ¬¡é•¿åº¦ä¸å¤Ÿ100æ—¶ï¼Œåé¢çš„æ•°æ®è®¾ç½®ä¸ºç©ºã€‚è¿™æ ·ç”Ÿæˆçš„sqlå°±æ˜¯å›ºå®šçš„ï¼Œæ‰§è¡Œè®¡åˆ’ç›¸åŒã€‚</p>
</li>
<li><p><strong>å°†æ•´ä¸ªsqlå¾ªç¯</strong></p>
<p>å°†æ•´ä¸ªsqlå¾ªç¯ï¼Œè€Œä¸æ˜¯å‚æ•°ã€‚ä¾‹å¦‚å…¥å‚æ˜¯æœ‰100ä¸ªå‚æ•°çš„listï¼Œå¾ªç¯åˆ›å»ºå‡º100æ¡updateè¯­å¥ï¼Œå‚æ•°å›ºå®šä¸ºä¸€ä¸ªï¼Œå½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">&lt;</span>foreach collection<span class="operator">=</span>list item<span class="operator">=</span>&quot;item&quot; index<span class="operator">=</span>&quot;index&quot; <span class="keyword">open</span><span class="operator">=</span>&quot;begin&quot; <span class="keyword">close</span><span class="operator">=</span>&quot;;end;&quot; separator<span class="operator">=</span>&quot;;&quot;<span class="operator">&gt;</span></span><br><span class="line">update worker </span><br><span class="line"><span class="keyword">set</span> status <span class="operator">=</span> &quot;Y&quot;</span><br><span class="line"><span class="keyword">where</span> id <span class="operator">=</span> #&#123;item.id&#125;</span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span>foreach<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Sql</tag>
      </tags>
  </entry>
  <entry>
    <title>TensorFlow-API</title>
    <url>/2018/05/11/TensorFlow-API/</url>
    <content><![CDATA[<h2 id="tf-constant"><a href="#tf-constant" class="headerlink" title="tf.constant"></a>tf.constant</h2><p><strong>æ ¹æ®valueçš„å€¼ï¼Œç”Ÿæˆä¸€ä¸ªshapeç»´åº¦çš„å¼ é‡å¸¸é‡</strong></p>
<h3 id="Define"><a href="#Define" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">constant(value, dtype=<span class="literal">None</span>, shape=<span class="literal">None</span>, name=<span class="string">&#x27;Const&#x27;</span>, verify_shape=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter"><a href="#Parameter" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é¡»</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>Y</td>
<td>å¸¸é‡ã€list</td>
<td>å¼ é‡çš„å€¼</td>
</tr>
<tr>
<td>dtype</td>
<td>N</td>
<td>dtype</td>
<td>å¼ é‡çš„å…ƒç´ ç±»å‹</td>
</tr>
<tr>
<td>shape</td>
<td>N</td>
<td>1ç»´æ•´å‹å¼ é‡ã€array</td>
<td>å¼ é‡çš„ç»´åº¦</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>å¼ é‡çš„åç§°</td>
</tr>
<tr>
<td>verify_shape</td>
<td>N</td>
<td>boolean</td>
<td>æ£€æµ‹shapeæ˜¯å¦å’Œvalueçš„shapeä¸€è‡´ã€‚<br />è‹¥å€¼ä¸ºFalseï¼Œå½“ä¸ä¸€è‡´æ—¶ï¼Œä¼šç”¨æœ€åä¸€ä¸ªå…ƒç´ å°†shapeè¡¥å…¨</td>
</tr>
</tbody></table>
<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: constant.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 10:00</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = tf.constant([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], shape=[<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">b = tf.constant(-<span class="number">1</span>, shape=[<span class="number">3</span>,<span class="number">2</span>])</span><br><span class="line">c = tf.matmul(a,b)</span><br><span class="line"></span><br><span class="line">e = tf.constant(np.arange(<span class="number">1</span>,<span class="number">13</span>,dtype=np.int32), shape=[<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">f = tf.constant(np.arange(<span class="number">13</span>,<span class="number">25</span>, dtype=np.int32), shape=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>])</span><br><span class="line">g = tf.matmul(e,f)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (a.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(a))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (b.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(b))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (c.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(c))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (e.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(e))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (f.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(f))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (g.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(g))</span><br><span class="line">    </span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># (2, 3)</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># (3, 2)</span></span><br><span class="line"><span class="comment"># [[-1 -1]</span></span><br><span class="line"><span class="comment">#  [-1 -1]</span></span><br><span class="line"><span class="comment">#  [-1 -1]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># (2, 2)</span></span><br><span class="line"><span class="comment"># [[ -6  -6]</span></span><br><span class="line"><span class="comment">#  [-15 -15]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># (2, 2, 3)</span></span><br><span class="line"><span class="comment"># [[[ 1  2  3]</span></span><br><span class="line"><span class="comment">#   [ 4  5  6]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  [[ 7  8  9]</span></span><br><span class="line"><span class="comment">#   [10 11 12]]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># (2, 3, 2)</span></span><br><span class="line"><span class="comment"># [[[13 14]</span></span><br><span class="line"><span class="comment">#   [15 16]</span></span><br><span class="line"><span class="comment">#   [17 18]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  [[19 20]</span></span><br><span class="line"><span class="comment">#   [21 22]</span></span><br><span class="line"><span class="comment">#   [23 24]]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># (2, 2, 2)</span></span><br><span class="line"><span class="comment"># [[[ 94 100]</span></span><br><span class="line"><span class="comment">#   [229 244]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  [[508 532]</span></span><br><span class="line"><span class="comment">#   [697 730]]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-placeholder"><a href="#tf-placeholder" class="headerlink" title="tf.placeholder"></a>tf.placeholder</h2><p><strong>ä¸€ç§å ä½ç¬¦ï¼Œåœ¨æ‰§è¡Œæ—¶å¡«å…¥å…·ä½“å€¼</strong></p>
<p>###Define</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">placeholder(dtype, shape=<span class="literal">None</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-1"><a href="#Parameter-1" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>dtype</td>
<td>Y</td>
<td>dtype</td>
<td>å ä½ç¬¦çš„æ•°æ®ç±»å‹</td>
</tr>
<tr>
<td>shape</td>
<td>N</td>
<td>1ç»´æ•´å‹å¼ é‡ã€array</td>
<td>å ä½ç¬¦çš„ç»´åº¦</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>å ä½ç¬¦çš„åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-1"><a href="#Demo-1" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: placeholder.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 10:57</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">x = tf.placeholder(tf.float32, [<span class="literal">None</span>, <span class="number">3</span>])</span><br><span class="line">y = tf.matmul(x, x)</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    rand_array = np.random.rand(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(y, feed_dict=&#123;x:rand_array&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line"><span class="comment"># [[ 0.88505751  0.79640609  0.46087515]</span></span><br><span class="line"><span class="comment">#  [ 0.36539319  0.41709256  0.16832483]</span></span><br><span class="line"><span class="comment">#  [ 0.75206953  0.90277183  0.37584797]]</span></span><br></pre></td></tr></table></figure>



<h2 id="tf-nn-conv2d"><a href="#tf-nn-conv2d" class="headerlink" title="tf.nn.conv2d"></a>tf.nn.conv2d</h2><p><strong>å·ç§¯è¿ç®—</strong></p>
<h3 id="Define-1"><a href="#Define-1" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d(<span class="built_in">input</span>, <span class="built_in">filter</span>, strides, padding, </span><br><span class="line">		use_cudnn_on_gpu=<span class="literal">True</span>, data_format=<span class="string">&#x27;NHWC&#x27;</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-2"><a href="#Parameter-2" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>input</td>
<td>Y</td>
<td>tensor</td>
<td>4ç»´çš„tensorï¼Œå³[batch, in_height, in_width, in_channels]<br />(è‹¥inputæ˜¯å›¾åƒï¼Œå³[è®­ç»ƒæ—¶ä¸€ä¸ªbatchçš„å›¾ç‰‡æ•°é‡ï¼Œå›¾ç‰‡é«˜åº¦ï¼Œå›¾ç‰‡å®½åº¦ï¼Œå›¾ç‰‡çš„é€šé“æ•°])<br />ç±»å‹éœ€ä¸ºfloat32ã€float64</td>
</tr>
<tr>
<td>filter</td>
<td>Y</td>
<td>tensor</td>
<td>4ç»´çš„tensorï¼Œå³[filter_height, filter_width, in_channels, out_channels]<br />(è‹¥inputæ˜¯å›¾åƒï¼Œå³[å·ç§¯æ ¸çš„é«˜åº¦ï¼Œå·ç§¯æ ¸çš„å®½åº¦ï¼Œå›¾åƒé€šé“æ•°ï¼Œå·ç§¯æ ¸ä¸ªæ•°])<br />filterçš„in_channelså¿…é¡»ä¸inputçš„in_channelsç›¸ç­‰</td>
</tr>
<tr>
<td>strides</td>
<td>Y</td>
<td>list</td>
<td>é•¿åº¦ä¸º4çš„listï¼Œå·ç§¯æ—¶åœ¨inputä¸Šæ¯ä¸€ç»´çš„æ­¥é•¿ï¼Œä¸€èˆ¬strides[0]=strides[3]=1</td>
</tr>
<tr>
<td>padding</td>
<td>Y</td>
<td>string</td>
<td>å·ç§¯æ–¹å¼ï¼Œåªèƒ½ä¸ºâ€SAMEâ€ã€â€VALIDâ€å…¶ä¸­ä¹‹ä¸€ã€‚SAMEï¼šè¡¥å…¨æ–¹å¼ï¼›VALIDï¼šä¸¢å¼ƒæ–¹å¼</td>
</tr>
<tr>
<td>use_cudnn_on_gpu</td>
<td>N</td>
<td>boolean</td>
<td>æ˜¯å¦ä½¿ç”¨cudnnåŠ é€Ÿï¼Œé»˜è®¤ä¸ºtrue</td>
</tr>
<tr>
<td>data_format</td>
<td>N</td>
<td>string</td>
<td>åªèƒ½ä¸ºâ€NHWCâ€ã€â€NCHWâ€ï¼Œé»˜è®¤â€NHWCâ€</td>
</tr>
<tr>
<td>Name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-2"><a href="#Demo-2" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: conv2d.py</span></span><br><span class="line"><span class="string">@time: 2018/5/9 20:48</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = tf.constant([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],dtype=tf.float32,shape=[<span class="number">1</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">1</span>])</span><br><span class="line">b = tf.constant([<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>],dtype=tf.float32,shape=[<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line">c = tf.nn.conv2d(a,b,strides=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>],padding=<span class="string">&#x27;VALID&#x27;</span>)</span><br><span class="line">d = tf.nn.conv2d(a,b,strides=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>],padding=<span class="string">&#x27;SAME&#x27;</span>)</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;c shape:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (c.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;c value:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(c))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;d shape:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (d.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;d value:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(d))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># c shape:</span></span><br><span class="line"><span class="comment"># (1, 2, 2, 1)</span></span><br><span class="line"><span class="comment"># c value:</span></span><br><span class="line"><span class="comment"># [[[[ 4.]</span></span><br><span class="line"><span class="comment">#    [ 4.]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   [[ 2.]</span></span><br><span class="line"><span class="comment">#    [ 4.]]]]</span></span><br><span class="line"><span class="comment"># d shape:</span></span><br><span class="line"><span class="comment"># (1, 3, 3, 1)</span></span><br><span class="line"><span class="comment"># d value:</span></span><br><span class="line"><span class="comment"># [[[[ 2.]</span></span><br><span class="line"><span class="comment">#    [ 3.]</span></span><br><span class="line"><span class="comment">#    [ 1.]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   [[ 1.]</span></span><br><span class="line"><span class="comment">#    [ 4.]</span></span><br><span class="line"><span class="comment">#    [ 3.]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   [[ 0.]</span></span><br><span class="line"><span class="comment">#    [ 2.]</span></span><br><span class="line"><span class="comment">#    [ 1.]]]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-nn-relu"><a href="#tf-nn-relu" class="headerlink" title="tf.nn.relu"></a>tf.nn.relu</h2><p><strong>æ¿€æ´»å‡½æ•°</strong></p>
<h3 id="Define-2"><a href="#Define-2" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">relu(features, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-3"><a href="#Parameter-3" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>features</td>
<td>Y</td>
<td>tensor</td>
<td>float32ã€float64ã€int8ã€int16ã€int32ã€int64ã€uint8ã€unit16ã€half</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-3"><a href="#Demo-3" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: relu.py</span></span><br><span class="line"><span class="string">@time: 2018/5/9 21:30</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = tf.constant([<span class="number">1</span>,-<span class="number">2</span>,<span class="number">0</span>,<span class="number">4</span>,-<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = tf.nn.relu(a)</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="built_in">print</span> (sess.run(b))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># [1 0 0 4 0 6]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-nn-max-pool"><a href="#tf-nn-max-pool" class="headerlink" title="tf.nn.max_pool"></a>tf.nn.max_pool</h2><p><strong>æ± åŒ–</strong></p>
<h3 id="Define-3"><a href="#Define-3" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">max_pool(value, ksize, strides, padding,</span><br><span class="line">		data_format=<span class="string">&#x27;NHWC&#x27;</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-4"><a href="#Parameter-4" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>Y</td>
<td>tensor</td>
<td>4ç»´çš„å¼ é‡ï¼Œå³[batch, height, width, channels]ï¼Œç±»å‹ä¸ºtf.float32</td>
</tr>
<tr>
<td>ksize</td>
<td>Y</td>
<td>list</td>
<td>æ± åŒ–çª—å£çš„å¤§å°ï¼Œé•¿åº¦ä¸º4çš„listï¼Œä¸€èˆ¬æ˜¯[1ï¼Œheightï¼Œwidthï¼Œ1]ï¼Œå› ä¸ºä¸åœ¨batchå’Œchannelsä¸Šåšæ± åŒ–ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªç»´åº¦ä¸º1</td>
</tr>
<tr>
<td>strides</td>
<td>Y</td>
<td>list</td>
<td>æ± åŒ–çª—å£åœ¨æ¯ä¸€ä¸ªç»´åº¦ä¸Šçš„æ­¥é•¿ã€‚ä¸€èˆ¬strides[0]=strides[3]=1</td>
</tr>
<tr>
<td>padding</td>
<td>Y</td>
<td>string</td>
<td>åªèƒ½ä¸ºâ€VALIDâ€ã€â€SAMEâ€å…¶ä¸­ä¹‹ä¸€ï¼Œè¿™ä¸ªå€¼å†³å®šäº†ä¸åŒçš„æ± åŒ–æ–¹å¼ã€‚VALIDï¼šä¸¢å¼ƒæ–¹å¼ï¼›SAMEï¼šè¡¥å…¨æ–¹å¼</td>
</tr>
<tr>
<td>data_format</td>
<td>N</td>
<td>string</td>
<td>åªèƒ½ä¸ºâ€NHWCâ€ã€â€NCHWâ€ã€‚é»˜è®¤â€NHWCâ€</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-4"><a href="#Demo-4" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: max_pool.py</span></span><br><span class="line"><span class="string">@time: 2018/5/10 20:38</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = tf.constant([<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">2</span>], dtype=tf.float32, shape=[<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">1</span>])</span><br><span class="line">b = tf.nn.max_pool(a, ksize=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>], strides=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>], padding=<span class="string">&#x27;SAME&#x27;</span>)</span><br><span class="line">c = tf.nn.max_pool(a, ksize=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>], strides=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>], padding=<span class="string">&#x27;VALID&#x27;</span>)</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;b.shape&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (b.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;b.value&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(b))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;c.shape&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (c.get_shape())</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;c.value&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(c))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># b.shape</span></span><br><span class="line"><span class="comment"># (1, 2, 2, 1)</span></span><br><span class="line"><span class="comment"># b.value</span></span><br><span class="line"><span class="comment"># [[[[ 9.]</span></span><br><span class="line"><span class="comment">#    [ 2.]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   [[ 6.]</span></span><br><span class="line"><span class="comment">#    [ 3.]]]]</span></span><br><span class="line"><span class="comment"># c.shape</span></span><br><span class="line"><span class="comment"># (1, 2, 2, 1)</span></span><br><span class="line"><span class="comment"># c.value</span></span><br><span class="line"><span class="comment"># [[[[ 9.]</span></span><br><span class="line"><span class="comment">#    [ 2.]]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   [[ 6.]</span></span><br><span class="line"><span class="comment">#    [ 3.]]]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="tf-nn-dropout"><a href="#tf-nn-dropout" class="headerlink" title="tf.nn.dropout"></a>tf.nn.dropout</h2><p><strong>ä¸¢å¼ƒå‡½æ•°ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒæŒ‰ç…§ä¸€å®šæ¦‚ç‡å°†ä¸€éƒ¨åˆ†ç¥ç»ç½‘ç»œå•å…ƒæš‚æ—¶ä»ç½‘ç»œä¸­ä¸¢å¼ƒï¼Œç›¸å½“äºä»åŸå§‹ç½‘ç»œä¸­æ‰¾åˆ°ä¸€ä¸ªæ›´ç˜¦çš„ç½‘ç»œ</strong></p>
<h3 id="Define-4"><a href="#Define-4" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dropout(x, keep_prob, noise_shape=<span class="literal">None</span>, seed=<span class="literal">None</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-5"><a href="#Parameter-5" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>Y</td>
<td>tensor</td>
<td>xä¸­keep_probæ¦‚ç‡çš„å…ƒç´ ï¼Œé™¤ä»¥keep_probã€‚æˆ–è€…ä¸º0</td>
</tr>
<tr>
<td>keep_prob</td>
<td>Y</td>
<td>scalar</td>
<td>dropoutçš„æ¦‚ç‡ï¼Œä¸€èˆ¬å…ˆç”¨å ä½ç¬¦</td>
</tr>
<tr>
<td>noise_shape</td>
<td>N</td>
<td>tensor</td>
<td>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯å¦dropoutæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚<br />å¦‚æœnoise_shape[i]==shape(x)[i]ï¼Œè¯¥ç»´åº¦å…ƒç´ ç›¸äº’ç‹¬ç«‹ï¼›<br />å¦‚æœnoise_shape[i]!=shape(x)[i]ï¼Œè¯¥ç»´åº¦å…ƒç´ ä¸ç›¸äº’ç‹¬ç«‹ï¼Œå³è¦ä¹ˆä¸€èµ·dropoutï¼Œè¦ä¹ˆä¸€èµ·ä¿ç•™</td>
</tr>
<tr>
<td>seed</td>
<td>N</td>
<td>æ•°å€¼</td>
<td>å¦‚æœæŒ‡å®šè¯¥å€¼ï¼Œæ¯æ¬¡dropoutç»“æœç›¸åŒ</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-5"><a href="#Demo-5" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: dropout.py</span></span><br><span class="line"><span class="string">@time: 2018/5/10 20:58</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = tf.constant([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], shape=[<span class="number">2</span>,<span class="number">3</span>], dtype=tf.float32)</span><br><span class="line">b = tf.placeholder(tf.float32)</span><br><span class="line">c = tf.nn.dropout(a, b, [<span class="number">2</span>,<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(tf.global_variables_initializer())</span><br><span class="line">    <span class="built_in">print</span> (sess.run(c, feed_dict=&#123;b:<span class="number">0.75</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># [[ 0.          0.          0.        ]</span></span><br><span class="line"><span class="comment">#  [ 5.33333349  6.66666651  8.        ]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-nn-sigmoid-cross-entropy-with-logits"><a href="#tf-nn-sigmoid-cross-entropy-with-logits" class="headerlink" title="tf.nn.sigmoid_cross_entropy_with_logits"></a>tf.nn.sigmoid_cross_entropy_with_logits</h2><p><strong>è®¡ç®—äº¤å‰ç†µå‡½æ•°ã€‚å…ˆå¯¹ logits è¿›è¡Œ sigmoid è®¡ç®—ï¼Œå†è®¡ç®—äº¤å‰ç†µ</strong></p>
<p>äº¤å‰ç†µï¼šLosså‡½æ•°çš„ä¸€ç§ã€‚å¸¸è§çš„Losså‡½æ•°ä¸ºå‡æ–¹å¹³æ–¹å·®ï¼›</p>
<p>sigmoidï¼šæ¿€æ´»å‡½æ•°çš„ä¸€ç§ï¼›</p>
<p>å¦å¤–é™¤äº†tf.nn.sigmoid_cross_entropy_with_logitsä»¥å¤–ï¼Œè¿˜æœ‰</p>
<p>tf.nn.softmax_cross_entropy_with_logitsï¼ˆå‚æ•°logitså¿…é¡»ä¸ºæœªç»ç¼©æ”¾çš„ï¼Œå‡½æ•°ä¸­ä¼šå¯¹logitsè¿›è¡Œsigmoidè¿ç®—ï¼‰</p>
<p>tf.nn.sparse_softmax_cross_entropy_with_logits</p>
<p>tf.nn.weighted_cross_entropy_with_logitsä¸‰ç§äº¤å‰ç†µå‡½æ•°</p>
<h3 id="Define-5"><a href="#Define-5" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sigmoid_cross_entropy_with_logits(_sentinel=<span class="literal">None</span>, labels=<span class="literal">None</span>, logits=<span class="literal">None</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-6"><a href="#Parameter-6" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>_sentinel</td>
<td>N</td>
<td>None</td>
<td>ä¸€èˆ¬ä¸ä½¿ç”¨</td>
</tr>
<tr>
<td>logits</td>
<td>N</td>
<td>tensor</td>
<td>float32ã€float64</td>
</tr>
<tr>
<td>labels</td>
<td>N</td>
<td>tensor</td>
<td>shapeä¸logitsç›¸åŒ</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-6"><a href="#Demo-6" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: sigmod_cross_entropy_with_logits.py.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 09:27</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">x = tf.constant([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>], dtype=tf.float64)</span><br><span class="line">y = tf.constant([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>], dtype=tf.float64)</span><br><span class="line">loss = tf.nn.sigmoid_cross_entropy_with_logits(logits=x, labels=y)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="built_in">print</span> (sess.run(loss))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># [3.13261688e-01   1.26928011e-01   4.85873516e-02   4.01814993e+00</span></span><br><span class="line"><span class="comment">#  5.00671535e+00   2.47568514e-03   7.00091147e+00]</span></span><br></pre></td></tr></table></figure>
<p><strong>è¯¥å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ•°ã€‚</strong></p>
<p><strong>å¦‚æœè¦æ±‚äº¤å‰ç†µï¼Œéœ€è¦è¿›ä¸€æ­¥åštf.reduce_sumæ“ä½œï¼Œå³å¯¹å‘é‡é‡Œæ‰€æœ‰å…ƒç´ æ±‚å’Œï¼›</strong></p>
<p><strong>å¦‚æœè¦æ±‚Lossï¼ˆå¸¸è§ï¼‰ï¼Œéœ€è¦è¿›ä¸€æ­¥åštf.reduce_meanæ“ä½œï¼Œå¯¹å‘é‡æ±‚å¹³å‡å€¼ï¼›</strong></p>
<h2 id="tf-nn-bias-add"><a href="#tf-nn-bias-add" class="headerlink" title="tf.nn.bias_add"></a>tf.nn.bias_add</h2><p><strong>å°†åå·®é¡¹ bias åŠ åˆ° value ä¸Šé¢ï¼Œå¯ä»¥çœ‹åšæ˜¯ tf.add çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚å…¶ä¸­ bias å¿…é¡»æ˜¯ä¸€ç»´çš„ï¼Œå¹¶ä¸”ç»´åº¦å’Œ value çš„æœ€åä¸€ç»´ç›¸åŒï¼Œæ•°æ®ç±»å‹å¿…é¡»å’Œ value ç›¸åŒ</strong></p>
<h3 id="Define-6"><a href="#Define-6" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bias_add(value, bias, data_format=<span class="literal">None</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-7"><a href="#Parameter-7" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>Y</td>
<td>tensor</td>
<td>Floatã€doubleã€int64ã€int32ã€int16ã€int8ã€uint8ã€complex64ã€complex128</td>
</tr>
<tr>
<td>bias</td>
<td>Y</td>
<td>1ç»´tensor</td>
<td>ç»´åº¦å¿…é¡»å’Œvalueæœ€åä¸€ç»´ç»´åº¦ç›¸ç­‰</td>
</tr>
<tr>
<td>data_format</td>
<td>N</td>
<td>string</td>
<td>æ”¯æŒâ€NHWCâ€ã€â€NCHWâ€</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-7"><a href="#Demo-7" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: bias_add.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 11:45</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = tf.constant([[<span class="number">1.0</span>, <span class="number">2.0</span>],[<span class="number">1.0</span>, <span class="number">2.0</span>],[<span class="number">1.0</span>, <span class="number">2.0</span>]])</span><br><span class="line">b = tf.constant([<span class="number">2.0</span>,<span class="number">1.0</span>])</span><br><span class="line">c = tf.constant([<span class="number">1.0</span>])</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;bias_add(a, b)&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(tf.nn.bias_add(a, b)))</span><br><span class="line">    <span class="comment"># print (sess.run(tf.nn.bias_add(a, c))) error</span></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;tf.add(a, b)&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(tf.add(a, b)))</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;tf.add(a, c&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(tf.add(a, c)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bias_add(a, b)</span></span><br><span class="line"><span class="comment"># [[ 3.  3.]</span></span><br><span class="line"><span class="comment">#  [ 3.  3.]</span></span><br><span class="line"><span class="comment">#  [ 3.  3.]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># tf.add(a, b)</span></span><br><span class="line"><span class="comment"># [[ 3.  3.]</span></span><br><span class="line"><span class="comment">#  [ 3.  3.]</span></span><br><span class="line"><span class="comment">#  [ 3.  3.]]</span></span><br><span class="line"><span class="comment"># -----------------</span></span><br><span class="line"><span class="comment"># tf.add(a, c</span></span><br><span class="line"><span class="comment"># [[ 2.  3.]</span></span><br><span class="line"><span class="comment">#  [ 2.  3.]</span></span><br><span class="line"><span class="comment">#  [ 2.  3.]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-truncated-normal"><a href="#tf-truncated-normal" class="headerlink" title="tf.truncated_normal"></a>tf.truncated_normal</h2><p><strong>åœ¨æˆªæ–­çš„æ­£æ€åˆ†å¸ƒä¸­è¾“å‡ºéšæœºæ•°ï¼Œå–å€¼èŒƒå›´[ mean - 2 * stddev, mean + 2 * stddev ]</strong></p>
<h3 id="Define-7"><a href="#Define-7" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">truncated_normal(shape, mean=<span class="number">0.0</span>, stddev=<span class="number">1.0</span>, dtype=tf.float32, seed=<span class="literal">None</span>, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-8"><a href="#Parameter-8" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>shape</td>
<td>Y</td>
<td>1ç»´æ•´å‹å¼ é‡ã€array</td>
<td>è¾“å‡ºå¼ é‡çš„ç»´åº¦</td>
</tr>
<tr>
<td>mean</td>
<td>N</td>
<td>0ç»´å¼ é‡ã€æ•°å€¼</td>
<td>å‡å€¼</td>
</tr>
<tr>
<td>stddev</td>
<td>N</td>
<td>0ç»´å¼ é‡ã€æ•°å€¼</td>
<td>æ ‡å‡†å·®</td>
</tr>
<tr>
<td>dtype</td>
<td>N</td>
<td>dtype</td>
<td>è¾“å‡ºç±»å‹</td>
</tr>
<tr>
<td>seed</td>
<td>N</td>
<td>æ•°å€¼</td>
<td>éšæœºç§å­ï¼Œè‹¥seedå¤åˆ¶ï¼Œæ¯æ¬¡äº§ç”Ÿç›¸åŒéšæœºæ•°</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-8"><a href="#Demo-8" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: truncated_nomal.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 09:52</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">initial = tf.truncated_normal(shape=[<span class="number">3</span>,<span class="number">3</span>], mean=<span class="number">0</span>, stddev=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span> (tf.Session().run(initial))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># [[-0.49039015  0.67874366  1.00580561]</span></span><br><span class="line"><span class="comment">#  [ 0.97545707  0.15845388 -0.73228759]</span></span><br><span class="line"><span class="comment">#  [-0.60446167 -0.87802863  0.24452373]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-reduce-mean"><a href="#tf-reduce-mean" class="headerlink" title="tf.reduce_mean"></a>tf.reduce_mean</h2><p><strong>è®¡ç®—å¼ é‡input_tensorçš„å¹³å‡å€¼</strong></p>
<h3 id="Define-8"><a href="#Define-8" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">reduce_mean(input_tensor, axis=<span class="literal">None</span>, keep_dims=<span class="literal">False</span>, name=<span class="literal">None</span>, reduction_indices=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-9"><a href="#Parameter-9" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>input_tensor</td>
<td>Y</td>
<td>å¼ é‡</td>
<td>å¾…æ±‚å¹³å‡å€¼çš„å¼ é‡</td>
</tr>
<tr>
<td>axis</td>
<td>N</td>
<td>Noneã€0ã€1</td>
<td>Noneï¼šå…¨å±€çƒå¹³å‡å€¼<br />0ï¼šæ±‚æ¯ä¸€åˆ—å¹³å‡å€¼<br />1ï¼šæ±‚æ¯ä¸€è¡Œå¹³å‡å€¼</td>
</tr>
<tr>
<td>keep_dims</td>
<td>N</td>
<td>boolean</td>
<td>ä¿ç•™åŸæ¥çš„ç»´åº¦ï¼ˆä¾‹å¦‚ä¸ä¼šä»äºŒç»´çŸ©é˜µé™ä¸ºä¸€ç»´ï¼‰</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
<tr>
<td>reduction_indices</td>
<td>N</td>
<td>None</td>
<td>å’Œaxisç­‰ä»·ï¼Œå·²å¼ƒç”¨</td>
</tr>
</tbody></table>
<h3 id="Demo-9"><a href="#Demo-9" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: reduce_mean.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 13:46</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">initial = [[<span class="number">1.</span>,<span class="number">1.</span>],[<span class="number">2.</span>,<span class="number">2.</span>]]</span><br><span class="line">x = tf.Variable(initial, dtype=tf.float32)</span><br><span class="line">init_op = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init_op)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(tf.reduce_mean(x)))</span><br><span class="line">    <span class="built_in">print</span> (sess.run(tf.reduce_mean(x, <span class="number">0</span>)))  <span class="comment">#column</span></span><br><span class="line">    <span class="built_in">print</span> (sess.run(tf.reduce_mean(x, <span class="number">1</span>)))  <span class="comment">#row</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># 1.5</span></span><br><span class="line"><span class="comment"># [ 1.5  1.5]</span></span><br><span class="line"><span class="comment"># [ 1.  2.]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-square"><a href="#tf-square" class="headerlink" title="tf.square"></a>tf.square</h2><p><strong>è®¡ç®—å¼ é‡å¯¹åº”å…ƒç´ çš„å¹³æ–¹</strong></p>
<h3 id="Define-9"><a href="#Define-9" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">square(x, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-10"><a href="#Parameter-10" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>Y</td>
<td>tensor</td>
<td>halfã€float32ã€float64ã€int32ã€int64ã€complex64ã€complex128</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-10"><a href="#Demo-10" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: square.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 13:59</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">initial_x = [[<span class="number">1.</span>,<span class="number">1.</span>], [<span class="number">2.</span>,<span class="number">2.</span>]]</span><br><span class="line">x = tf.Variable(initial_x, dtype=tf.float32)</span><br><span class="line">x_2 = tf.square(initial_x)</span><br><span class="line"></span><br><span class="line">init_op = tf.global_variables_initializer()</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init_op)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(x_2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># [[ 1.  1.]</span></span><br><span class="line"><span class="comment">#  [ 4.  4.]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-squared-difference"><a href="#tf-squared-difference" class="headerlink" title="tf.squared_difference"></a>tf.squared_difference</h2><p><strong>è®¡ç®—å¼ é‡xã€yå¯¹åº”å…ƒç´ å·®å¹³æ–¹</strong></p>
<h3 id="Define-10"><a href="#Define-10" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">squared_difference(x, y, name=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-11"><a href="#Parameter-11" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>å¿…é€‰</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>Y</td>
<td>tensor</td>
<td>halfã€float32ã€float64ã€int32ã€int64ã€complex64ã€complex128</td>
</tr>
<tr>
<td>y</td>
<td>Y</td>
<td>tensor</td>
<td>halfã€float32ã€float64ã€int32ã€int64ã€complex64ã€complex128</td>
</tr>
<tr>
<td>name</td>
<td>N</td>
<td>string</td>
<td>è¿ç®—åç§°</td>
</tr>
</tbody></table>
<h3 id="Demo-11"><a href="#Demo-11" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: squared_difference.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 13:54</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">initial_x = [[<span class="number">1.</span>,<span class="number">1.</span>], [<span class="number">2.</span>,<span class="number">2.</span>]]</span><br><span class="line">x = tf.Variable(initial_x, dtype=tf.float32)</span><br><span class="line">initial_y = [[<span class="number">3.</span>,<span class="number">3.</span>], [<span class="number">4.</span>,<span class="number">4.</span>]]</span><br><span class="line">y = tf.Variable(initial_y, dtype=tf.float32)</span><br><span class="line"></span><br><span class="line">diff = tf.squared_difference(x, y)</span><br><span class="line">init_op = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init_op)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(diff))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—åç§°</span></span><br><span class="line"><span class="comment"># [[ 4.  4.]</span></span><br><span class="line"><span class="comment">#  [ 4.  4.]]</span></span><br></pre></td></tr></table></figure>

<h2 id="tf-Variable"><a href="#tf-Variable" class="headerlink" title="tf.Variable"></a>tf.Variable</h2><p><strong>ç±»ï¼Œç»´æŠ¤å›¾åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„çŠ¶æ€ä¿¡æ¯ï¼Œä¾‹å¦‚ç¥ç»ç½‘ç»œæƒé‡å€¼çš„å˜åŒ–</strong></p>
<h3 id="Define-11"><a href="#Define-11" class="headerlink" title="Define"></a>Define</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__init__(initial_value=<span class="literal">None</span>, trainable=<span class="literal">True</span>, collections=<span class="literal">None</span>, validate_shape=<span class="literal">True</span>,</span><br><span class="line">		caching_device=<span class="literal">None</span>, name=<span class="literal">None</span>, variable_def=<span class="literal">None</span>, dtype=<span class="literal">None</span>, expected_shape=<span class="literal">None</span>,</span><br><span class="line">		import_scope=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Parameter-12"><a href="#Parameter-12" class="headerlink" title="Parameter"></a>Parameter</h3><table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>initial_value</td>
<td>tensor</td>
<td>Variableç±»çš„åˆå§‹å€¼ã€‚è¿™ä¸ªå¼ é‡å¿…é¡»åˆ¶å®šshapeä¿¡æ¯ï¼Œå¦åˆ™åé¢validate_shapeéœ€è®¾ä¸ºFalse</td>
</tr>
<tr>
<td>trainable</td>
<td>boolean</td>
<td>æ˜¯å¦æŠŠå˜é‡æ·»åŠ åˆ° GraphKeys.TRAINABLE_VARIABLESä¸­ã€‚<br />ï¼ˆ collection æ˜¯ä¸€ç§å…¨å±€å­˜å‚¨ï¼Œä¸å—å˜é‡åç”Ÿå­˜ç©ºé—´å½±å“ï¼Œä¸€å¤„ä¿å­˜ï¼Œåˆ°å¤„å¯å–ï¼‰</td>
</tr>
<tr>
<td>collections</td>
<td>Graph collections</td>
<td>å…¨å±€å­˜å‚¨ï¼Œé»˜è®¤æ˜¯ GraphKeys.GLOBAL_VARIABLES</td>
</tr>
<tr>
<td>validate_shape</td>
<td>boolean</td>
<td>æ˜¯å¦å…è®¸è¢«ä½ç½®ç»´åº¦çš„initial_valueåˆå§‹åŒ–</td>
</tr>
<tr>
<td>caching_device</td>
<td>string</td>
<td>æŒ‡æ˜å“ªä¸ªdeviceç”¨æ¥ç¼“å­˜å˜é‡</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>å˜é‡å</td>
</tr>
<tr>
<td>dtype</td>
<td>dtype</td>
<td>å¦‚æœè®¾ç½®ï¼Œåˆå§‹åŒ–çš„å€¼æŒ‰ç…§è¯¥ç±»å‹åˆå§‹åŒ–</td>
</tr>
<tr>
<td>expected_shape</td>
<td>tensorShape</td>
<td>è¦æ˜¯è®¾ç½®äº†ï¼Œé‚£ä¹ˆåˆå§‹çš„å€¼ä¼šæ˜¯è¿™ç§ç»´åº¦</td>
</tr>
</tbody></table>
<h3 id="Demo-12"><a href="#Demo-12" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@version: ??</span></span><br><span class="line"><span class="string">@author: Gavin</span></span><br><span class="line"><span class="string">@license: Apache Licence </span></span><br><span class="line"><span class="string">@contact: woniuyf@gmail.com</span></span><br><span class="line"><span class="string">@site: https://wonius.top/</span></span><br><span class="line"><span class="string">@software: PyCharm</span></span><br><span class="line"><span class="string">@file: Variable.py</span></span><br><span class="line"><span class="string">@time: 2018/5/11 14:46</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">initial = tf.truncated_normal(shape=[<span class="number">10</span>, <span class="number">10</span>], mean=<span class="number">0</span>, stddev=<span class="number">1</span>)</span><br><span class="line">W = tf.Variable(initial)</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span> = [[<span class="number">1.</span>,<span class="number">1.</span>], [<span class="number">2.</span>,<span class="number">2.</span>]]</span><br><span class="line">X = tf.Variable(<span class="built_in">list</span>, dtype=tf.float32)</span><br><span class="line"></span><br><span class="line">init_op = tf.global_variables_initializer()</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init_op)</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;------------------------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(W))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;------------------------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(W[:<span class="number">2</span>,:<span class="number">2</span>]))</span><br><span class="line">    op = W[:<span class="number">2</span>,:<span class="number">2</span>].assign(<span class="number">22.</span>*tf.ones((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;------------------------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(op))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;------------------------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (W.<span class="built_in">eval</span>(sess)) <span class="comment"># computes and returns the value of this variable</span></span><br><span class="line">    <span class="built_in">print</span> (W.<span class="built_in">eval</span>())    <span class="comment"># user with the default session</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;------------------------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (W.dtype)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(W.initial_value))</span><br><span class="line">    <span class="built_in">print</span> (sess.run(W.op))</span><br><span class="line">    <span class="built_in">print</span> (W.shape)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;------------------------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> (sess.run(X))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç»“æœ</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># [[ -1.36460924e+00  -8.78410161e-01   1.87626636e+00   1.27253577e-01</span></span><br><span class="line"><span class="comment">#     1.77748889e-01  -2.79777735e-01  -1.29324961e+00   1.18464601e+00</span></span><br><span class="line"><span class="comment">#     5.91014000e-03   3.91639054e-01]</span></span><br><span class="line"><span class="comment">#  [  1.09924674e+00  -1.08868659e+00  -1.12289786e+00  -6.78496242e-01</span></span><br><span class="line"><span class="comment">#     4.25694019e-01   1.06920172e-02   8.05350840e-01  -7.63205171e-01</span></span><br><span class="line"><span class="comment">#     3.23375136e-01   4.49576497e-01]</span></span><br><span class="line"><span class="comment">#  [ -1.05841234e-01  -2.85442650e-01   1.01552248e+00  -1.69130695e+00</span></span><br><span class="line"><span class="comment">#    -1.15725782e-03   1.47837210e+00   6.69513494e-02   4.84152675e-01</span></span><br><span class="line"><span class="comment">#    -3.82478178e-01  -1.20722222e+00]</span></span><br><span class="line"><span class="comment">#  [  3.09620090e-02  -7.98057988e-02   5.60789108e-01  -1.78828037e+00</span></span><br><span class="line"><span class="comment">#     1.95968688e-01  -2.27404922e-01  -1.72476351e+00  -1.23355138e+00</span></span><br><span class="line"><span class="comment">#    -9.63081241e-01  -1.60457373e+00]</span></span><br><span class="line"><span class="comment">#  [  3.23699638e-02  -5.90677261e-01  -1.92470342e-01  -4.10615206e-01</span></span><br><span class="line"><span class="comment">#     3.35628651e-02  -1.41288012e-01  -3.40104014e-01   1.13289797e+00</span></span><br><span class="line"><span class="comment">#     6.52421772e-01   9.17639136e-01]</span></span><br><span class="line"><span class="comment">#  [  5.11528432e-01   1.64260656e-01  -7.84879684e-01  -2.26418376e-01</span></span><br><span class="line"><span class="comment">#    -8.90385628e-01  -3.38358462e-01   1.96581781e+00  -7.17314780e-02</span></span><br><span class="line"><span class="comment">#     1.23814851e-01   7.64766455e-01]</span></span><br><span class="line"><span class="comment">#  [  2.22003132e-01  -1.70102561e+00  -1.60155982e-01   1.10927892e+00</span></span><br><span class="line"><span class="comment">#    -1.14349496e+00  -6.86953589e-02  -3.56495827e-01  -5.14335275e-01</span></span><br><span class="line"><span class="comment">#     1.98457405e-01  -2.56361932e-01]</span></span><br><span class="line"><span class="comment">#  [ -6.98417068e-01  -1.91254735e-01   2.43045017e-01   1.62485635e+00</span></span><br><span class="line"><span class="comment">#     1.34399071e-01   4.48576242e-01   9.65317804e-03   2.63324082e-01</span></span><br><span class="line"><span class="comment">#     1.71964037e+00   1.81242809e-01]</span></span><br><span class="line"><span class="comment">#  [ -3.06579232e-01   6.82186067e-01  -1.34259194e-01   8.21067274e-01</span></span><br><span class="line"><span class="comment">#     2.75264233e-01   2.36507237e-01  -5.18465579e-01   2.66540438e-01</span></span><br><span class="line"><span class="comment">#    -4.08049405e-01   4.00008321e-01]</span></span><br><span class="line"><span class="comment">#  [  6.39303386e-01  -3.73077720e-01  -3.93441260e-01   1.44391823e+00</span></span><br><span class="line"><span class="comment">#    -4.43163812e-01  -2.28796184e-01  -9.21004534e-01  -6.29425883e-01</span></span><br><span class="line"><span class="comment">#    -1.04850844e-01   5.76163709e-01]]</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># [[-1.36460924 -0.87841016]</span></span><br><span class="line"><span class="comment">#  [ 1.09924674 -1.08868659]]</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># [[  2.20000000e+01   2.20000000e+01   1.87626636e+00   1.27253577e-01</span></span><br><span class="line"><span class="comment">#     1.77748889e-01  -2.79777735e-01  -1.29324961e+00   1.18464601e+00</span></span><br><span class="line"><span class="comment">#     5.91014000e-03   3.91639054e-01]</span></span><br><span class="line"><span class="comment">#  [  2.20000000e+01   2.20000000e+01  -1.12289786e+00  -6.78496242e-01</span></span><br><span class="line"><span class="comment">#     4.25694019e-01   1.06920172e-02   8.05350840e-01  -7.63205171e-01</span></span><br><span class="line"><span class="comment">#     3.23375136e-01   4.49576497e-01]</span></span><br><span class="line"><span class="comment">#  [ -1.05841234e-01  -2.85442650e-01   1.01552248e+00  -1.69130695e+00</span></span><br><span class="line"><span class="comment">#    -1.15725782e-03   1.47837210e+00   6.69513494e-02   4.84152675e-01</span></span><br><span class="line"><span class="comment">#    -3.82478178e-01  -1.20722222e+00]</span></span><br><span class="line"><span class="comment">#  [  3.09620090e-02  -7.98057988e-02   5.60789108e-01  -1.78828037e+00</span></span><br><span class="line"><span class="comment">#     1.95968688e-01  -2.27404922e-01  -1.72476351e+00  -1.23355138e+00</span></span><br><span class="line"><span class="comment">#    -9.63081241e-01  -1.60457373e+00]</span></span><br><span class="line"><span class="comment">#  [  3.23699638e-02  -5.90677261e-01  -1.92470342e-01  -4.10615206e-01</span></span><br><span class="line"><span class="comment">#     3.35628651e-02  -1.41288012e-01  -3.40104014e-01   1.13289797e+00</span></span><br><span class="line"><span class="comment">#     6.52421772e-01   9.17639136e-01]</span></span><br><span class="line"><span class="comment">#  [  5.11528432e-01   1.64260656e-01  -7.84879684e-01  -2.26418376e-01</span></span><br><span class="line"><span class="comment">#    -8.90385628e-01  -3.38358462e-01   1.96581781e+00  -7.17314780e-02</span></span><br><span class="line"><span class="comment">#     1.23814851e-01   7.64766455e-01]</span></span><br><span class="line"><span class="comment">#  [  2.22003132e-01  -1.70102561e+00  -1.60155982e-01   1.10927892e+00</span></span><br><span class="line"><span class="comment">#    -1.14349496e+00  -6.86953589e-02  -3.56495827e-01  -5.14335275e-01</span></span><br><span class="line"><span class="comment">#     1.98457405e-01  -2.56361932e-01]</span></span><br><span class="line"><span class="comment">#  [ -6.98417068e-01  -1.91254735e-01   2.43045017e-01   1.62485635e+00</span></span><br><span class="line"><span class="comment">#     1.34399071e-01   4.48576242e-01   9.65317804e-03   2.63324082e-01</span></span><br><span class="line"><span class="comment">#     1.71964037e+00   1.81242809e-01]</span></span><br><span class="line"><span class="comment">#  [ -3.06579232e-01   6.82186067e-01  -1.34259194e-01   8.21067274e-01</span></span><br><span class="line"><span class="comment">#     2.75264233e-01   2.36507237e-01  -5.18465579e-01   2.66540438e-01</span></span><br><span class="line"><span class="comment">#    -4.08049405e-01   4.00008321e-01]</span></span><br><span class="line"><span class="comment">#  [  6.39303386e-01  -3.73077720e-01  -3.93441260e-01   1.44391823e+00</span></span><br><span class="line"><span class="comment">#    -4.43163812e-01  -2.28796184e-01  -9.21004534e-01  -6.29425883e-01</span></span><br><span class="line"><span class="comment">#    -1.04850844e-01   5.76163709e-01]]</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># [[  2.20000000e+01   2.20000000e+01   1.87626636e+00   1.27253577e-01</span></span><br><span class="line"><span class="comment">#     1.77748889e-01  -2.79777735e-01  -1.29324961e+00   1.18464601e+00</span></span><br><span class="line"><span class="comment">#     5.91014000e-03   3.91639054e-01]</span></span><br><span class="line"><span class="comment">#  [  2.20000000e+01   2.20000000e+01  -1.12289786e+00  -6.78496242e-01</span></span><br><span class="line"><span class="comment">#     4.25694019e-01   1.06920172e-02   8.05350840e-01  -7.63205171e-01</span></span><br><span class="line"><span class="comment">#     3.23375136e-01   4.49576497e-01]</span></span><br><span class="line"><span class="comment">#  [ -1.05841234e-01  -2.85442650e-01   1.01552248e+00  -1.69130695e+00</span></span><br><span class="line"><span class="comment">#    -1.15725782e-03   1.47837210e+00   6.69513494e-02   4.84152675e-01</span></span><br><span class="line"><span class="comment">#    -3.82478178e-01  -1.20722222e+00]</span></span><br><span class="line"><span class="comment">#  [  3.09620090e-02  -7.98057988e-02   5.60789108e-01  -1.78828037e+00</span></span><br><span class="line"><span class="comment">#     1.95968688e-01  -2.27404922e-01  -1.72476351e+00  -1.23355138e+00</span></span><br><span class="line"><span class="comment">#    -9.63081241e-01  -1.60457373e+00]</span></span><br><span class="line"><span class="comment">#  [  3.23699638e-02  -5.90677261e-01  -1.92470342e-01  -4.10615206e-01</span></span><br><span class="line"><span class="comment">#     3.35628651e-02  -1.41288012e-01  -3.40104014e-01   1.13289797e+00</span></span><br><span class="line"><span class="comment">#     6.52421772e-01   9.17639136e-01]</span></span><br><span class="line"><span class="comment">#  [  5.11528432e-01   1.64260656e-01  -7.84879684e-01  -2.26418376e-01</span></span><br><span class="line"><span class="comment">#    -8.90385628e-01  -3.38358462e-01   1.96581781e+00  -7.17314780e-02</span></span><br><span class="line"><span class="comment">#     1.23814851e-01   7.64766455e-01]</span></span><br><span class="line"><span class="comment">#  [  2.22003132e-01  -1.70102561e+00  -1.60155982e-01   1.10927892e+00</span></span><br><span class="line"><span class="comment">#    -1.14349496e+00  -6.86953589e-02  -3.56495827e-01  -5.14335275e-01</span></span><br><span class="line"><span class="comment">#     1.98457405e-01  -2.56361932e-01]</span></span><br><span class="line"><span class="comment">#  [ -6.98417068e-01  -1.91254735e-01   2.43045017e-01   1.62485635e+00</span></span><br><span class="line"><span class="comment">#     1.34399071e-01   4.48576242e-01   9.65317804e-03   2.63324082e-01</span></span><br><span class="line"><span class="comment">#     1.71964037e+00   1.81242809e-01]</span></span><br><span class="line"><span class="comment">#  [ -3.06579232e-01   6.82186067e-01  -1.34259194e-01   8.21067274e-01</span></span><br><span class="line"><span class="comment">#     2.75264233e-01   2.36507237e-01  -5.18465579e-01   2.66540438e-01</span></span><br><span class="line"><span class="comment">#    -4.08049405e-01   4.00008321e-01]</span></span><br><span class="line"><span class="comment">#  [  6.39303386e-01  -3.73077720e-01  -3.93441260e-01   1.44391823e+00</span></span><br><span class="line"><span class="comment">#    -4.43163812e-01  -2.28796184e-01  -9.21004534e-01  -6.29425883e-01</span></span><br><span class="line"><span class="comment">#    -1.04850844e-01   5.76163709e-01]]</span></span><br><span class="line"><span class="comment"># [[  2.20000000e+01   2.20000000e+01   1.87626636e+00   1.27253577e-01</span></span><br><span class="line"><span class="comment">#     1.77748889e-01  -2.79777735e-01  -1.29324961e+00   1.18464601e+00</span></span><br><span class="line"><span class="comment">#     5.91014000e-03   3.91639054e-01]</span></span><br><span class="line"><span class="comment">#  [  2.20000000e+01   2.20000000e+01  -1.12289786e+00  -6.78496242e-01</span></span><br><span class="line"><span class="comment">#     4.25694019e-01   1.06920172e-02   8.05350840e-01  -7.63205171e-01</span></span><br><span class="line"><span class="comment">#     3.23375136e-01   4.49576497e-01]</span></span><br><span class="line"><span class="comment">#  [ -1.05841234e-01  -2.85442650e-01   1.01552248e+00  -1.69130695e+00</span></span><br><span class="line"><span class="comment">#    -1.15725782e-03   1.47837210e+00   6.69513494e-02   4.84152675e-01</span></span><br><span class="line"><span class="comment">#    -3.82478178e-01  -1.20722222e+00]</span></span><br><span class="line"><span class="comment">#  [  3.09620090e-02  -7.98057988e-02   5.60789108e-01  -1.78828037e+00</span></span><br><span class="line"><span class="comment">#     1.95968688e-01  -2.27404922e-01  -1.72476351e+00  -1.23355138e+00</span></span><br><span class="line"><span class="comment">#    -9.63081241e-01  -1.60457373e+00]</span></span><br><span class="line"><span class="comment">#  [  3.23699638e-02  -5.90677261e-01  -1.92470342e-01  -4.10615206e-01</span></span><br><span class="line"><span class="comment">#     3.35628651e-02  -1.41288012e-01  -3.40104014e-01   1.13289797e+00</span></span><br><span class="line"><span class="comment">#     6.52421772e-01   9.17639136e-01]</span></span><br><span class="line"><span class="comment">#  [  5.11528432e-01   1.64260656e-01  -7.84879684e-01  -2.26418376e-01</span></span><br><span class="line"><span class="comment">#    -8.90385628e-01  -3.38358462e-01   1.96581781e+00  -7.17314780e-02</span></span><br><span class="line"><span class="comment">#     1.23814851e-01   7.64766455e-01]</span></span><br><span class="line"><span class="comment">#  [  2.22003132e-01  -1.70102561e+00  -1.60155982e-01   1.10927892e+00</span></span><br><span class="line"><span class="comment">#    -1.14349496e+00  -6.86953589e-02  -3.56495827e-01  -5.14335275e-01</span></span><br><span class="line"><span class="comment">#     1.98457405e-01  -2.56361932e-01]</span></span><br><span class="line"><span class="comment">#  [ -6.98417068e-01  -1.91254735e-01   2.43045017e-01   1.62485635e+00</span></span><br><span class="line"><span class="comment">#     1.34399071e-01   4.48576242e-01   9.65317804e-03   2.63324082e-01</span></span><br><span class="line"><span class="comment">#     1.71964037e+00   1.81242809e-01]</span></span><br><span class="line"><span class="comment">#  [ -3.06579232e-01   6.82186067e-01  -1.34259194e-01   8.21067274e-01</span></span><br><span class="line"><span class="comment">#     2.75264233e-01   2.36507237e-01  -5.18465579e-01   2.66540438e-01</span></span><br><span class="line"><span class="comment">#    -4.08049405e-01   4.00008321e-01]</span></span><br><span class="line"><span class="comment">#  [  6.39303386e-01  -3.73077720e-01  -3.93441260e-01   1.44391823e+00</span></span><br><span class="line"><span class="comment">#    -4.43163812e-01  -2.28796184e-01  -9.21004534e-01  -6.29425883e-01</span></span><br><span class="line"><span class="comment">#    -1.04850844e-01   5.76163709e-01]]</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># &lt;dtype: &#x27;float32_ref&#x27;&gt;</span></span><br><span class="line"><span class="comment"># [[-1.26520741  0.15191878 -0.20875564 -1.3333143  -1.2195878   1.98078632</span></span><br><span class="line"><span class="comment">#   -0.37404546 -0.08800519  1.59779143  0.43416482]</span></span><br><span class="line"><span class="comment">#  [-0.49763143  1.67703199 -0.75461388  1.39778709 -0.59904957  1.07046878</span></span><br><span class="line"><span class="comment">#   -0.66246015  1.20341682 -0.91598368  0.02659398]</span></span><br><span class="line"><span class="comment">#  [ 0.15760519  1.58692122 -1.64905691 -0.82413578 -1.35249043 -0.05494672</span></span><br><span class="line"><span class="comment">#    0.1835352  -1.16055572  0.06633712 -0.60654968]</span></span><br><span class="line"><span class="comment">#  [ 0.44664332  1.32015193  1.19064319  1.04832637 -1.35440087  1.46269107</span></span><br><span class="line"><span class="comment">#   -0.73073471  1.79925811 -0.81201482 -0.52865958]</span></span><br><span class="line"><span class="comment">#  [ 0.86693144  0.58485049  0.74763191  0.16709246  0.87199962 -0.01152798</span></span><br><span class="line"><span class="comment">#   -0.45584357  1.63553476 -0.97385317  0.22666731]</span></span><br><span class="line"><span class="comment">#  [ 0.88356006  0.02941392  0.48637423  0.6196385   0.72364163  0.73068076</span></span><br><span class="line"><span class="comment">#    0.24449067 -1.82126474  0.43334225 -0.57979202]</span></span><br><span class="line"><span class="comment">#  [ 0.90533078 -0.46376067  1.15587556 -0.83500886  0.61234719  0.32427955</span></span><br><span class="line"><span class="comment">#    1.49570584 -0.48938131 -1.18225038  0.19612415]</span></span><br><span class="line"><span class="comment">#  [ 0.66482532  1.62603843  0.83715767  0.93517244 -1.04942799  1.2456522</span></span><br><span class="line"><span class="comment">#    1.45724511  0.82795757 -0.39859715 -1.37503803]</span></span><br><span class="line"><span class="comment">#  [ 0.84474677 -0.97584003 -0.23359941  0.02022619  0.15871523  0.07553232</span></span><br><span class="line"><span class="comment">#   -0.58795238 -1.66832328 -1.08443391 -0.25014412]</span></span><br><span class="line"><span class="comment">#  [ 0.00373921  0.82514638 -0.06235779  0.58550674 -0.90887821 -0.91024882</span></span><br><span class="line"><span class="comment">#    0.57362115 -1.92959452  1.00629067 -0.69716936]]</span></span><br><span class="line"><span class="comment"># None</span></span><br><span class="line"><span class="comment"># (10, 10)</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># [[ 1.  1.]</span></span><br><span class="line"><span class="comment">#  [ 2.  2.]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>TensorFlow</category>
      </categories>
      <tags>
        <tag>TensorFlow</tag>
      </tags>
  </entry>
  <entry>
    <title>TensorFlowå››ç§Cross_Entropyç®—æ³•å®ç°ä¸åº”ç”¨</title>
    <url>/2018/05/12/TensorFlow%E5%9B%9B%E7%A7%8DCross-Entropy%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E4%B8%8E%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<p><a href="https://www.toutiao.com/i6360438523132117505/">åŸæ–‡</a></p>
]]></content>
      <categories>
        <category>TensorFlow</category>
      </categories>
      <tags>
        <tag>TensorFlow</tag>
      </tags>
  </entry>
  <entry>
    <title>Vimiumå¿«æ·é”®</title>
    <url>/2018/05/03/Vimium%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    <content><![CDATA[<h2 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">å‘ä¸‹<span class="regexp">/ä¸Š/</span>å·¦<span class="regexp">/å³ç§»åŠ¨  j/</span>k<span class="regexp">/h/</span>l</span><br><span class="line">å‘ä¸‹<span class="regexp">/ä¸Šè·³åŠ¨  d/u</span></span><br><span class="line">å›åˆ°é¡¶<span class="regexp">/å°¾éƒ¨  gg/</span>G</span><br><span class="line">çª—å£æ‰“å¼€æ¨¡å¼ æœ¬çª—å£<span class="regexp">/æ–°çª—å£ f/</span>F</span><br><span class="line">æŸ¥æ‰¾å†å²è®°å½•+ä¹¦ç­¾   o/O</span><br><span class="line">å…³é—­<span class="regexp">/æ¢å¤æ ‡ç­¾ x/</span>X</span><br><span class="line">æŸ¥æ‰¾ä¹¦ç­¾  b<span class="regexp">/Bï¼ˆå½“å‰/</span>æ–°çª—å£æ‰“å¼€ï¼‰</span><br><span class="line">é€‰æ‹©å·¦<span class="regexp">/å³æ ‡ç­¾ J/</span>K</span><br><span class="line">æœç´¢å‰ªè´´æ¿å…³é”®å­— åœ¨å½“å‰<span class="regexp">/æ–°çª—å£  p/</span>P</span><br><span class="line">è·³è½¬åˆ°å½“å‰urlä¸Šä¸€çº§<span class="regexp">/æœ€é«˜çº§ gu/g</span>U</span><br><span class="line">åˆ›å»º<span class="regexp">/æŸ¥çœ‹æ ‡ç­¾é¡µ  t/</span>T</span><br><span class="line">å°†ç„¦ç‚¹èšé›†åœ¨ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†  gi  (<span class="number">2</span>giå°±æ˜¯ç¬¬äºŒä¸ªè¾“å…¥æ¡†)</span><br><span class="line">åˆ·æ–° r</span><br><span class="line">æ–°æ ‡ç­¾ä¸­æ‰“å¼€å¤šä¸ªé“¾æ¥   &lt;a-f&gt; å³ï¼šalt+f</span><br><span class="line">å¼€/å…³é™éŸ³  &lt;a-m&gt;å³ï¼šalt+m</span><br><span class="line">å›ºå®šæ ‡ç­¾æ  &lt;a-p&gt;å³ alt+p</span><br><span class="line">ä¸Šä¸€ä¸ªæ ‡ç­¾  ^</span><br></pre></td></tr></table></figure>

<h2 id="ä¸å¸¸ç”¨å¿«æ·é”®"><a href="#ä¸å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="ä¸å¸¸ç”¨å¿«æ·é”®"></a>ä¸å¸¸ç”¨å¿«æ·é”®</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">æŸ¥æ‰¾ï¼ˆä¸æ”¯æŒä¸­æ–‡ï¼‰  /</span><br><span class="line">    å‘ä¸‹<span class="regexp">/ä¸ŠæŸ¥æ‰¾ç»“æœ  n/</span>N  (å›è½¦åç›´æ¥æ‰“å¼€é“¾æ¥ï¼Œä¸ç”¨å†ä½¿ç”¨f/Få®šä½)</span><br><span class="line">å¤åˆ¶å½“å‰é“¾æ¥ yy</span><br><span class="line">æ–°æ¨¡å¼ i</span><br><span class="line">æŸ¥çœ‹æºç  gs</span><br><span class="line">æŸ¥çœ‹æ‰€ä»¥å¿«æ·é”® ?</span><br><span class="line">ç¼–è¾‘å½“å‰åœ°å€æ  g+e<span class="regexp">/E   å¹¶åœ¨å½“å‰/</span>æ–°çª—å£ä¸­æ‰“å¼€</span><br><span class="line">å¤åˆ¶å½“å‰æ ‡ç­¾é¡µ  yt</span><br><span class="line">ç§»åŠ¨å½“å‰æ ‡ç­¾åˆ°å·¦<span class="regexp">/å³ä¾§è¾¹  &lt;&lt;/</span>&gt;&gt;</span><br><span class="line">æ»šåŠ¨åˆ°é¡µé¢æœ€å·¦<span class="regexp">/å³è¾¹ï¼ˆåœ¨æœ‰æ»šåŠ¨æ¡ä¸‹æ‰æœ‰æ•ˆæœï¼‰ zH/</span>zL</span><br><span class="line">æ’å…¥æ¨¡å¼  iï¼ˆå¯ä»¥å±è”½æ‰vimiumå¿«æ·é”®ï¼Œä½¿å…¶ä¸å’Œç½‘é¡µé»˜è®¤å¿«æ·é”®å†²çªï¼‰</span><br><span class="line">å°†æ ‡ç­¾é¡µç§»åŠ¨åˆ°æ–°çª—å£  W</span><br><span class="line">åˆ›å»ºæ–°æ ‡è®°ï¼ˆå¯åˆ›å»ºå¤šä¸ª   m ä½¿ç”¨æ–¹æ³•</span><br><span class="line">      è®¾ç½®å½“å‰<span class="regexp">/å…¨å±€æ»šåŠ¨æ¡ä½ç½®   m+å°/</span>å¤§å†™å­—æ¯</span><br><span class="line">      è·³è½¬åˆ°è®¾ç½®çš„æ»šåŠ¨ä½ç½®   ~+å­—æ¯</span><br><span class="line">åˆ‡æ¢åˆ°å¤åˆ¶æ¨¡å¼ v</span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–æŠ€å·§"><a href="#å…¶ä»–æŠ€å·§" class="headerlink" title="å…¶ä»–æŠ€å·§"></a>å…¶ä»–æŠ€å·§</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">ä½œè€…ï¼šå°ä½</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="regexp">//</span>www.zhihu.com<span class="regexp">/question/</span><span class="number">23483616</span><span class="regexp">/answer/</span><span class="number">246787555</span></span><br><span class="line">æ¥æºï¼šçŸ¥ä¹</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br><span class="line"></span><br><span class="line">ç„¦ç‚¹åˆ‡æ¢</span><br><span class="line">    ä»åœ°å€æ åˆ‡æ¢å›é¡µé¢  tag</span><br><span class="line">ç¿»é¡µ</span><br><span class="line">    ä¸‹/ä¸Šä¸€é¡µ  ]]  [[  éƒ¨åˆ†ç½‘ç«™ä¸æ”¯æŒ  å¯ä»¥ä½¿ç”¨ Shortcut Manager æ’ä»¶ä»£æ›¿</span><br><span class="line">    ä¸‹ä¸€é¡µä»£ç ï¼š</span><br><span class="line">        <span class="keyword">function</span> <span class="keyword">next</span>()&#123;</span><br><span class="line">            var a=$(<span class="string">&quot;.cur&quot;</span>).<span class="keyword">next</span>().find(<span class="string">&quot;a&quot;</span>).attr(<span class="string">&quot;href&quot;</span>);</span><br><span class="line">             window.location.assign(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">next</span>();</span><br><span class="line">    ä¸Šä¸€é¡µä»£ç ï¼š</span><br><span class="line">        <span class="keyword">function</span> after()&#123;</span><br><span class="line">            var a=$(<span class="string">&quot;.cur&quot;</span>).prev().find(<span class="string">&quot;a&quot;</span>).attr(<span class="string">&quot;href&quot;</span>);</span><br><span class="line">             window.location.assign(a);</span><br><span class="line">        &#125;</span><br><span class="line">        after();</span><br><span class="line">è‡ªå®šä¹‰æœç´¢å¼•æ“</span><br><span class="line">    è®¾ç½®ï¼š</span><br><span class="line">        è¯·æŸ¥çœ‹é€‰é¡¹ï¼šCustom search engines</span><br><span class="line">    ä½¿ç”¨ï¼š</span><br><span class="line">        æŒ‰b/Bæ‰“å¼€æœç´¢æ¡†ï¼Œè¾“å…¥æœç´¢å¼•æ“å…³é”®å­—+ç©ºæ ¼</span><br><span class="line">    æ‰©å±•ï¼š</span><br><span class="line">        è®¡ç®—åŠŸèƒ½</span><br><span class="line">            g (<span class="number">1</span>+<span class="number">2</span>)*<span class="number">3</span>-<span class="number">4</span>=     è¿›å…¥googleæœç´¢æ¨¡å¼ç›´æ¥è¾“å…¥å…¬å¼åé¢åŠ <span class="string">&quot;=&quot;</span>å·</span><br><span class="line">æ‰“å¼€chromeç³»ç»Ÿé¡µé¢</span><br><span class="line">    chromeè®¾ç½®é¡µé¢</span><br><span class="line">        about:setting</span><br><span class="line">    æ‰©å±•ç¨‹åº</span><br><span class="line">        about:extensions</span><br><span class="line">    å†å²(history)ï¼Œä¸‹è½½(downloads)ï¼Œä¹¦ç­¾(bookmarks),å»ºè®®ä½¿ç”¨chromeé»˜è®¤å¿«æ·é”®ä»£æ›¿</span><br><span class="line">        ctrl+h,ctrl+j,ctrl+shift+o</span><br><span class="line">å…³äº&lt;a-p&gt;,&lt;c-e&gt;</span><br><span class="line">    æ˜¯emacsä¸­çš„è¡¨ç¤ºæ–¹æ³•ï¼Œåˆ†åˆ«æŒ‡alt+p,ctrl+e</span><br><span class="line">å¿«é€Ÿå®šä½+å¤åˆ¶æ–‡æœ¬ï¼šalt+f,v,hjkl,yå››æ­¥æ›²</span><br><span class="line">    alt+f æœç´¢æŒ‡å®šå…³é”®å­—ï¼Œå¹¶å®šä½åˆ°èµ·å§‹ç‚¹</span><br><span class="line">    å†æŒ‰våˆ‡æ¢åˆ°å¤åˆ¶æ¨¡å¼</span><br><span class="line">    å†ä½¿ç”¨hjklæ§åˆ¶æ–¹å‘é€‰æ‹©èŒƒå›´</span><br><span class="line">    æœ€åyå¤åˆ¶</span><br><span class="line">åˆ é™¤/ä¿®æ”¹å‘½ä»¤</span><br><span class="line">    åˆ é™¤æŒ‡å®šå‘½ä»¤</span><br><span class="line">        unmap j   åˆ é™¤å‘½ä»¤j</span><br><span class="line">        unmapAll  åˆ é™¤æ‰€æœ‰å‘½ä»¤</span><br><span class="line">    ä¿®æ”¹å‘½ä»¤ï¼ˆåé¢çš„å‘½ä»¤å‚æ•°å¯ä»¥åœ¨é€‰æ‹©é‡Œé¢æ‰“å¼€ show available commandsæ‰¾åˆ°ï¼‰</span><br><span class="line">        map a LinkHints.activateMode  æŠŠaå®šä¹‰åŸæ¥fçš„åŠŸèƒ½</span><br><span class="line">        map f scrollPageDown   æŠŠfå®šä¹‰æˆåŸæ¥dçš„åŠŸèƒ½</span><br><span class="line">æœ¬åœ°æ–‡ä»¶ä¸­ä½¿ç”¨vimium</span><br><span class="line">    æ‰“å¼€chromeæ’ä»¶è®¾ç½®é¡µé¢ï¼Œå‹¾é€‰<span class="string">&quot;å…è®¸è®¿é—®æ–‡ä»¶ç½‘å€&quot;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Chrome</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>Websocket+Stomp+RabbitMQåº”ç”¨</title>
    <url>/2017/08/02/Websocket-Stomp-RabbitMQ/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>&emsp;&emsp;æœ€è¿‘å¼€å‘ä¸­é‡åˆ°å®æ—¶æ¥æ”¶å…³è”ç³»ç»Ÿä¿¡æ¯çš„åŠŸèƒ½ï¼Œå…³è”ç³»ç»Ÿé€šè¿‡RabbitMQæ¶ˆæ¯é˜Ÿåˆ—å‘å¸ƒæ¶ˆæ¯ï¼Œä¹‹å‰è¿˜åœ¨æƒ³é€šè¿‡æµè§ˆå™¨é“¾æ¥è‡ªå®¶æœåŠ¡å™¨ï¼Œç„¶åè‡ªå®¶æœåŠ¡å™¨è®¢é˜…å…³è”ç³»ç»Ÿé˜Ÿåˆ—çš„æ¶æ„ã€‚åæ¥æŸ¥äº†ä¸€ä¸‹ï¼Œä¸ç”¨è¿™ä¹ˆéº»çƒ¦ï¼Œç›´æ¥é€šè¿‡WebSocket+Stompæ–¹å¼ï¼Œå³å¯å®ç°æµè§ˆå™¨ç›´æ¥è®¢é˜…å…³è”ç³»ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>WebSocket</tag>
      </tags>
  </entry>
  <entry>
    <title>configMapçš„åº”ç”¨</title>
    <url>/2020/10/21/configMap%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    æˆ‘ä»¬ç³»ç»Ÿçš„å¾®æœåŠ¡æ˜¯é€šè¿‡K8Så®¹å™¨åŒ–éƒ¨ç½²çš„ï¼Œç”±äºæŸäº›åŸå› ï¼Œæ²¡æœ‰å¯¹æ¥é…ç½®ä¸­å¿ƒã€‚æ‰€ä»¥ä¸ºäº†å°†é…ç½®ä¸åº”ç”¨åˆ†ç¦»ï¼Œä¾¿äºåç»­ä¿®æ”¹é…ç½®ï¼Œå†³å®šä½¿ç”¨configMap+deploymentçš„æ–¹å¼ï¼Œå°†é…ç½®æ–‡ä»¶å¤–æŒ‚åˆ°åº”ç”¨ä¸Šã€‚</p>
<h1 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>â€‹    æ•´ä½“æ€è·¯æ˜¯ï¼Œåˆ›å»ºapplication.ymlé…ç½®æ–‡ä»¶ï¼Œåº”ç”¨æ‰“åŒ…æ—¶å°†è¯¥æ–‡ä»¶æ‰“åˆ°åŒ…å†…ã€‚ç„¶åå°†æ¯ä¸ªç¯å¢ƒçš„</p>
<h2 id="ä¿®æ”¹åº”ç”¨"><a href="#ä¿®æ”¹åº”ç”¨" class="headerlink" title="ä¿®æ”¹åº”ç”¨"></a>ä¿®æ”¹åº”ç”¨</h2><p>ä¿®æ”¹åº”ç”¨ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶ä¸ºapplication.yml</p>
<h2 id="åˆ›å»ºconfigMap"><a href="#åˆ›å»ºconfigMap" class="headerlink" title="åˆ›å»ºconfigMap"></a>åˆ›å»ºconfigMap</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl create cm xxx-config --from-file=ci=xxxx.yml --from-file=stg=xxx.yml --from-file=prod=xxx.yml</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹deployment"><a href="#ä¿®æ”¹deployment" class="headerlink" title="ä¿®æ”¹deployment"></a>ä¿®æ”¹deployment</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mountPath</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">cm</span></span><br><span class="line">  <span class="attr">mountPath:</span> <span class="string">/xx/xx/application.yml</span></span><br><span class="line">  <span class="attr">subbPath:</span> <span class="string">application.yml</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># volumes</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">cm</span></span><br><span class="line">  <span class="attr">configMap:</span> </span><br><span class="line">    <span class="attr">name:</span> <span class="string">xxx-config</span></span><br><span class="line">    <span class="attr">items:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">ci</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">application.yml</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œæˆåéƒ¨ç½²éªŒè¯</p>
]]></content>
      <categories>
        <category>K8S</category>
      </categories>
      <tags>
        <tag>K8S</tag>
        <tag>configMap</tag>
      </tags>
  </entry>
  <entry>
    <title>ZKé‚£ç‚¹äº‹å„¿</title>
    <url>/2020/03/25/ZK%E9%82%A3%E7%82%B9%E4%BA%8B%E5%84%BF/</url>
    <content><![CDATA[<h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ol>
<li>åº”ç”¨åœºæ™¯ï¼šé›†ç¾¤ç®¡ç†ã€æ³¨å†Œå‘ç°ä¸­å¿ƒã€åˆ†å¸ƒå¼é”ï¼›</li>
<li>é›†ç¾¤ä¸ºå•æ•°ï¼Œæ˜¯ä¸ºäº†çœèµ„æºï¼›</li>
<li>æœ€å°é›†ç¾¤å®ä¾‹æ•°ä¸º3å°ã€‚å¦‚æœåªæœ‰2å°ï¼Œä¸€å°éƒ½ä¸èƒ½æŒ‚ï¼Œè·Ÿå•ç‚¹æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</li>
<li>åŠ å…¥æ–°èŠ‚ç‚¹éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„zoo.cfgï¼›</li>
<li>ä¿®æ”¹å®Œåå¦‚æœç”Ÿæ•ˆéœ€è¦é‡å¯ã€‚æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š1. åŒæ—¶é‡å¯ï¼›2.     æŒ‰ç‰¹å®šé¡ºåºé‡å¯ï¼›</li>
<li>å¦‚æœå…ˆé‡å¯leaderï¼Œä¼šé€ æˆè„‘è£‚ï¼›</li>
<li>Port1ï¼šéé€‰ä¸¾é€šè®¯ç«¯å£ï¼›port2ï¼šé€‰ä¸¾é€šè®¯ç«¯å£ï¼›</li>
<li>é€‰ä¸¾è§„åˆ™ï¼šå…ˆçœ‹äº‹åŠ¡idï¼Œç›¸åŒï¼Œåœ¨çœ‹server.idï¼›é€‰ç¥¨ï¼ˆäº‹åŠ¡idï¼Œserver.idï¼‰ï¼›</li>
<li>é›†ç¾¤è¶Šå¤§ï¼ŒèŠ‚ç‚¹è¶Šå¤šï¼Œé’ˆå¯¹æ¯ä¸ªèŠ‚ç‚¹çš„é€šè®¯æ¶ˆè€—è¶Šå¤§ï¼Œsocketçº¿ç¨‹è¶Šå¤šï¼›</li>
<li>æ¯å°å®ä¾‹ä¸€ä¸ªZnodeï¼Œå®¹é‡1Mï¼Œæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼›</li>
<li>zkæ˜¯cpæ¶æ„ï¼Œä¸é€‚åˆåšæ³¨å†Œä¸­å¿ƒï¼Œæ³¨å†Œä¸­å¿ƒæ›´é€‚åˆapæ¶æ„ï¼Œnacoså°±æ˜¯ï¼›</li>
</ol>
]]></content>
      <categories>
        <category>ä¸­é—´ä»¶</category>
      </categories>
      <tags>
        <tag>ZooKeeper</tag>
      </tags>
  </entry>
  <entry>
    <title>iTermä¸»é¢˜é…è‰²</title>
    <url>/2018/09/19/iTerm%E4%B8%BB%E9%A2%98%E9%85%8D%E8%89%B2/</url>
    <content><![CDATA[<h1 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h1><img data-src="/2018/09/19/iTerm%E4%B8%BB%E9%A2%98%E9%85%8D%E8%89%B2/color.png" class="">

<h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>é“¾æ¥:<a href="https://pan.baidu.com/s/1w64NLBLIyFnMRl4L5qaIJA">https://pan.baidu.com/s/1w64NLBLIyFnMRl4L5qaIJA</a>  å¯†ç :c54h</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>iTerm</tag>
      </tags>
  </entry>
  <entry>
    <title>Jsonå¤„ç†æ—¶éœ€è¦æ³¨æ„çš„é‚£äº›äº‹å„¿</title>
    <url>/2018/09/12/json/</url>
    <content><![CDATA[<h1 id="JsonIgnore"><a href="#JsonIgnore" class="headerlink" title="@JsonIgnore"></a>@JsonIgnore</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String age;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@JsonIgnore</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        â€¦â€¦</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆå¿½ç•¥å‘½åè§„èŒƒï¼‰ä¸Šè¿°ä»£ç åœ¨åºåˆ—åŒ–ã€ååºåˆ—åŒ–æ—¶ï¼Œéƒ½ä¼šå¯¼è‡´nameå±æ€§è¢«å¿½ç•¥ã€‚</p>
<p>é™¤éåœ¨å±æ€§ä¸Šæ·»åŠ @JsonPropertyã€‚</p>
]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS12_Betaå‡çº§</title>
    <url>/2018/06/06/iOS12-Beta%E5%8D%87%E7%BA%A7/</url>
    <content><![CDATA[<p>â€‹    iOS12ä½“éªŒç‰ˆå‘å¸ƒï¼Œå¤§å®¶å¿«æ¥ä½“éªŒå’¯</p>
<p>æè¿°æ–‡ä»¶ï¼š</p>
<p>é“¾æ¥:<a href="https://pan.baidu.com/s/1G_lG1nqRf9Qunuq7cg8HLw">https://pan.baidu.com/s/1G_lG1nqRf9Qunuq7cg8HLw</a>  å¯†ç :eyih</p>
<p>å‡çº§æ–¹æ³•ï¼š</p>
<ol>
<li>å¤‡ä»½ï¼ˆæ¯•ç«Ÿæ˜¯ä½“éªŒç‰ˆï¼Œç»™è‡ªå·±ç•™æ¡åè·¯ğŸ˜¬ï¼‰ï¼›</li>
<li>æ‰‹æœºSafariæµè§ˆå™¨æ‰“å¼€è¿æ¥ï¼Œä¸‹è½½æè¿°æ–‡ä»¶ï¼Œç‚¹å‡»å…è®¸å®‰è£…ï¼›</li>
<li>é‡å¯æ‰‹æœºï¼Œåœ¨é€šç”¨-è½¯ä»¶æ›´æ–°ï¼Œå‡çº§ï¼›</li>
<li>ä¸‹è½½ï¼Œå®‰è£…å°±å¯ä»¥äº†ï¼›</li>
</ol>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title>kubectlå¸¸ç”¨å‘½ä»¤</title>
    <url>/2018/07/21/kubectl%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h1 id="Pod"><a href="#Pod" class="headerlink" title="Pod"></a>Pod</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰pod</span></span><br><span class="line">kubectl get po -o wide</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹podå¯åŠ¨æ—¥å¿—</span></span><br><span class="line">kubectl logs xxx</span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥å†™åˆ°æ–‡ä»¶ä¸­ï¼ŒæŸ¥çœ‹æ–¹ä¾¿</span></span><br><span class="line">kubectl logs xxx &gt; xxx.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹podçš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">kubectl describe po xxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥podå†…éƒ¨</span></span><br><span class="line">kubectl <span class="built_in">exec</span> -it xxx bash</span><br></pre></td></tr></table></figure>

<h1 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘deployment</span></span><br><span class="line">kubectl edit deployments xxx -o yaml</span><br></pre></td></tr></table></figure>

<h1 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰service</span></span><br><span class="line">kubectl get svc</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ªservice</span></span><br><span class="line">kubectl describe svc xxx</span><br></pre></td></tr></table></figure>

<h1 id="ConfigMap"><a href="#ConfigMap" class="headerlink" title="ConfigMap"></a>ConfigMap</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»æ–‡ä»¶åˆ›å»ºconfigMap</span></span><br><span class="line"><span class="comment"># AAï¼šconfigMapçš„åç§°</span></span><br><span class="line"><span class="comment"># BBï¼šconfigMapä¸­keyçš„åç§°</span></span><br><span class="line"><span class="comment"># CC.ymlï¼šæºæ–‡ä»¶</span></span><br><span class="line">kubectl create cm AA --from-file=BB=CC.yml</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†configMapå¯¼å‡ºä¸ºyamlæ–‡ä»¶</span></span><br><span class="line">kubectl get cm AA -o yaml &gt; BB.yaml</span><br></pre></td></tr></table></figure>

<h1 id="Ingress"><a href="#Ingress" class="headerlink" title="Ingress"></a>Ingress</h1>]]></content>
      <categories>
        <category>K8S</category>
      </categories>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title>macOSå®‰è£…sentencepieceæ¨¡å—å¤±è´¥</title>
    <url>/2022/05/02/macOS%E5%AE%89%E8%A3%85sentencepiece%E6%A8%A1%E5%9D%97%E5%A4%B1%E8%B4%A5/</url>
    <content><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">macOS Monterey 12.2.1ï¼ŒApple M1 Proç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">$ python --version</span><br><span class="line">Python 3.8.9</span><br><span class="line"></span><br><span class="line">$ pip --version</span><br><span class="line">pip 22.0.4 from /Users/gavin/Library/Python/3.8/lib/python/site-packages/pip (python 3.8)</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…æ¨¡å—æ—¶æŠ¥é”™ï¼Œä¿¡æ¯å¦‚ä¸‹</span></span><br><span class="line">$ pip install sentencepiece</span><br><span class="line"></span><br><span class="line">Running setup.py install <span class="keyword">for</span> sentencepiece ... error</span><br><span class="line">  error: subprocess-exited-with-error</span><br><span class="line"></span><br><span class="line">  Ã— Running setup.py install <span class="keyword">for</span> sentencepiece did not run successfully.</span><br><span class="line">  â”‚ <span class="built_in">exit</span> code: 1</span><br><span class="line">  â•°â”€&gt; [25 lines of output]</span><br><span class="line">      /Users/gavin/Library/Python/3.8/lib/python/site-packages/setuptools/dist.py:757: UserWarning: Usage of dash-separated <span class="string">&#x27;description-file&#x27;</span> will not be supported <span class="keyword">in</span> future versions. Please use the underscore name <span class="string">&#x27;description_file&#x27;</span> instead</span><br><span class="line">        warnings.warn(</span><br><span class="line">      running install</span><br><span class="line">      /Users/gavin/Library/Python/3.8/lib/python/site-packages/setuptools/<span class="built_in">command</span>/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.</span><br><span class="line">        warnings.warn(</span><br><span class="line">      running build</span><br><span class="line">      running build_py</span><br><span class="line">      creating build</span><br><span class="line">      creating build/lib.macosx-10.14-arm64-cpython-38</span><br><span class="line">      creating build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      copying src/sentencepiece/__init__.py -&gt; build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      copying src/sentencepiece/sentencepiece_model_pb2.py -&gt; build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      copying src/sentencepiece/sentencepiece_pb2.py -&gt; build/lib.macosx-10.14-arm64-cpython-38/sentencepiece</span><br><span class="line">      running build_ext</span><br><span class="line">      /bin/sh: pkg-config: <span class="built_in">command</span> not found</span><br><span class="line">      mkdir: bundled: File exists</span><br><span class="line">      fatal: destination path <span class="string">&#x27;sentencepiece&#x27;</span> already exists and is not an empty directory.</span><br><span class="line">      fatal: destination path <span class="string">&#x27;sentencepiece&#x27;</span> already exists and is not an empty directory.</span><br><span class="line">      mkdir: build: File exists</span><br><span class="line">      ./build_bundled.sh: line 15: cmake: <span class="built_in">command</span> not found</span><br><span class="line">      ./build_bundled.sh: line 16: nproc: <span class="built_in">command</span> not found</span><br><span class="line">      make: *** No targets specified and no makefile found.  Stop.</span><br><span class="line">      make: *** No rule to make target `install<span class="string">&#x27;.  Stop.</span></span><br><span class="line"><span class="string">      env: pkg-config: No such file or directory</span></span><br><span class="line"><span class="string">      Failed to find sentencepiece pkg-config</span></span><br><span class="line"><span class="string">      [end of output]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  note: This error originates from a subprocess, and is likely not a problem with pip.</span></span><br><span class="line"><span class="string">error: legacy-install-failure</span></span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æ—¢ç„¶æ— æ³•åœ¨çº¿å®‰è£…ï¼Œé‚å°è¯•ä¸‹è½½å®‰è£…åŒ…ï¼Œæœ¬åœ°å®‰è£…ã€‚</p>
<h3 id="ä¸‹è½½å®‰è£…åŒ…"><a href="#ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h3><p>ç™»å½•<a href="https://pypi.org/project/sentencepiece/#files">å®˜æ–¹ä¸‹è½½é¡µé¢</a>ï¼Œæ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬<code>sentencepiece-0.1.96-cp39-cp39-macosx_10_6_x86_64.whl</code>ï¼Œä¸‹è½½ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip install sentencepiece-0.1.96-cp39-cp39-macosx_10_6_x86_64.whl</span><br><span class="line">Defaulting to user installation because normal site-packages is not writeable</span><br><span class="line">Looking <span class="keyword">in</span> indexes: https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">ERROR: sentencepiece-0.1.96-cp39-cp39-macosx_10_6_x86_64.whl is not a supported wheel on this platform.</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™å¹³å°ä¸æ”¯æŒï¼Œè€Œä¸”è¿‡ç¨‹ä¸­ä¼šåˆ°ä»“åº“ä¸­æŸ¥æ‰¾ indexã€‚å› ä¸ºæˆ‘ç”¨çš„æ˜¯æ¸…åçš„æºï¼Œç¬¬ä¸€ååº”æ˜¯æ¸…åçš„æºä»“åº“é‡Œæ²¡æœ‰è¿™ä¸ªç‰ˆæœ¬ï¼Œé‚åˆ°<a href="https://pypi.tuna.tsinghua.edu.cn/simple/sentencepiece/">æ¸…åä»“åº“</a>æ‰¾äº†ä¸€ä¸‹ï¼Œæœ‰è¿™ä¸ªç‰ˆæœ¬ï¼Œåç§°ä¹Ÿä¸€æ¨¡ä¸€æ ·ã€‚</p>
<p>æŸ¥äº†ä¸€ä¸‹ cp39 å¯¹åº”çš„ python ç‰ˆæœ¬ï¼Œ3.9æ‰èƒ½å®‰è£…ã€‚</p>
<p>æˆ‘ç”µè„‘å®‰è£…çš„æ˜¯ 3.8ï¼Œæ‰€ä»¥é‡æ–°ä¸‹è½½<code>sentencepiece-0.1.96-cp38-cp38-macosx_10_6_x86_64.whl </code>ç‰ˆæœ¬ã€‚</p>
<p>é‡æ–°æ‰§è¡Œ<code>pip install sentencepiece-0.1.96-cp38-cp38-macosx_10_6_x86_64.whl</code>ï¼Œä»ç„¶æŠ¥é”™å¹³å°ä¸æ”¯æŒã€‚</p>
<h3 id="è§£å†³ç‰ˆæœ¬é—®é¢˜"><a href="#è§£å†³ç‰ˆæœ¬é—®é¢˜" class="headerlink" title="è§£å†³ç‰ˆæœ¬é—®é¢˜"></a>è§£å†³ç‰ˆæœ¬é—®é¢˜</h3><p>æŠ¥é”™å¹³å°ä¸æ”¯æŒï¼Œå½“å‰æ€è·¯æ˜¯æŸ¥çœ‹å½“å‰ç”µè„‘ä¸Š python æ”¯æŒç‰ˆæœ¬ï¼ŒæŸ¥åˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯æ‰§è¡ŒæŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python ç¯å¢ƒä¸­æ‰§è¡Œ</span></span><br><span class="line">import pip._internal</span><br><span class="line"><span class="built_in">print</span>(pip._internal.pep425tags.get_supported())</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠ¥é”™ä¿¡æ¯ï¼Œæ¨¡å—ä¸­æ²¡æœ‰è¿™ä¸ªå±æ€§</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/Users/gavin/Downloads/PycharmProjects/pythonProject/version.py&quot;</span>, line 2, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span>(pip._internal.pep425tags.get_supported())</span><br><span class="line">AttributeError: module <span class="string">&#x27;pip._internal&#x27;</span> has no attribute <span class="string">&#x27;pep425tags&#x27;</span></span><br></pre></td></tr></table></figure>

<p>åæ¥å‘ç°è¿™ä¸ªæ–¹æ³•ï¼ŒæŸ¥çœ‹å½“å‰ python ç‰ˆæœ¬é€‚é…çš„æ ‡ç­¾ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip debug --verbose</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">Â·Â·Â·Â·Â·Â·</span><br><span class="line">Compatible tags: 334</span><br><span class="line">  cp38-cp38-macosx_12_0_arm64</span><br><span class="line">  cp38-cp38-macosx_12_0_universal2</span><br><span class="line">  cp38-cp38-macosx_11_0_arm64</span><br><span class="line">  cp38-cp38-macosx_11_0_universal2</span><br><span class="line">  cp38-cp38-macosx_10_16_universal2</span><br><span class="line">  cp38-cp38-macosx_10_15_universal2</span><br><span class="line">  cp38-cp38-macosx_10_14_universal2</span><br><span class="line">  cp38-cp38-macosx_10_13_universal2</span><br><span class="line">  cp38-cp38-macosx_10_12_universal2</span><br><span class="line">  cp38-cp38-macosx_10_11_universal2</span><br><span class="line">  cp38-cp38-macosx_10_10_universal2</span><br><span class="line">  cp38-cp38-macosx_10_9_universal2</span><br><span class="line">  cp38-cp38-macosx_10_8_universal2</span><br><span class="line">  cp38-cp38-macosx_10_7_universal2</span><br><span class="line">  cp38-cp38-macosx_10_6_universal2</span><br><span class="line">  cp38-cp38-macosx_10_5_universal2</span><br><span class="line">  cp38-cp38-macosx_10_4_universal2</span><br><span class="line">  cp38-abi3-macosx_12_0_arm64</span><br><span class="line">  cp38-abi3-macosx_12_0_universal2</span><br><span class="line">  cp38-abi3-macosx_11_0_arm64</span><br><span class="line">  cp38-abi3-macosx_11_0_universal2</span><br><span class="line">  cp38-abi3-macosx_10_16_universal2</span><br><span class="line">Â·Â·Â·Â·Â·Â·</span><br></pre></td></tr></table></figure>

<p>ä»ä¸­å‘ç°<code>cp38-cp38-macosx_10_6_universal2</code>æ ‡ç­¾ï¼Œå°è¯•å°†ä¸‹è½½çš„åŒ…åä¿®æ”¹ä¸ºè¯¥æ ‡ç­¾ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ cp sentencepiece-0.1.96-cp38-cp38-macosx_10_6_x86_64.whl sentencepiece-0.1.96-cp38-cp38-macosx_10_6_universal2.whl</span><br><span class="line"></span><br><span class="line">$ pip install sentencepiece-0.1.96-cp38-cp38-macosx_10_6_universal2.whl</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æˆåŠŸã€‚</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>macOSè®¾ç½®jenv</title>
    <url>/2022/06/28/macOS%E8%AE%BE%E7%BD%AEjenv/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">brew install jenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹é…ç½®</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;eval &quot;$(jenv init -)&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">jenv versions</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ°å®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬ï¼Œå®‰è£…ï¼Œçœç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éœ€è¦æ‰‹åŠ¨å°†jdkæ·»åŠ åˆ°jenv</span></span><br><span class="line">jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_321.jdk/Contents/Home</span><br><span class="line">jenv add /Library/Java/JavaVirtualMachines/jdk-11.0.15.1.jdk/Contents/Home</span><br><span class="line">jenv add /Library/Java/JavaVirtualMachines/jdk-17.0.3.1.jdk/Contents/Home</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰‹åŠ¨åˆ é™¤æŸç‰ˆæœ¬</span></span><br><span class="line">jenv remove *</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æŸç‰ˆæœ¬ï¼Œå¦‚æœä¹‹å‰æœ‰è®¾ç½®JAVA_HOMEï¼Œéœ€è¦æ³¨é‡Šæ‰</span></span><br><span class="line">jenv <span class="built_in">local</span> 1.8</span><br><span class="line">java -version</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹jenvä¸­æ‰€æœ‰javaå¯¹åº”çš„è·¯å¾„</span></span><br><span class="line">ll $/.jenv/versions</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ç›®å½•javaç‰ˆæœ¬</span></span><br><span class="line">jenv <span class="built_in">which</span> java</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å…¨å±€é»˜è®¤ç‰ˆæœ¬ä¸º1.8</span></span><br><span class="line">jenv global 1.8</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•ç‹¬ä¸ºæŸæ–‡ä»¶è®¾ç½®ç‰ˆæœ¬</span></span><br><span class="line"><span class="built_in">echo</span> 1.8 &gt;&gt; ./.java-version</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title>pip2ä¸pip3æ— æ³•å¹¶å­˜å…±ç”¨</title>
    <url>/2018/05/23/pip2%E4%B8%8Epip3%E6%97%A0%E6%B3%95%E5%B9%B6%E5%AD%98%E5%85%B1%E7%94%A8%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>OSï¼š</p>
<p>â€‹    MacOS 10.13.4</p>
<p>Pythonï¼š</p>
<p>â€‹    python2.7(ç³»ç»Ÿè‡ªå¸¦)ï¼š/System/Library/Frameworks/Python.framework/Versions/2.7</p>
<p>â€‹    python3.6.5(åæ¥å®‰è£…)ï¼š/usr/local/Cellar/python/3.6.5/</p>
<p>pipï¼š</p>
<p>â€‹    pip2ï¼š/usr/local/bin/pip</p>
<p>â€‹    pip3ï¼š/usr/local/bin/pip3</p>
<h2 id="å‡çº§"><a href="#å‡çº§" class="headerlink" title="å‡çº§"></a>å‡çº§</h2><p>â€‹    å½“æˆ‘å®‰è£…python3.6.5ä¹‹åï¼Œpython3ä¸­è‡ªå¸¦pip3ï¼Œä¸”å°†åŸæ¥è£…çš„pipè¦†ç›–ï¼Œå¯¼è‡´pipæ— æ³•ä½¿ç”¨ã€‚è™½ç„¶ä¸ç”¨pipå‘½ä»¤ä¹Ÿå¯ä»¥ä½¿ç”¨pipåŠŸèƒ½ï¼ˆ<code>python -m pip install XXXX</code>ï¼‰ï¼Œå¯ä»¥é€šè¿‡é‡æ–°å®‰è£…pipæ–¹æ³•ï¼Œä½¿pipç”Ÿæ•ˆã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo python -m pip install --upgrade pip --force-reinstall</span><br><span class="line"><span class="comment"># æŸ¥çœ‹pipä¿¡æ¯</span></span><br><span class="line">pip -V</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœpip3ä¹Ÿæœ‰é—®é¢˜ï¼Œé‡æ–°å®‰è£…ä¸€épip3</span></span><br><span class="line">sudo python3 -m pip install --upgrade pip --force-reinstall</span><br><span class="line"><span class="comment"># æŸ¥çœ‹pip3ä¿¡æ¯</span></span><br><span class="line">pip3 -V</span><br></pre></td></tr></table></figure>

<p>â€‹    </p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>setTimeOut()ä¸jQueryä¸­çš„$.ajaxåˆç”¨ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼</title>
    <url>/2017/12/18/setTimeOut-%E4%B8%8EjQuery%E4%B8%AD%E7%9A%84-ajax%E5%90%88%E7%94%A8%EF%BC%8C%E5%AF%BC%E8%87%B4%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/</url>
    <content><![CDATA[<p>æœ€è¿‘é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ </p>
]]></content>
  </entry>
  <entry>
    <title>Solré«˜äº®ä¼˜åŒ–</title>
    <url>/2020/10/14/solr%E9%AB%98%E4%BA%AE%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>0729è¿›å±•ï¼š<br>åˆ é™¤äº†ä¸€äº›æ— ç”¨çš„è¿‡æ»¤å™¨ï¼Œå¹¶æ‰“å¼€httpcachingç¼“å­˜ã€‚<br>ç›®å‰å‹æµ‹å¼€20ä¸ªçº¿ç¨‹ï¼ˆé™æ€å‚æ•°ï¼‰1åˆ†é’Ÿï¼Œé”™è¯¯ç‡çº¦0.3%å·¦å³ã€‚<br>20ä¸ªçº¿ç¨‹ï¼ˆåŠ¨æ€å‚æ•°ï¼‰1åˆ†é’Ÿï¼Œé”™è¯¯ç‡çº¦3.68%å·¦å³ã€‚<br>åç»­ä¼˜åŒ–æ–¹å‘ï¼š</p>
<ol>
<li>solrå†…å­˜å›æ”¶ç­–ç•¥æ–¹é¢è°ƒæ•´ï¼›</li>
<li>solræŸ¥è¯¢ä¼˜åŒ–å‚æ•°è°ƒä¼˜ï¼›</li>
<li>æŸ¥çœ‹é«˜äº®å…¶ä»–è¿‡æ»¤å™¨ï¼›</li>
</ol>
<p>PSï¼šç›®å‰æ•ˆç‡è¿™ä¹ˆå·®ï¼Œä¸»è¦æ˜¯å› ä¸ºé«˜äº®ã€‚å› ä¸ºä½¿ç”¨é«˜äº®æŸ¥è¯¢æ—¶ï¼Œç›¸å½“äºåœ¨æŸ¥è¯¢æ—¶é‡æ–°ç´¢å¼•ï¼Œä¸ä¼šç”¨ä¹‹å‰æ„å»ºçš„ç´¢å¼•ï¼Œæ‰€ä»¥æ¯”è¾ƒæ¶ˆè€—èµ„æºï¼Œä¹Ÿæ¯”è¾ƒæ…¢ã€‚</p>
<p>0730è¿›å±•ï¼š</p>
<ol>
<li>åˆ é™¤äº†æŸ¥è¯¢é€»è¾‘ä¸­æ— ç”¨çš„å­—æ®µ</li>
<li>è°ƒæ•´solrçš„jvmæ–°ç”Ÿä»£å†…å­˜åˆ†é…ï¼Œå‡å°‘gcçš„æ¬¡æ•°</li>
<li>è°ƒæ•´tomcatçº¿ç¨‹æ± <br>è¿™äº›è°ƒæ•´éƒ½æ²¡ä»€ä¹ˆè¾ƒå¥½çš„æ•ˆæœï¼Œç›®å‰æ•ˆæœï¼š<br>å‹æµ‹å¼€20ä¸ªçº¿ç¨‹ï¼ˆé™æ€å‚æ•°ï¼‰1åˆ†é’Ÿï¼Œé”™è¯¯ç‡0.1%å·¦å³ã€‚<br>å‹æµ‹å¼€20ä¸ªçº¿ç¨‹ï¼ˆé™æ€å‚æ•°ï¼‰1åˆ†é’Ÿï¼Œé”™è¯¯ç‡25%å·¦å³ã€‚<br>ï¼ˆæ˜¨å¤©solrå†…éƒ¨åªæœ‰2wæ¡æ•°æ®ï¼Œä»Šå¤©solrä¸­æœ‰22wæ¡æ•°æ®ï¼‰</li>
</ol>
<p>æ˜å¤©çš„æ–¹å‘ï¼š<br>å†æŸ¥äº›èµ„æ–™çœ‹çœ‹ï¼ˆè¿™æ–¹é¢èµ„æ–™ä¸å¤šï¼‰</p>
<p>0731è¿›å±•ï¼š</p>
<ol>
<li>é«˜äº®ç»„ä»¶æ”¹ä¸ºFastVectorHighlighter</li>
<li>é‡æ–°è°ƒæ•´solrçš„jvmæ–°ç”Ÿä»£å†…å­˜åˆ†é…</li>
<li>å°†solrä¸­çš„collectionæ”¹ä¸º2ä¸ªåˆ†ç‰‡<br>æ•ˆæœï¼š<br>å› ä¸ºæ”¹äº†åˆ†ç‰‡ï¼Œç›®å‰åœ¨é‡å»ºç´¢å¼•ï¼Œsolrä¸­çš„æ•°æ®5wå·¦å³<br>å‹æµ‹å¼€20ä¸ªçº¿ç¨‹ï¼ˆåŠ¨æ€å‚æ•°ï¼‰1åˆ†é’Ÿï¼Œé”™è¯¯ç‡0.03%å·¦å³ã€‚<br>å‹æµ‹å¼€50ä¸ªçº¿ç¨‹ï¼ˆåŠ¨æ€å‚æ•°ï¼‰1åˆ†é’Ÿï¼Œé”™è¯¯ç‡10%å·¦å³ã€‚ï¼ˆå‰50ç§’åœ¨0.02%ï¼Œå10ç§’é”™è¯¯ç‡çªå¢ï¼Œä¸»è¦æ˜¯å› ä¸ºç”±äºå‹æµ‹çš„ç”µè„‘çº¿ç¨‹è·‘æ»¡ï¼Œæ— æ³•åˆ›å»ºæ–°çº¿ç¨‹æŠ¥çš„é”™ï¼‰</li>
</ol>
<p>ä¼˜åŒ–æˆè¿™æ ·å°±å·®ä¸å¤šäº†å§</p>
<p>è¿™å‡ å¤©åšäº†å¦‚ä¸‹ä¼˜åŒ–ï¼š</p>
<ol>
<li>è°ƒæ•´å…¨å±€æœç´¢åº”ç”¨ä»£ç ï¼Œåˆ é™¤ä¸éœ€è¦çš„æŸ¥è¯¢å­—æ®µå’Œé«˜äº®å­—æ®µï¼›</li>
<li>å°†é«˜äº®å­—æ®µç±»å‹æ”¹ä¸ºæŒä¹…åŒ–ï¼Œå¯ä»¥æŒä¹…åŒ–é«˜äº®å­—æ®µçš„ç´¢å¼•ï¼›</li>
<li>åˆ é™¤é«˜äº®å­—æ®µæ‰€å±çš„ç±»å‹å­—æ®µçš„è¿‡æ»¤å™¨ï¼ˆä¸»è¦æ˜¯åŒä¹‰è¯å’Œåœç”¨è¯ï¼Œæˆ‘çœ‹äº†å¯¹åº”çš„æ–‡æœ¬æ–‡ä»¶ï¼Œåªæœ‰2æ¡å†…å®¹ï¼Œåº”è¯¥æ˜¯æ­å»ºsolræ—¶ä»åˆ«çš„åœ°æ–¹æ‹·è´è¿‡æ¥çš„ï¼‰</li>
<li>ä¼˜åŒ–å¯åŠ¨solræ—¶jvmçš„å†…å­˜åˆ†é…</li>
<li>é»˜è®¤é«˜äº®ç»„ä»¶æ•ˆç‡è¾ƒä½ï¼Œæ”¹ä¸ºFastVectorHighteré«˜äº®ç»„ä»¶</li>
<li>ä¹‹å‰uatç¯å¢ƒæ•°æ®åªæœ‰1ä¸ªåˆ†ç‰‡ï¼Œç°åœ¨æ”¹ä¸ºäº†2ä¸ªåˆ†ç‰‡</li>
<li>è°ƒæ•´äº†solrçš„é…ç½®ï¼Œæ‰“å¼€äº†httpcachingç¼“å­˜</li>
</ol>
]]></content>
      <categories>
        <category>ä¸­é—´ä»¶</category>
      </categories>
      <tags>
        <tag>Solr</tag>
      </tags>
  </entry>
  <entry>
    <title>vimé”®ä½ä»‹ç»</title>
    <url>/2018/05/29/vim%E9%94%AE%E4%BD%8D%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<h1 id="é”®ä½å›¾"><a href="#é”®ä½å›¾" class="headerlink" title="é”®ä½å›¾"></a>é”®ä½å›¾</h1><p><img data-src="../vim%E9%94%AE%E4%BD%8D%E4%BB%8B%E7%BB%8D/vim.png" alt="é”®ä½å›¾"></p>
<h1 id="å¸¸ç”¨é”®ä½"><a href="#å¸¸ç”¨é”®ä½" class="headerlink" title="å¸¸ç”¨é”®ä½"></a>å¸¸ç”¨é”®ä½</h1><ol>
<li><p>åœ¨æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ :s/æ­£åˆ™è¡¨è¾¾å¼/æ›¿æ¢æ–‡æœ¬/g å¯ä»¥åœ¨å½“å‰è¡ŒèŒƒå›´å†…æŸ¥æ‰¾æ›¿æ¢ã€‚ï¼ˆåœ¨æ­£å¸¸çš„IDEAä¸­éœ€è¦é€‰ä¸­å½“å‰è¡Œååœ¨å½“å‰é€‰åŒºæŸ¥æ‰¾æ›¿æ¢ï¼‰</p>
</li>
<li><p>åœ¨æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ å°æ•°ç‚¹å°†åœ¨å½“å‰å…‰æ ‡ä½ç½®é‡å¤ä¸Šä¸€æ¬¡ä¿®æ”¹æ“ä½œã€‚ä¾‹å¦‚ä½ åœ¨æŸä¸€è¡Œè¿›è¡Œäº†ä¸Šè¿°çš„æŸ¥æ‰¾æ›¿æ¢ï¼Œå¦‚æœç«‹å³éœ€è¦åœ¨å¦ä¸€è¡ŒåšåŒæ ·æ“ä½œï¼ŒæŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¯¥è¡ŒæŒ‰å°æ•°ç‚¹å³å¯ã€‚</p>
</li>
<li><p>yypå¤åˆ¶å½“å‰è¡Œã€‚ yy10p å¤åˆ¶å½“å‰è¡Œ10æ¬¡</p>
</li>
<li><p>u æ’¤é”€ä¿®æ”¹/ Ctrl+R é‡åšä¿®æ”¹</p>
</li>
<li><p>qåŠ ä»»ä½•å•ä¸ªæ•°å­—æˆ–å­—æ¯ï¼Œå½•åˆ¶åç»­æ“ä½œï¼Œè®°å½•åˆ°åä¸ºè¯¥æ•°å­—æˆ–å­—æ¯çš„å®ï¼ˆMacroï¼‰ä¸­ã€‚åœ¨å½•åˆ¶çŠ¶æ€ä¸‹æŒ‰qç»“æŸå½•åˆ¶ã€‚@åŠ æŸä¸ªå·²å½•åˆ¶çš„å®åï¼ˆå•ä¸ªæ•°å­—æˆ–å­—æ¯ï¼‰ï¼Œå›æ”¾å®ã€‚å½•åˆ¶çš„å®åªè¦ä¸è¢«è¦†ç›–ï¼Œä¼šè‡ªåŠ¨ä¿å­˜ã€‚é‡å¯IDEAåä»ç„¶æœ‰æ•ˆã€‚ï¼ˆåœ¨æ­£å¸¸çš„IDEAä¸­ä½¿ç”¨å®éœ€è¦è¿›è¡Œèœå•æ“ä½œï¼Œä¸ç”šæ–¹ä¾¿ï¼‰</p>
</li>
<li><p>dawåˆ é™¤ä¸€ä¸ªå•è¯ï¼Œd$åˆ é™¤è‡³è¡Œå°¾ï¼Œd0åˆ é™¤è‡³è¡Œé¦–ï¼ˆåŒ…æ‹¬ç¼©è¿›ï¼‰ï¼Œd^åˆ é™¤è‡³è¡Œé¦–ï¼ˆä¿ç•™ç¼©è¿›ï¼‰ï¼Œddåˆ é™¤å½“å‰è¡Œã€‚åˆ é™¤åæŒ‰på¯ä»¥å¤åˆ¶åˆ é™¤å†…å®¹ã€‚</p>
</li>
<li><p>Jç›´æ¥æŠŠä¸‹ä¸€è¡Œè¿æ¥åˆ°æœ¬è¡Œæœ«å°¾ï¼Œå»é™¤ç¼©è¿› </p>
</li>
<li><p>%è·³åˆ°åŒ¹é…çš„æ‹¬å·</p>
</li>
<li><p>10ib<ESC> æ’å…¥10ä¸ªbã€‚ï¼ˆæ•°å­—ï¼‰i/a/o/Oï¼ˆå­—ç¬¦ä¸²ï¼‰<ESC>å¯æ’å…¥nä¸ªé‡å¤å­—ç¬¦ä¸²ï¼Œiåœ¨å…‰æ ‡å‰æ’å…¥ï¼Œaåœ¨å…‰æ ‡åæ’å…¥ï¼Œoåœ¨ä¸‹ä¸€è¡Œæ’å…¥ï¼ŒOåœ¨ä¸Šä¸€è¡Œæ’å…¥ã€‚æ³¨æ„åœ¨IDEAé»˜è®¤æƒ…å†µä¸‹è¾“å…¥â€œiå­—ç¬¦â€åä¼šå¼¹å‡ºè‡ªåŠ¨è¡¥å…¨èœå•ï¼Œéœ€è¦å¤šæŒ‰ä¸€ä¸‹ESCå–æ¶ˆæ‰è¡¥å…¨èœå•ã€‚</p>
</li>
<li><p>åœ¨ä¸€ä¸ªæ•°å­—ä¸ŠæŒ‰ctrl+aï¼Œå¯å°†è¯¥æ•°å­—åŠ 1.  æŒ‰ctrl+xå¯å°†æ•°å­—å‡1. æŒ‰ï¼ˆæ•°å­—ï¼‰ctrl+aï¼Œå¯å°†å…‰æ ‡æ•°å­—åŠ ä¸Šè¾“å…¥çš„æ•°å­—ã€‚</p>
</li>
<li><p>~ - å°†å…‰æ ‡ä¸‹çš„å­—æ¯æ”¹å˜å¤§å°å†™ã€‚ g~aw - æ”¹å˜å½“å‰å•è¯çš„å¤§å°å†™ã€‚gU&lt;ç©ºæ ¼&gt; - å½“å‰å­—æ¯æ”¹å¤§å†™ã€‚gu&lt;ç©ºæ ¼&gt; -å½“å‰å­—æ¯æ”¹å°å†™ã€‚ gUaw - å½“å‰å•è¯æ”¹å¤§å†™ã€‚ guaw - å½“å‰å•è¯æ”¹å°å†™ã€‚ åœ¨å­—ç¬¦ä¸²å‰é¢çš„å¼•å·ä¸Š gUfâ€ - å­—ç¬¦ä¸²æ”¹å¤§å†™ã€‚</p>
</li>
<li><p>è¡Œå·G -ç›´æ¥ç§»åŠ¨åˆ°æŸè¡Œã€‚ï¼ˆä½¿ç”¨IDEAçš„Ctrl+Gä¼šå¼¹å‡ºå¯¹è¯æ¡†ï¼Œä¸”ç§»åŠ¨åˆ°çš„é‚£è¡Œä¼šè‡ªåŠ¨å±…ä¸­ï¼Œé¢‡ä¸ºçœ¼èŠ±ï¼‰</p>
</li>
<li><p>H -å…‰æ ‡ç§»åŠ¨åˆ°å±å¹•ç¬¬ä¸€è¡Œã€‚ L - å…‰æ ‡ç§»åŠ¨åˆ°å±å¹•æœ€åä¸€è¡Œã€‚ M - å…‰æ ‡ç§»åŠ¨åˆ°å±å¹•ä¸­é—´ã€‚ zz - å…‰æ ‡æ‰€åœ¨è¡Œå±…ä¸­ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>åç¡•TUF-AX3000åˆ·æ¢…æ—å›ºä»¶</title>
    <url>/2020/10/27/%E5%8D%8E%E7%A1%95TUF-AX3000%E9%85%8D%E7%BD%AE%E6%A2%85%E6%9E%97%E5%9B%BA%E4%BB%B6/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>â€‹    æœ€è¿‘è´­å…¥äº†æ–°è·¯ç”±å™¨ï¼Œåç¡•TUF-AX3000ï¼Œå‡†å¤‡å¼€å§‹æŠ˜è…¾ã€‚ï¼ˆä»¥å‰ç”¨çš„æ˜¯åä¸ºAX3 Proï¼Œæ€§ä»·æ¯”ä¹Ÿå¾ˆé«˜ï¼Œç®—æ˜¯300å…ƒå†…æ€§ä»·æ¯”ä¹‹ç‹äº†å§ï¼Œé¢œå€¼åœ¨çº¿ï¼Œwifi6æ ‡å‡†ï¼Œè¿˜èƒ½NFCè¿æ¥WiFiã€‚å”¯ä¸€ä¸èƒ½æ»¡è¶³æˆ‘çš„å°±æ˜¯ï¼Œä¸èƒ½å®‰è£…æ’ä»¶ç§‘å­¦ä¸Šç½‘ã€‚ï¼‰</p>
<h1 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h1><p>ç›®æ ‡ä»·ä½æ˜¯800å·¦å³ï¼Œç„¶åæœ‰å‡ ä¸ªå¤‡é€‰éƒ½è¿˜ä¸é”™ï¼Œç½‘ä»¶R8000Pã€åç¡•RT-AC86Uã€åç¡•TUF-AX3000ã€‚å¥ˆä½•å…¶ä½™ä¸¤æ¬¾ä¸æ”¯æŒWiFi6ï¼Œè´­å…¥è¿™ä¸ªè·¯ç”±å™¨çŸ­æœŸå†…è‚¯å®šä¸ä¼šæ›´æ¢äº†ï¼Œæ‰€ä»¥ä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥ä¸ŠWiFi6ï¼Œæœ€ç»ˆé€‰æ‹©äº†åç¡•TUF-AX3000ã€‚</p>
<p>å¦‚ä½•æŒ‘è·¯ç”±å™¨å°±åªèƒ½åœ¨ç½‘ä¸Šæ‰¾èµ„æ–™äº†ï¼Œæ¯”è¾ƒæƒå¨çš„è¿˜æ˜¯<a href="https://www.acwifi.net/">acwifi</a>ã€‚</p>
<h1 id="è´­å…¥"><a href="#è´­å…¥" class="headerlink" title="è´­å…¥"></a>è´­å…¥</h1><p>å¯¹æ¯”äº†ç‹—ä¸œã€æ‹¼å¤•å¤•ï¼Œè¿˜æ˜¯æ‹¼å¤•å¤•é¦™å•Šï¼Œæœ€ååœ¨æ‹¼å¤•å¤•ä¸‹å•ã€‚</p>
<p>æ‹¼å¤•å¤•æœ‰å¥½å¤šæ‹†å°å¸®å¿™åˆ·å…¥æ¢…æ—å›ºä»¶çš„ï¼Œæˆ‘æ‹…å¿ƒæ˜¯è¿”ä¿®çš„æœºå™¨ï¼Œç›´æ¥ä¹°äº†å…¨æ–°ç‰ˆæœ¬ã€‚600å¤šè½¯å¦¹å¸ã€‚</p>
<p>å®¶é‡Œçš„å°å¼ç½‘å¡åäº†å¥½ä¹…ï¼Œæ‹–ç€ä¸€ç›´æ²¡å¼„ï¼Œè¿™æ¬¡é¡ºä¾¿å…¥äº†ä¸ªIntel-AX3000Tæ— çº¿ç½‘å¡ï¼ŒåŒæ ·æ”¯æŒwifi6ï¼Œç»ˆäºé‡æ–°ç„•å‘é’æ˜¥ã€‚è¿™ä¸‹å­ç»ˆäºå¯ä»¥äº‘é¡¶ä¸‹æ£‹å•¦ğŸ¥³</p>
<h1 id="åˆ·å›ºä»¶"><a href="#åˆ·å›ºä»¶" class="headerlink" title="åˆ·å›ºä»¶"></a>åˆ·å›ºä»¶</h1><h2 id="æ‰¾å›ºä»¶"><a href="#æ‰¾å›ºä»¶" class="headerlink" title="æ‰¾å›ºä»¶"></a>æ‰¾å›ºä»¶</h2><p>æœºå™¨åˆ°æ‰‹åå°±å¼€å§‹äº†æŠ˜è…¾ï¼Œä¸æŠ˜è…¾ä¹Ÿä¸ä¼šä¹°åç¡•äº†ã€‚</p>
<p>æ‰¾å›ºä»¶å¸¸ç”¨çš„è®ºå›æœ‰<a href="https://www.right.com.cn/forum/">æ©å±±</a>ã€<a href="https://koolshare.cn/portal.php">koolshare</a>ã€‚</p>
<p>å‡ ç»å‘¨æŠ˜ï¼Œæ‰¾äº†å¥½å‡ ä¸ªç‰ˆæœ¬éƒ½æ¯”è¾ƒæ—§ï¼Œæœ€ç»ˆåœ¨koolshareä¸Šæ‰¾åˆ°<a href="https://koolshare.cn/thread-179968-1-1.html">è¿™ç¯‡å¸–å­</a>ï¼Œæ˜¯åŸºäºæœ€æ–°å®˜æ–¹å›ºä»¶ï¼ˆ384_9923ï¼‰ä¿®æ”¹çš„ã€‚ä¸€èµ·å°±ç»ªï¼Œå¼€æ•´ã€‚</p>
<h2 id="åˆ·æœº"><a href="#åˆ·æœº" class="headerlink" title="åˆ·æœº"></a>åˆ·æœº</h2><p>åˆ·æœºæ¯”è¾ƒç®€å•ï¼Œè¿ä¸Šwifiåï¼Œè®¿é—®router.asus.comï¼Œç™»å…¥ååœ¨ç³»ç»Ÿè®¾ç½®é‡Œï¼Œä¸Šä¼ å›ºä»¶ï¼Œç­‰å¾…åˆ·æ–°ï¼Œå‡çº§å®Œé‡å¯å°±è¡Œäº†ã€‚</p>
<p>é‡æ–°ç™»å½•ï¼Œçœ‹åˆ°é‡Œé¢æœ‰äº†è½¯ä»¶ä¸­å¿ƒã€‚æœ‰ä¸€äº›å†…ç½®çš„æ’ä»¶å¯ä»¥ç›´æ¥å®‰è£…ï¼Œä¸è¿‡æ²¡æœ‰æˆ‘ä»¬æƒ³è¦çš„ç§‘å­¦ä¸Šç½‘æ’ä»¶ã€‚å¥½å§ï¼Œç»§ç»­æ‰¾ã€‚</p>
<h1 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h1><h2 id="æ‰¾æ’ä»¶"><a href="#æ‰¾æ’ä»¶" class="headerlink" title="æ‰¾æ’ä»¶"></a>æ‰¾æ’ä»¶</h2><p>åˆæ˜¯å‡ ç»å‘¨æŠ˜ï¼Œç»ˆäºæ‰¾åˆ°äº†<a href="https://github.com/hq450/fancyss_history_package/tree/master/fancyss_hnd">ssæ’ä»¶</a>ï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯1.8.8ç‰ˆæœ¬ã€‚</p>
<p>è®°ä½ä¸‹é¢è¿™äº›å‚æ•°ï¼Œæ‰¾æ’ä»¶çš„æ—¶å€™ç”¨å¾—åˆ°ã€‚</p>
<p>CPUï¼šBCM6750ï¼Œå¹³å°ï¼šaxhnd.675xï¼Œæ¶æ„ï¼šARMV7ï¼Œå†…æ ¸ï¼š4.1.52ã€‚</p>
<h2 id="å®‰è£…æ’ä»¶-1"><a href="#å®‰è£…æ’ä»¶-1" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><ol>
<li><p>ä¸‹è½½å®Œæˆåï¼Œç™»å½•è·¯ç”±å™¨ç®¡ç†é¡µé¢ï¼Œç‚¹å¼€è½¯ä»¶ä¸­å¿ƒï¼Œç„¶åç¦»çº¿å®‰è£…ï¼Œä¸Šä¼ å®‰è£…åŒ…ã€‚</p>
</li>
<li><p>å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ£€æµ‹åˆ°éæ³•å…³é”®è¯ï¼Œå®‰è£…å¤±è´¥ã€‚</p>
<p>è¿™æ—¶å€™éœ€è¦ä½¿ç”¨sshè¿œç¨‹ç™»å½•åˆ°è·¯ç”±å™¨ä¸Šï¼ˆè·¯ç”±å™¨ipåœ¨ç®¡ç†é¡µé¢ä¸Šæœ‰ï¼‰ï¼Œè¾“å…¥ç®¡ç†å‘˜è´¦å·ã€å¯†ç ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å…³é—­æ ¡éªŒã€‚ï¼ˆå¦‚æœç™»å½•å¤±è´¥ï¼Œæç¤º<code>WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</code>ï¼Œåˆ°.sshç›®å½•ä¸‹åˆ æ‰known_hostsæ–‡ä»¶ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;s/\tdetect_package/\t# detect_package/g&#x27; /koolshare/scripts/ks_tar_install.sh</span><br></pre></td></tr></table></figure></li>
<li><p>é‡æ–°ä¸Šä¼ å®‰è£…åŒ…ï¼Œç„¶åå®‰è£…ï¼Œè¿™æ—¶å€™æç¤ºå®‰è£…æˆåŠŸã€‚</p>
</li>
<li><p>åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°è½¯ä»¶ä¸­å¿ƒä¸‹æœ‰ç§‘å­¦ä¸Šç½‘çš„æ’ä»¶äº†ï¼Œç‚¹è¿›å»ï¼Œé…ç½®v2rayç›¸å…³çš„é…ç½®æˆ–è€…ssrçš„é…ç½®ï¼Œç„¶åæ‰“å¼€å¼€å…³ã€‚</p>
</li>
</ol>
<p>å‘ç°å¹¶æ²¡æœ‰å¼€å¯ç§‘å­¦ä¸Šç½‘ï¼ï¼ï¼</p>
<p>åŸå› æ˜¯è·¯ç”±å™¨æœ¬èº«çš„å†…å­˜å¤ªå°ï¼Œä¸è¶³ä»¥æ”¯æ’‘v2rayæ’ä»¶è¿è¡Œã€‚</p>
<p>ä¹°ä¸€ä¸ªå¥½ç‚¹çš„Uç›˜ï¼Œæ’åˆ°è·¯ç”±å™¨ä¸Šï¼Œå®‰è£…è™šæ‹Ÿå†…å­˜çš„æ’ä»¶ï¼Œåˆ›å»º1Gçš„è™šæ‹Ÿå†…å­˜å¹¶æŒ‚è½½ï¼Œç„¶åå°±èƒ½ç§‘å­¦ä¸Šç½‘å•¦ï¼</p>
<h2 id="è·¯ç”±å™¨ç›¸å…³çš„ä¸€äº›å‘½ä»¤"><a href="#è·¯ç”±å™¨ç›¸å…³çš„ä¸€äº›å‘½ä»¤" class="headerlink" title="è·¯ç”±å™¨ç›¸å…³çš„ä¸€äº›å‘½ä»¤"></a>è·¯ç”±å™¨ç›¸å…³çš„ä¸€äº›å‘½ä»¤</h2><p>æ¸…ç©ºjffsï¼Œæ”¹å‘½ä»¤ä¼šå°†è½¯ä»¶ä¸­å¿ƒä¸‹æ‰€æœ‰çš„æ’ä»¶åˆ æ‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> -9 $(pidof skipd)</span><br><span class="line"><span class="built_in">cd</span> /jffs</span><br><span class="line">rm -r .[a-zA-Z_]* *</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤è½¯ä»¶ä¸­å¿ƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> -9 $(pidof skipd)</span><br><span class="line">rm -rf /jffs/.asusrouter /jffs/.koolshare /jffs/db /jffs/ksdb /jffs/config/* /jffs/etc/profile</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h1 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h1><p>v2rayè¿è¡Œçš„æ—¶å€™ä¼šå ç”¨ç³»ç»Ÿèµ„æºï¼Œå› ä¸ºè·¯ç”±å™¨å¤©ç”Ÿçš„å±€é™æ€§ï¼Œé…ç½®ä¸ä¼šå¤ªé«˜ï¼Œæ‰€ä»¥æœ€è¿‘åˆè¢«è½¯è·¯ç”±ç§è‰äº†â€¦å…´å†²å†²çš„è·Ÿå¥³ç¥¨è¯´è¿™ä¸ªäº‹å„¿ï¼Œåˆè¢«æ— æƒ…çš„dissäº†â€¦</p>
<p>ä¸è¿‡ä¸€èˆ¬æƒ…å†µè·¯ç”±å™¨å°±å¤Ÿç”¨äº†ã€‚é™¤éä½ å®¶å®½å¸¦å’Œæœºåœºå¸¦å®½éƒ½500Mä»¥ä¸Šï¼Œä¸ç„¶çœ‹ä¸å‡ºæ¥å·®è·ã€‚</p>
]]></content>
      <categories>
        <category>è·¯ç”±å™¨</category>
      </categories>
      <tags>
        <tag>è·¯ç”±å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Mybatisæ—¶ï¼Œå¯¹äºOracleä¸­booleanç±»å‹çš„å¤„ç†</title>
    <url>/2017/07/15/%E4%BD%BF%E7%94%A8Mybatis%E6%97%B6%E5%AF%B9%E4%BA%8EOracle%E4%B8%ADboolean%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<h1 id="DBä¸ºOracleæ—¶ï¼Œå‚æ•°ä¸­å­˜åœ¨booleanç±»å‹"><a href="#DBä¸ºOracleæ—¶ï¼Œå‚æ•°ä¸­å­˜åœ¨booleanç±»å‹" class="headerlink" title="DBä¸ºOracleæ—¶ï¼Œå‚æ•°ä¸­å­˜åœ¨booleanç±»å‹"></a>DBä¸ºOracleæ—¶ï¼Œå‚æ•°ä¸­å­˜åœ¨booleanç±»å‹</h1><p>&emsp;&emsp;Oracleä¸æ”¯æŒbooleanç±»å‹ï¼Œé’ˆå¯¹æ­¤ç±»å‹ï¼ŒOracleçš„é©±åŠ¨åŒ…ä¸­åšäº†è½¬æ¢å¤„ç†ï¼Œå°†trueè½¬æ¢ä¸º <em><strong>æ•°å­—</strong></em>  1ï¼Œfalseè½¬æ¢ä¸ºÂ <em><strong>æ•°å­—</strong></em>  0ã€‚</p>
<p>&emsp;&emsp;Mybatisè§£æsqlmapperæ–‡ä»¶æ—¶ï¼Œè°ƒç”¨TypeHandlerç±»ä¸­çš„æ–¹æ³•å¯¹ç±»å‹è¿›è¡Œå¤„ç†ï¼Œé’ˆå¯¹booleanç±»å‹çš„å®ç°ç±»ä¸ºBooleanTypeHandlerï¼Œå¦‚ä¸‹ï¼Œæ­¤ç±»åŒ…å«åœ¨ojdbcåŒ…ä¸­ã€‚å…¶ä¸­setNonNullParameteræ–¹æ³•ä¸ºä¼ å‚æ—¶ï¼Œå¯¹å…¥å‚çš„å¤„ç†ã€‚</p>
<img data-src="/2017/07/15/%E4%BD%BF%E7%94%A8Mybatis%E6%97%B6%E5%AF%B9%E4%BA%8EOracle%E4%B8%ADboolean%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86/BooleanTypeHandler.png" class="" title="BooleanTypeHandlerç±»">

<p>&emsp;&emsp;setBooleançš„å…·ä½“å®ç°ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œbooleanç±»å‹æœ€åè½¬æ¢ä¸ºIntç±»å‹ã€‚</p>
<img data-src="/2017/07/15/%E4%BD%BF%E7%94%A8Mybatis%E6%97%B6%E5%AF%B9%E4%BA%8EOracle%E4%B8%ADboolean%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86/setBooleanInternal.png" class="" title="setBooleanæ–¹æ³•çš„å®ç°">

<p>&emsp;&emsp;å› æ­¤ï¼Œåœ¨åšinsertã€updateæ“ä½œæ—¶ï¼Œç”¨decodeè¿›è¡Œå¤„ç†ï¼Œå³å¯å°†true/falseè½¬æ¢æˆè‡ªå·±æƒ³è¦çš„å€¼ã€‚æˆ‘é€šå¸¸ç”¨Y/Nè¡¨ç¤ºçŠ¶æ€ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">decode(#&#123;enabled&#125;, <span class="number">1</span>, <span class="string">&#x27;Y&#x27;</span>, <span class="string">&#x27;N&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h1 id="DBä¸ºOracleæ—¶ï¼Œå°†æŸ¥è¯¢ç»“æœè½¬æ¢ä¸ºbooleanç±»å‹"><a href="#DBä¸ºOracleæ—¶ï¼Œå°†æŸ¥è¯¢ç»“æœè½¬æ¢ä¸ºbooleanç±»å‹" class="headerlink" title="DBä¸ºOracleæ—¶ï¼Œå°†æŸ¥è¯¢ç»“æœè½¬æ¢ä¸ºbooleanç±»å‹"></a>DBä¸ºOracleæ—¶ï¼Œå°†æŸ¥è¯¢ç»“æœè½¬æ¢ä¸ºbooleanç±»å‹</h1><p>&emsp;&emsp;åŒæ ·ï¼Œç”±TypeHandlerä½œä¸ºå…¥å£ï¼ŒæŸ¥çœ‹Mybatisçš„å¤„ç†æ–¹å¼ã€‚é’ˆå¯¹ä¸åŒæƒ…å†µï¼Œæœ‰ä¸‰ç§å¤„ç†æ–¹æ³•ï¼Œæ ¹æ®å…¥å‚å¤§ä½“å¯ä»¥çŒœåˆ°æ¯ä¸ªæ–¹æ³•çš„ä½œç”¨ï¼Œæ­¤å¤„ä¸åšå±•å¼€ã€‚æŒ‘é€‰ä¸€ä¸ªæ–¹æ³•æ·±å…¥ï¼Œæœ€ç»ˆæ‰¾åˆ°getBooleançš„å®ç°ã€‚</p>
<img data-src="/2017/07/15/%E4%BD%BF%E7%94%A8Mybatis%E6%97%B6%E5%AF%B9%E4%BA%8EOracle%E4%B8%ADboolean%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86/TypeHandler.png" class="" title="TypeHandlerç±»">

<p>&emsp;&emsp;ä¸‹å›¾ä¸­getBooleanæ–¹æ³•å±äºResultSetç±»ï¼Œåœ¨JDKä¸­rt.jaråŒ…ä¸­ï¼ˆæˆ‘çš„ç¯å¢ƒä¸ºJDK1.8ï¼‰ã€‚æ ¹æ®æ³¨é‡Šæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¦‚æœå€¼ä¸ºå¦‚ä¸‹ç±»å‹çš„ 0ï¼Œè¿”å›ç»“æœä¸ºfalseï¼›å¦‚æœå€¼ä¸ºå¦‚ä¸‹ç±»å‹çš„1ï¼Œè¿”å›trueã€‚</p>
<img data-src="/2017/07/15/%E4%BD%BF%E7%94%A8Mybatis%E6%97%B6%E5%AF%B9%E4%BA%8EOracle%E4%B8%ADboolean%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86/getBoolean.png" class="" title="getBooleanæ–¹æ³•çš„å®ç°">

<p>&emsp;&emsp;æ‰€ä»¥å½“ä½ å¸Œæœ›å°†ResultSetä¸­çš„æŸä¸ªå±æ€§è½¬æ¢ä¸ºbooleanç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ã€‚enabledä¸ºå­—æ®µåç§°ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">decode(enabled, <span class="string">&#x27;Y&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;N&#x27;</span>, <span class="number">0</span>) enabled</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title>å› ä¸ºè½¯è¿æ¥å¯¼è‡´mybatisæ— æ³•æ­£å¸¸å¯åŠ¨</title>
    <url>/2021/11/16/%E5%9B%A0%E4%B8%BA%E8%BD%AF%E8%BF%9E%E6%8E%A5%E5%AF%BC%E8%87%B4mybatis%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<p>â€‹    æœ€è¿‘æ¥æ‰‹çš„ä¸€ä¸ªé¡¹ç›®ï¼ŒæŠ•äº§ä¸Šçº¿ï¼Œé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªé—®é¢˜æ¯”è¾ƒæœ‰æ„æ€ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    ç®€å•è¯´ä¸‹èƒŒæ™¯ï¼Œæˆ‘ä»¬çš„åº”ç”¨æ˜¯SpringBoot+Mybatisï¼Œé€šè¿‡å†…éƒ¨CIå·¥å…·éƒ¨ç½²ä¸åŒç¯å¢ƒï¼Œåœ¨devã€stgã€uatç¯å¢ƒéƒ½æ²¡é—®é¢˜ï¼ŒæŠ•äº§æ—¶å¯åŠ¨æŠ¥é”™ï¼Œé”™è¯¯æ—¥å¿—å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Caused by: java.lang.IllegalArgumentException: Mapped Statements collection already contains value <span class="keyword">for</span> com.yicallv1.dao.AgentSkillMapper.create. please check URL [jar:file:/<span class="built_in">export</span>/package/iim-thirdparty-prod-20211112T123635026/lib/iim-thirdparty-1.0.1.jar!/BOOT-INF/classes!/sqlmap/AgentSkillMapper.xml] and URL [jar:file:/<span class="built_in">export</span>/server/iim-thirdparty/lib/iim-thirdparty-1.0.1.jar!/BOOT-INF/classes/sqlmap/AgentSkillMapper.xml]</span><br><span class="line">	at org.apache.ibatis.session.Configuration<span class="variable">$StrictMap</span>.put(Configuration.java:1014) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.session.Configuration<span class="variable">$StrictMap</span>.put(Configuration.java:970) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.session.Configuration.addMappedStatement(Configuration.java:768) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.builder.MapperBuilderAssistant.addMappedStatement(MapperBuilderAssistant.java:297) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.builder.xml.XMLStatementBuilder.parseStatementNode(XMLStatementBuilder.java:113) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildStatementFromContext(XMLMapperBuilder.java:138) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildStatementFromContext(XMLMapperBuilder.java:131) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:121) ~[mybatis-3.5.6.jar!/:3.5.6]</span><br><span class="line">	... 94 common frames omitted</span><br></pre></td></tr></table></figure>

<h2 id="æ’æŸ¥"><a href="#æ’æŸ¥" class="headerlink" title="æ’æŸ¥"></a>æ’æŸ¥</h2><p>â€‹    åˆšå¼€å§‹çœ‹è¿™ä¸ªé—®é¢˜æœ‰ç‚¹æ‡µï¼Œå…ˆåæ£€æŸ¥mapperæ–‡ä»¶åã€ç”Ÿäº§jaråŒ…åç¼–è¯‘ã€ç”Ÿäº§ä¸»æœºæ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€ç¯å¢ƒç­‰ï¼Œéƒ½æ²¡æœ‰é—®é¢˜ã€‚åæ¥ä»”ç»†çœ‹äº†ä¸‹æŠ¥é”™ï¼Œæç¤º<br><code>/export/package/iim-thirdparty-prod-20211112T123635026/lib/iim-thirdparty-1.0.1.jar!/BOOT-INF/classes!/sqlmap/AgentSkillMapper.xml</code></p>
<p>ä¸</p>
<p><code>/export/server/iim-thirdparty/lib/iim-thirdparty-1.0.1.jar!/BOOT-INF/classes/sqlmap/AgentSkillMapper.xml</code></p>
<p>æ–‡ä»¶é‡åã€‚è·Ÿè¿ç»´æ²Ÿé€šï¼Œå‘ç°ç”Ÿäº§ç¯å¢ƒä¸å…¶ä»–ç¯å¢ƒä¸ä¸€è‡´ï¼Œä¼šå¯¹jaråŒ…æ‰€åœ¨ç›®å½•ç®€å†ä¸€ä¸ªè½¯è¿æ¥ã€‚åŒ…å®é™…è·¯å¾„ä¸ºä¸Šé¢çš„è·¯å¾„ï¼Œè½¯è¿æ¥è·¯å¾„ä¸ºä¸‹é¢çš„è·¯å¾„ï¼Œä¸ºäº†ç»Ÿä¸€ç”Ÿäº§å¯åŠ¨è„šæœ¬ï¼Œè„šæœ¬ä¸­å¯åŠ¨jaråŒ…çš„å‘½ä»¤ï¼Œéƒ½æ˜¯ä½¿ç”¨è½¯è¿æ¥è·¯å¾„ã€‚</p>
<p>â€‹    åˆ°è¿™é‡Œï¼Œå¯ä»¥åˆ†æå‡ºæ¥ï¼Œmybatisåœ¨æœåŠ¡å¯åŠ¨æ‰«æmapperæ–‡ä»¶æ—¶ï¼Œåº”è¯¥æ˜¯å°†çœŸå®è·¯å¾„ã€è½¯è¿æ¥è·¯å¾„éƒ½æ‰«äº†ä¸€éï¼Œæ‰€ä»¥æ‰€æœ‰çš„mapperæ–‡ä»¶æ‰ä¼šæç¤ºæœ‰é‡åã€‚</p>
<p>â€‹    å†è¿›ä¸€æ­¥åˆ†æä»£ç ï¼ŒåŠ è½½mapperæ–‡ä»¶çš„é…ç½®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<p><code>bean.setMapperLocations(resolver.getResources(&quot;classpath*:**/sqlmap/*.xml&quot;));</code></p>
<p>é—®é¢˜åº”è¯¥å‡ºåœ¨<code>classpath*</code>ä¸Šï¼Œmybatisä¼šéå†æ‰€æœ‰çš„classpathï¼Œå…¶ä¸­åŒ…æ‹¬äº†çœŸå®è·¯å¾„ã€è½¯è¿æ¥è·¯å¾„ã€‚è‡³æ­¤ï¼Œæ‰¾åˆ°åŸå› ï¼Œå¹¶æœ€ç»ˆä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š</p>
<p><code>bean.setMapperLocations(resolver.getResources(&quot;classpath:sqlmap/*.xml&quot;));</code></p>
]]></content>
      <categories>
        <category>Backend</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤–åœ°é©¾ç…§æ›´æ¢ä¸Šæµ·é©¾ç…§</title>
    <url>/2017/06/05/%E5%A4%96%E5%9C%B0%E9%A9%BE%E7%85%A7%E6%9B%B4%E6%8D%A2%E4%B8%8A%E6%B5%B7%E9%A9%BE%E7%85%A7/</url>
    <content><![CDATA[<p>&emsp;&emsp;é©¾ç…§è¿‘æœŸå†…è¿‡æœŸï¼Œç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œå¤–åœ°æˆ·å£ä¹Ÿå¯ä»¥åœ¨ä¸Šæµ·æ¢é©¾ç…§ï¼Œçœå»å›å®¶çš„èˆŸè½¦åŠ³é¡¿ã€‚æŒºå¥½ã€‚</p>
<h3 id="Round-1"><a href="#Round-1" class="headerlink" title="Round 1"></a>Round 1</h3><p>&emsp;&emsp;å› ä¸ºä½åœ¨æµ¦ä¸œï¼ŒæŸ¥åˆ°æ¨é«˜ä¸­1500å·å‘¨å…­ä¹Ÿä¸Šç­ã€‚è¶æŸå‘¨å…­æœ‹å‹èšä¼šï¼Œæ•£åœºåèµ¶ç´§åå…¬äº¤è¿‡å»ï¼Œå¥½åœ¨ä¸è¿œã€‚ç«™åœ¨æ¨é«˜ä¸­è·¯1500å‰ï¼Œåå¤åœ¨åœ°å›¾ä¸Šç¡®è®¤ï¼Œæ˜¯å¦æ¥å¯¹åœ°æ–¹äº†ã€‚é¢å‰æ˜¯ä¸€ç‰‡åºŸå¢Ÿã€‚å¿ƒä¸­ä¸€ç¾¤æ–¯å·´è¾¾è‰æ³¥é©¬åœ¨å’†å“®ã€‚ä½†æ˜¯æˆ‘ä¸èƒ½è¡¨ç°å‡ºæ¥ã€‚</p>
<p>&emsp;&emsp;ä¸èƒ½æ¥å—ç°å®çš„å¤§è„‘æ‹’ç»å·¥ä½œäº†10ç§’ã€‚é‡æ–°èšç„¦çš„çœ¼ç›å‘ç°äº†æ®‹ç•™çš„ä¸€é¢å¢™ï¼ˆæˆ‘è®°å¾—å½“æ—¶æœ‰æ‹ï¼Œå´æ‰¾ä¸åˆ°äº†ï¼‰ï¼Œå¢™ä¸Šæ˜¯è“åº•å‘Šç¤ºï¼Œè¿˜è´´äº†è­¦å¾½é‚£ç§ï¼Œç‰¹æ­£å¼ã€‚ä¸Šé¢å†™äº†ä¸Šæµ·æ‰€æœ‰è½¦ç®¡æ‰€åœ°å€ã€‚æ¨é«˜ä¸­è·¯1500é‚£ä¸€æ ï¼Œè¢«é»‘è‰²ç­¾å­—ç¬”åˆ’æ‰ï¼Œä¸€ä¸ªç®­å¤´æŒ‡å‘è‹¥å¹²å­—ï¼Œä¸ç¾ã€ç‹‚é‡ã€æ´’è„±ï¼Œä¾ç¨€è¾¨è®¤å‡ºæ¥ï¼Œâ€œåº·æ¡¥è·¯1600å·â€ã€‚</p>
<p>KO.</p>
<h3 id="Round-2"><a href="#Round-2" class="headerlink" title="Round 2"></a>Round 2</h3><p>&emsp;&emsp;æ—¥å¸¸ä»»åŠ¡è¿˜æ˜¯è¦åšã€‚ç¬¬äºŒæ¬¡ï¼Œå¿ƒæƒ³è¿›åŸï¼ŒåŸé‡Œçš„è½¦ç®¡æ‰€è‚¯å®šé è°±ã€‚æ¥åˆ°äº†å—äº¬è¥¿è·¯1550å·ã€‚è¿™æ¬¡æ¥¼ä¸ä»…åœ¨ï¼Œè€Œä¸”è¿˜æœ‰äººğŸ˜¯ã€‚ä¸ç¦ä¸ºè‡ªå·±çš„æ™ºå•†ç‚¹èµã€‚ç§è§åˆ«äººè¿›å»éƒ½åœ¨é—¨å£ç™»è®°ï¼Œæˆ‘ä¹Ÿä¸Šå»åˆ·åˆ·åˆ·ä¸€é€šå†™ã€‚è¿˜æ²¡å†™å®Œï¼Œé‡Œå±‹çš„50å²å·¦å³çš„å¤§å“¥ï¼ˆç°åœ¨è¿™ä¸ªå¹´é¾„æ®µæ¯”è¾ƒå°´å°¬ï¼Œé‡è§äººä¸çŸ¥é“è¯¥å–Šå¤§å“¥ï¼Œè¿˜æ˜¯å¤§çˆ·ã€‚å°±å¤§å“¥å§ï¼‰ï¼Œâ€œå¹²å•¥å¹²å•¥ï¼Œä½ å†™å•¥ï¼Œä½ æ¥æŠ¥æ¡ˆå•Šï¼Ÿâ€ï¼Œâ€œä¸æ˜¯ï¼Œæˆ‘æ¥æ¢é©¾ç…§ã€‚â€ï¼Œâ€œæ—©æ¬äº†ï¼Œä½ å»å¤©ç›®ä¸­è·¯600å·â€ã€‚</p>
<p>&emsp;&emsp;å–”ã€‚</p>
<p>&emsp;&emsp;å¥½åœ¨æœ‰æ‘©æ‹œã€‚30åˆ†é’Ÿåï¼Œæˆ‘åˆ°é—¨å£äº†ã€‚è¿™æ¬¡æˆ‘æœºçµäº†ï¼Œå…ˆé—®äº†é—¨å£20æ¥å²çš„å¤§å…„å¼Ÿï¼Œâ€œä½ å¥½ï¼Œè¿™é‡Œèƒ½æ¢é©¾ç…§ä¸ï¼Ÿâ€ï¼Œâ€œå»å¤©ç›®ä¸­è·¯576å·â€ã€‚</p>
<p>&emsp;&emsp;å–”ã€‚</p>
<p>&emsp;&emsp;å¥½åœ¨è¿™æ¬¡ä¸è¿œï¼Œç»•åˆ°å‰é¢æ‹ä¸ªå¼¯å°±æ˜¯ã€‚ç¡®è®¤äº†è¿™é‡Œç¡®å®èƒ½æ¢é©¾ç…§åï¼Œå–å·ï¼Œæ‰¾äº†ä¸ªä½ç½®åä¸‹ï¼Œåäº†å£æ°”ã€‚èˆ’å¦ï¼Œç»ˆäºæ‰¾å¯¹ç»„ç»‡äº†ã€‚<br>æ¢é©¾ç…§éœ€è¦å¸¦ä¸Š1å¯¸ç…§ç‰‡ã€ä½“æ£€è¯æ˜ã€‚æ²¡æœ‰ä½“æ£€è¯æ˜ï¼Œè½¦ç®¡æ‰€ä¹Ÿæœ‰ä½“æ£€æœåŠ¡ï¼Œå°±æ˜¯å¹³å¸¸çš„èº«é«˜ã€ä½“é‡ã€è§†åŠ›ç­‰ï¼Œå¯ä»¥åƒæ—©é¥­ã€‚æˆ‘æ²¡æœ‰ä½“æ£€è¯æ˜ï¼Œç­‰çš„æ—¶å€™é—®äº†ä¸‹å·¥ä½œäººå‘˜ï¼Œä¸Šåˆ11ï¼š30ç»“æŸï¼Œä¸‹åˆ1ï¼š30å¼€å§‹ã€‚ç”±äºå‡ ç•ªæŠ˜è…¾ï¼Œæˆ‘åˆ°æ—¶æ­£å¥½11ï¼š32ã€‚æ²¡åŠæ³•ï¼Œç­‰å‘—ï¼Œåˆ°ä¸‹åˆä½“æ£€å®Œåå†åŠã€‚æœ‰äº†ä¸Šåˆçš„ç»å†ï¼Œæˆ‘æ²¡é©¬ä¸Šèµ°ã€‚å¾…ä¼šå«å·åˆ°æˆ‘æ—¶ï¼Œé—®æ¸…æ¥šä½“æ£€ã€åŠç†çš„æµç¨‹ï¼Œçœçš„å†å‡ºçº°æ¼ã€‚åˆ°æˆ‘äº†ã€‚èº«ä»½è¯ã€é©¾ç…§é€’è¿‡å»ã€‚ç›¸å¯¹æ— è¨€ã€‚å™¼é‡Œå•ªå•¦ä¸€é€šæ“ä½œï¼Œè¯´ï¼Œâ€œä½ æ˜¯å¤–åœ°é©¾ç…§ï¼Ÿâ€ï¼Œâ€œæ˜‚â€ï¼Œâ€œå¤–åœ°é©¾ç…§æ›´æ¢å¾—å»å“ˆå¯†è·¯1330å·â€ã€‚</p>
<p>&emsp;&emsp;å™—â€¦â€¦</p>
<p>&emsp;&emsp;é©¬ä¸åœè¹„ã€ç‰›ä¸åœçŠçš„ï¼Œæ—¶é—´åˆ»åº¦å¾€åæ‹¨70åˆ†é’Ÿï¼Œåœºæ™¯è½¬æ¢åˆ°å“ˆå¯†è·¯1330å·ã€‚é—¨å£å¾ˆå¤šç–‘ä¼¼é»„ç‰›çš„äººï¼Œæ²¡æ­ç†ï¼Œç›´æ¥è¿›å»ã€‚å¥½åœ¨è¿™æ¬¡ç¡®å®æ‰¾å¯¹ç»„ç»‡äº†ã€‚ä¸‹é¢æ˜¯å¤§å®¶å…³å¿ƒçš„æµç¨‹ï¼š</p>
<ol>
<li>å…ˆåˆ°10å·æ¥¼æ‹ç…§ï¼Œ25å…ƒï¼›</li>
<li>ç„¶ååˆ°9å·æ¥¼ä½“æ£€ï¼Œ60å…ƒï¼ˆè¿›é—¨å·¦è¾¹çª—å£é¢†ç…§ç‰‡ï¼Œè¡¨æ ¼ï¼Œå¡«è¡¨ï¼Œå…±ä¸¤å¼ ï¼Œç¼´è´¹ï¼Œç…§ç‰‡åƒä¸‡ä¸è¦å¼„ä¸¢äº†ï¼‰ï¼›</li>
<li>å‡ºé—¨å·¦è½¬ï¼Œçº¦20ç±³ï¼Œæœ‰ç‰Œå­æ ‡è¯†ï¼Œä¸ŠäºŒæ¥¼ä½“æ£€ï¼›</li>
<li>ä½“æ£€å®Œï¼Œå·¥ä½œäººå‘˜ä¼šæ”¶ä¸€å¼ ï¼ŒæŠŠå¦ä¸€å¼ ç›–ç« åç»™ä½ ã€‚ç„¶ååˆ°1å·æ¥¼åŠç†ï¼›</li>
<li>åˆ°1å·æ¥¼åï¼Œå…ˆåˆ°äºŒæ¥¼å¤å°èº«ä»½è¯ï¼Œ1å…ƒï¼ˆæœ‰å¤å°ä»¶ä¸ç”¨å»äº†ï¼‰ï¼›</li>
<li>å¤å°å¥½ååˆ°ä¸€æ¥¼å‰å°ï¼Œä»–ä»¬ä¼šå¸®å¿™è´´ç…§ç‰‡ã€å–å·ï¼ˆå·æ˜¯ä¸¤å¼ è¿ç€çš„ï¼Œæ³¨æ„ä¸è¦å¼„ä¸¢ï¼‰ï¼›</li>
<li>ç­‰ç€å«å·ï¼ŒåŠç†ï¼ˆå…±æœ‰ä¸¤ä¸ªæ˜¾ç¤ºå±ï¼Œ1å·æ˜¾ç¤ºå™¨æ˜¾ç¤ºåŠç†ï¼Œ2å·æ˜¾ç¤ºå™¨æ˜¾ç¤ºæ˜¯å–è¯ï¼‰ï¼›</li>
<li>åŠç†å®Œåå†åˆ°äºŒæ¥¼ç¼´è´¹ï¼Œ10å…ƒã€‚ç¼´è´¹åå†åˆ°ä¸€æ¥¼ï¼Œçœ‹2å·æ˜¾ç¤ºå™¨ï¼Œç­‰å–è¯ï¼ˆç¼´è´¹åæ‰å¼€å§‹åˆ¶ä½œï¼‰ï¼›</li>
<li>OKï¼Œå¯ä»¥å›å®¶äº†ã€‚</li>
</ol>
<p>&emsp;&emsp;PS: ä¹‹å‰ç½‘ä¸ŠæŸ¥åˆ°å¿…é¡»å¸¦å±…ä½è¯ï¼Œå®é™…æ²¡æœ‰ç”¨åˆ°ã€‚å½“æ—¶ç€æ€¥ï¼Œè¿˜æœ‰åˆ«çš„äº‹ï¼Œé™€èºä¼¼çš„åŠå®Œä¹Ÿæ²¡ç»†é—®ã€‚</p>
<h3 id="åæ§½"><a href="#åæ§½" class="headerlink" title="åæ§½"></a>åæ§½</h3><p>&emsp;&emsp;æ—¶é€¢ä¿¡æ¯æ—¶ä»£ï¼Œèº«å¤„å¤§ä¸Šæµ·ï¼ŒåŠç†çš„äº‹æƒ…ä¹Ÿæ˜¯æ™®ç½—å¤§ä¼—éƒ½ä¼šé‡åˆ°çš„äº‹æƒ…ã€‚å®é™…å´ä¸€æ³¢ä¸‰æŠ˜ã€‚æœ€å¼€å§‹æ‰“è¿‡ç”µè¯å’¨è¯¢ï¼Œå·¥ä½œäººå‘˜è¯´å¯ä»¥åŠï¼Œè¯¦æƒ…åˆ°å®˜ç½‘ä¸Šçœ‹ï¼Œç„¶ååŒ†åŒ†æŒ‚æ–­ã€‚ç™¾åº¦â€˜æ›´æ¢ä¸Šæµ·é©¾ç…§â€™ï¼Œæœç´¢å‡ºæ¥çš„ä¿¡æ¯åŸºæœ¬æ²¡ç”¨ï¼Œå¾ˆå¤šéƒ½æ˜¯å¹¿å‘Šã€‚æœ‰ä¸€ä¸ªç½‘ç«™å«â€˜ä¸Šæµ·é©¾ç…§æœåŠ¡ç½‘â€™ï¼ŒæœåŠ¡è´¹ç«Ÿç„¶350å…ƒã€‚æˆ‘å®é™…åŠç†ï¼Œæ€»å…±èŠ±è´¹ä¸åˆ°100å…ƒã€‚æœ‰ç½‘å‹è¯´æ˜¯é»„ç‰›ç½‘ç«™ï¼Œä¸çŸ¥çœŸå‡ã€‚å¦å¤–æœç´¢å‡ºæ¥çš„å¾ˆå¤šå¸–å­éƒ½å†™ç€â€˜ä¸Šæµ·é©¾ç…§æ¢è¯åœ°ç‚¹ä¸€è§ˆâ€™ã€‚æˆ‘å°±æ˜¯çœ‹äº†è¿™äº›ä¿¡æ¯ï¼Œæ·±å—å…¶å®³ã€‚è¿™äº›ä¿¡æ¯ä¸çŸ¥æ˜¯å¤šä¹…ä»¥å‰çš„ï¼Œå´è¢«ä¸€è½¬å†è½¬ã€‚å¤§å®¶å¦‚æœè¦æŸ¥è¯¢ä¿¡æ¯ï¼Œæœ€å¥½åˆ°<a href="https://sh.122.gov.cn/">ä¸Šæµ·äº¤é€šå®‰å…¨ç»¼åˆæœåŠ¡ç®¡ç†å¹³å°</a>æŸ¥è¯¢ã€‚åœ¨æœåŠ¡å¯¼èˆªèœå•é‡Œï¼Œå¯ä»¥é€‰æ‹©ä¸šåŠ¡ï¼Œåœ°å›¾ä¸Šæ˜¾ç¤ºå¯ä»¥åŠç†çš„åœ°å€ã€‚é’ˆå¯¹å¤–åœ°é©¾ç…§æ¢ä¸Šæµ·é©¾ç…§è¿™ç§ä¸šåŠ¡ï¼Œå´æ²¡æœ‰è¯´æ˜ã€‚ä¹Ÿå¯èƒ½æˆ‘æ²¡æ‰¾åˆ°ã€‚</p>
<h3 id="è¯—ã€å’Œè¿œæ–¹"><a href="#è¯—ã€å’Œè¿œæ–¹" class="headerlink" title="è¯—ã€å’Œè¿œæ–¹"></a>è¯—ã€å’Œè¿œæ–¹</h3><p><strong>å‡å¦‚ç”Ÿæ´»æ¬ºéª—äº†ä½ </strong></p>
<p>   <em>å‡å¦‚ç”Ÿæ´»æ¬ºéª—äº†ä½ </em><br>â€‹<br>   <em>ä¸è¦æ‚²ä¼¤ï¼Œä¸è¦å¿ƒæ€¥</em></p>
<p>   <em>å¿§éƒçš„æ—¥å­é‡Œéœ€è¦é•‡é™</em></p>
<p>   <em>ç›¸ä¿¡å§ï¼Œå¿«ä¹çš„æ—¥å­å°†ä¼šæ¥ä¸´</em></p>
<p>   <em>å¿ƒå„¿æ°¸è¿œå‘å¾€ç€æœªæ¥</em></p>
<p>   <em>ç°åœ¨å´å¸¸æ˜¯å¿§éƒ</em></p>
<p>   <em>ä¸€åˆ‡éƒ½æ˜¯ç¬æ¯</em></p>
<p>   <em>ä¸€åˆ‡éƒ½å°†ä¼šè¿‡å»</em></p>
<p>   <em>è€Œé‚£è¿‡å»äº†çš„</em></p>
<p>   <em>å°±ä¼šæˆä¸ºäº²åˆ‡çš„æ€€æ‹</em></p>
<p>   ğŸ™‚</p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨</title>
    <url>/2018/01/20/%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%EF%BC%8C%E5%BF%85%E5%85%88%E5%88%A9%E5%85%B6%E5%99%A8/</url>
    <content><![CDATA[<h1 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h1><table>
<thead>
<tr>
<th>è½¯ä»¶</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody><tr>
<td>Typora</td>
<td>mdç¼–è¾‘åˆ©å™¨ï¼ŒMacWebä¹Ÿä¸é”™</td>
</tr>
<tr>
<td>ç•ªèŒ„åœŸè±†(Pomotodo)</td>
<td>ç•ªèŒ„é’Ÿ+todoListï¼Œå…¨å¹³å°æ”¯æŒ</td>
</tr>
<tr>
<td>CheatSheet</td>
<td>æ‰€æœ‰è½¯ä»¶å¿«æ·é”®ï¼Œä¸€æŸ¥ä¾¿çŸ¥</td>
</tr>
<tr>
<td>IINA</td>
<td>è§†é¢‘æ’­æ”¾å™¨</td>
</tr>
<tr>
<td>ShadowsocksX</td>
<td>ç§‘å­¦ä¸Šç½‘è½¯ä»¶ï¼Œéœ€é…ç½®ssæœåŠ¡å™¨</td>
</tr>
<tr>
<td>CleanMyMac</td>
<td>ç›¸å½“äºç”µè„‘ç®¡å®¶</td>
</tr>
<tr>
<td>VSSHã€ SecureCRT for macã€ ssh tunnel macã€ SSH Shell for Mac</td>
<td>sshå®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>XMind ZEN</td>
<td>æ€ç»´å¯¼å›¾</td>
</tr>
<tr>
<td>PDF Expert</td>
<td>PDFå·¥å…·</td>
</tr>
<tr>
<td>HazeOver</td>
<td>ä¸“æ³¨åŠå…¬è½¯ä»¶ã€‚ç®€è€Œè¨€ä¹‹å¯ä»¥è®©ä½ ä¸“æ³¨åœ¨æ¿€æ´»çª—å£</td>
</tr>
<tr>
<td>Fliqlo</td>
<td>æ•°å­—æ—¶é’Ÿå±ä¿</td>
</tr>
<tr>
<td>æˆªå›¾</td>
<td>å¦‚å…¶åï¼Œå…¶å®è‡ªå¸¦çš„å¿«æ·é”®ä¹Ÿå¾ˆå¥½ç”¨ï¼Œä¸è¿‡ä¸èƒ½ç¼–è¾‘</td>
</tr>
<tr>
<td>Franz</td>
<td>å¤šé€šè®¯å·¥å…·æ•´åˆè½¯ä»¶ï¼Œæ”¯æŒWeChatã€twitterã€telegramã€githubã€steamã€facebookç­‰ã€‚å‡ä¸ºç½‘é¡µç‰ˆç™»å½•ã€‚</td>
</tr>
<tr>
<td>Alfred2</td>
<td>å¿«æ·è®¿é—®</td>
</tr>
<tr>
<td>Airmail</td>
<td>é‚®ä»¶å®¢æˆ·ç«¯</td>
</tr>
</tbody></table>
<h1 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h1><table>
<thead>
<tr>
<th>App</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody><tr>
<td>AppSo</td>
<td>Appæ¨èå¹³å°ï¼Œè€Œä¸”ç»å¸¸ä¼šæœ‰iOSé™å…é€šçŸ¥</td>
</tr>
<tr>
<td>XMind</td>
<td>æ€ç»´å¯¼å›¾è½¯ä»¶</td>
</tr>
<tr>
<td>SsrConnectPro</td>
<td>ç§‘å­¦ä¸Šç½‘è½¯ä»¶ï¼Œéœ€é…ç½®ssæœåŠ¡å™¨ã€‚ä¹‹å‰ç”¨openwingyï¼Œå¯æƒœä¸­å›½åŒºä¸‹æ¶äº†</td>
</tr>
<tr>
<td>Seed</td>
<td>è‹±æ–‡èµ„è®¯Appï¼Œå¯ä»¥ä¸€é”®ç¿»è¯‘ä¸­æ–‡</td>
</tr>
<tr>
<td>Podcasts</td>
<td>iOSè‡ªå¸¦</td>
</tr>
<tr>
<td>Lingvist</td>
<td>è‹±è¯­å•è¯å­¦ä¹ è½¯ä»¶</td>
</tr>
<tr>
<td>Seed</td>
<td>è‹±æ–‡èµ„è®¯è½¯ä»¶ï¼Œä¸€é”®ä¸­è‹±æ–‡å¯¹ç…§</td>
</tr>
<tr>
<td>è¡Œç¨‹åŠ©æ‰‹</td>
<td>æ—…æ¸¸è¡Œç¨‹è½¯ä»¶ï¼Œå¯ä»¥å¸®åŠ©ç”Ÿæˆè¡Œç¨‹å•ï¼Œè€Œä¸”å¯ä»¥åŠ å¥½å‹å…±äº«</td>
</tr>
</tbody></table>
<h1 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h1><table>
<thead>
<tr>
<th>App</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody><tr>
<td>å½±æ¢­(shadowsocks)</td>
<td>ç§‘å­¦ä¸Šç½‘è½¯ä»¶ï¼Œéœ€é…ç½®ssæœåŠ¡å™¨</td>
</tr>
<tr>
<td>AirDroidï¼ˆå¤šå¹³å°ï¼‰</td>
<td>è·¨å¹³å°æ–‡ä»¶ä¼ è¾“å·¥å…·</td>
</tr>
<tr>
<td>æ»´ç­”æ¸…å•</td>
<td>todo-listç±»App</td>
</tr>
</tbody></table>
<h1 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h1><table>
<thead>
<tr>
<th>App</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody><tr>
<td>everything</td>
<td>æœ¬åœ°æ–‡ä»¶æœç´¢è½¯ä»¶ï¼Œè‡ªå¸¦æœç´¢ç§’æˆæ¸£</td>
</tr>
<tr>
<td>Clover</td>
<td>æ–‡ä»¶çª—å£åˆå¹¶ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¹¦ç­¾</td>
</tr>
</tbody></table>
<h1 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h1><table>
<thead>
<tr>
<th>App</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody><tr>
<td>Secure Shell</td>
<td>SSHæ’ä»¶</td>
</tr>
<tr>
<td>Vimium</td>
<td>é€šè¿‡vimæ–¹å¼æ§åˆ¶æµè§ˆå™¨</td>
</tr>
<tr>
<td>å‰ªè—</td>
<td>ä½¿ç”¨å°è±¡ç¬”è®°çš„éƒ½æœ‰å§</td>
</tr>
<tr>
<td>æ²¹çŒ´</td>
<td>jsè„šæœ¬ç®¡ç†å™¨ï¼Œå¾ˆå¤šè„šæœ¬</td>
</tr>
</tbody></table>
<h1 id="å…¬ä¼—å·"><a href="#å…¬ä¼—å·" class="headerlink" title="å…¬ä¼—å·"></a>å…¬ä¼—å·</h1><table>
<thead>
<tr>
<th>App</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody><tr>
<td>36æ°ª</td>
<td>äº’è”ç½‘èµ„è®¯</td>
</tr>
<tr>
<td>å·®è¯„</td>
<td>æ¯”è¾ƒæ‚ï¼Œä»€ä¹ˆä¸“é¢˜éƒ½æœ‰</td>
</tr>
<tr>
<td>é¼ ç»˜æ¼«ç”»ç½‘</td>
<td>æ¼«ç”»</td>
</tr>
<tr>
<td>æ··å­æ›°</td>
<td>æ¼«ç”»çœ‹å†å²ã€èŠè½¦ã€‚ä¸è¿‡ç°åœ¨å¥½ä¹…æ‰æ¨ä¸€ç¯‡æ–‡ç« </td>
</tr>
<tr>
<td>æ—…è¡Œé›·è¾¾</td>
<td>æ—…è¡Œç±»</td>
</tr>
<tr>
<td>å°‘æ•°æ´¾</td>
<td>ä¼šæ¨ä¸€äº›Appã€ä»¥åŠä½¿ç”¨æ–‡ç« </td>
</tr>
<tr>
<td>AIå‰çº¿</td>
<td>AIç±»æ–‡ç« </td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>åºŠäº†ä¸ªå«</title>
    <url>/2020/11/12/%E5%BA%8A%E4%BA%86%E4%B8%AA%E5%9E%AB/</url>
    <content><![CDATA[<p>â€‹    å¹´è½»ä¸çŸ¥è…°é‡‘è´µï¼Œè€æ¥åªèƒ½é»˜æµæ³ªã€‚</p>
<p>â€‹    æœ€è¿‘ä½“æ£€æœ‰ç‚¹è…°çªï¼Œç„¶åå°±æƒ³æ¢ä¸ªåºŠå«ã€‚ä¹‹å‰ä¸€ç›´ç¡å¾—æ£•å«ï¼Œè€çˆ¸ä¸çŸ¥åœ¨ä»€ä¹ˆåœ°æ–¹ä¹°çš„ï¼Œå‡ ç™¾å—é’±ï¼Œç¡¬çš„è·Ÿå¹³æ¿ä¼¼çš„ã€‚ä¸€åº¦æ€€ç–‘è…°çªå°±æ˜¯ç¡å®ƒç¡å¾—ã€‚è€Œä¸”ä¸Šæµ·æ¢…é›¨å­£èŠ‚æ¯”è¾ƒæ½®ï¼ŒåŠ£è´¨çš„æ£•å«ä¼šå‘éœ‰ï¼Œå¥½å·§ä¸å·§æˆ‘ä»Šå¹´å‰é˜µå­çªç„¶æ„Ÿè§‰æœ‰ç‚¹é¼»ç‚ï¼Œå½“æ—¶æ‰¾äº†å¥½ä¹…åŸå› éƒ½æ²¡æ‰¾åˆ°ï¼Œç°åœ¨æƒ³æ¥ä¼°è®¡ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåºŠå«ã€‚</p>
<p>â€‹    æœ‰äººå¯èƒ½ä¼šé—®ï¼Œè…°çªä¸å°±æ˜¯åº”è¯¥ç¡ç¡¬åºŠå«å—ï¼Ÿè¿™é‡Œé¢å…¶å®ä¸€ç›´æœ‰ä¸ªè¯¯è§£ï¼Œç¡¬æ˜¯æœ‰ä¸€ä¸ªå‰æçš„ï¼Œæ˜¯è´´åˆäººä½“æ›²çº¿çš„â€œç¡¬â€ã€‚äººä½“çš„è…°éƒ¨æ˜¯åSæ›²çº¿ï¼Œå¦‚æœç¡åœ¨ç¡¬æ¿åºŠä¸Šï¼Œè…°éƒ¨æ˜¯æ‚¬ç©ºçš„ï¼Œåè€Œä¼šä½¿è…°çªåŠ å‰§ã€‚è½¯ä¹Ÿä¸è¡Œï¼Œå¤ªè½¯äº†è…°éƒ¨æ‰˜ä¸ä½ï¼Œç¡çœ æ—¶è…°éƒ¨è¿˜æ˜¯æ— æ³•æ”¾æ¾ã€‚</p>
<p>â€‹    ç°åœ¨çš„äººå¤šå¤šå°‘å°‘éƒ½ä¼šæœ‰ç‚¹è…°æ¤ã€é¢ˆæ¤ã€è…°è‚Œçš„é—®é¢˜ï¼Œæ‰€ä»¥é€‰ä¸ªå¥½åºŠå«ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚è¿™æ®µæ—¶é—´é™†é™†ç»­ç»­ä¹Ÿç¿»äº†å¾ˆå¤šèµ„æ–™ï¼Œåšä¸ªç¬”è®°ç•™ä¸ªè„šå°ã€‚</p>
<h1 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h1><h2 id="ä¹³èƒ¶åºŠå«"><a href="#ä¹³èƒ¶åºŠå«" class="headerlink" title="ä¹³èƒ¶åºŠå«"></a>ä¹³èƒ¶åºŠå«</h2><p>â€‹    è¿™é‡Œè¯´çš„æ˜¯å…¨è½¯èƒ¶åºŠå«ï¼Œä¸€èˆ¬å¼¹ç°§åºŠå«å¡«å……å±‚ä¹Ÿä¼šæ”¾ä¸€å±‚ä¹³èƒ¶ç‚’ä¸ªæ¦‚å¿µï¼Œä¸è¿‡æ‰”ç„¶åˆ’åˆ†åœ¨å¼¹ç°§åºŠå«é‡Œã€‚ä¹³èƒ¶çš„ä¼˜ç¼ºç‚¹éƒ½å¾ˆæ˜æ˜¾ï¼Œä¼˜ç‚¹æ˜¯é€æ°”æ€§å¥½ã€è´´åˆæ€§é«˜ï¼Œç¼ºç‚¹æ˜¯æ”¯æ’‘æ€§è¾ƒå·®ï¼Œè€Œä¸”éšç€æ—¶é—´å˜æˆä¼šæ°§åŒ–æˆé»„è‰²ã€‚åšå·¥å·®çš„ä¹³èƒ¶æœ€ç»ˆè¿˜ä¼šæ°§åŒ–æˆç²‰æœ«ã€‚</p>
<p>â€‹    éœ€è¦è¯´æ˜çš„ä¸€ç‚¹ï¼Œä½†å‡¡æ˜¯åšæˆåºŠå«çš„ä¹³èƒ¶ï¼Œå…¶å®éƒ½æ˜¯å·¥ä¸šä¹³èƒ¶ã€‚çœŸæ­£å¤©ç„¶çš„ä¹³èƒ¶æ˜¯æ¶²æ€çš„ï¼ŒğŸ‡¹ğŸ‡­çš„æ©¡èƒ¶æ ‘å†ç‰›é€¼ï¼Œä¹Ÿä¸å¯èƒ½é•¿å‡ºæ¥ä¸€å¼ åºŠå«å­ã€‚åŒºåˆ«åœ¨äºä¹³èƒ¶å‘æ³¡æ–¹å¼ã€ä¹³èƒ¶å«é‡ã€‚ä¹³èƒ¶åºŠå«æ°´ä¹Ÿæ˜¯æŒºæ·±çš„ï¼Œå¾ˆå¤šéƒ½åœ¨ç‚’æ³°å›½çš„æ¦‚å¿µã€‚å…¶å®å¾ˆå¤šéƒ½æ˜¯å›½å†…å‚é€ çš„ï¼Œå¤–é¢èµ°äº†ä¸€åœˆï¼Œå‡ºå£è½¬å†…é”€ï¼Œèº«ä»·éª¤å‡ã€‚å°±ç®—çœŸçš„æ˜¯ğŸ‡¹ğŸ‡­äº§çš„ï¼Œä¹Ÿæœªå¿…å¥½å¤šå°‘ï¼Œä»–ä»¬é‚£è¾¹æ˜¯åŸææ–™å¥½ï¼Œä½†æ˜¯å·¥è‰ºå·®ã€‚</p>
<p>â€‹    ä¸“ä¸šåšä¹³èƒ¶åºŠå«çš„é¦–æ¨é‚“ç¦„æ™®ï¼Œä¸è¿‡æˆ‘æ²¡å»ç¡è¿‡ã€‚æ–¯æ—ç™¾å…°çš„å–ç‚¹ä¹Ÿæ˜¯è½¯èƒ¶ï¼Œä»–ä»¬å®¶çš„å¼¹ç°§åºŠå«ä¹³èƒ¶å±‚éƒ½å¾ˆåšï¼Œæœ€åšçš„æœ‰10å…¬åˆ†ã€‚ç¡æ„Ÿåè½¯ï¼Œå¥³å­©å­å¯èƒ½ä¼šå–œæ¬¢ã€‚</p>
<h2 id="æ£•å«"><a href="#æ£•å«" class="headerlink" title="æ£•å«"></a>æ£•å«</h2><p>â€‹    åˆ†å±±æ£•å’Œæ¤°æ£•ï¼Œä¹Ÿæ˜¯å›½å†…æ¯”è¾ƒå®¹æ˜“ç‚’çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ·±å—ä¸­è€å¹´ç¾¤ä½“å–œçˆ±ï¼Œé”€å”®åŸºæœ¬éƒ½ä¼šè¯´è€å¹´äººé€‚åˆç¡ç¡¬çš„åºŠå«ã€‚å®é™…ä¸Šç¡æ„Ÿè·Ÿç¡¬æ¿å·®ä¸å¤šï¼Œè…°éƒ¨æ²¡æœ‰æ”¯æ’‘ï¼Œè´´åˆæ€§ä¹Ÿå·®ï¼ŒçœŸçš„æ˜¯ä¸å»ºè®®ä¸­è€å¹´äººç¡ã€‚å¦å¤–å—æ–¹æ¢…é›¨å­£èŠ‚å®¹æ˜“æ½®æ¹¿ï¼Œä¹Ÿä¸æ¨èç¡æ£•å«ã€‚</p>
<p>â€‹    æ£•å«æˆ‘åŸºæœ¬æ²¡ä½“éªŒï¼Œç©—å®å®¶è²Œä¼¼æŒºå¤šçš„ã€‚</p>
<h2 id="è®°å¿†æ£‰åºŠå«"><a href="#è®°å¿†æ£‰åºŠå«" class="headerlink" title="è®°å¿†æ£‰åºŠå«"></a>è®°å¿†æ£‰åºŠå«</h2><p>â€‹    è®°å¿†æ£‰çš„è´´åˆæ€§ä¹Ÿå¾ˆå¥½ï¼Œåšçš„å¥½çš„æ”¯æ’‘æ€§ä¹Ÿé«˜ï¼Œä¸è¿‡é€æ°”æ€§å·®ï¼Œç¡æ„Ÿåçƒ­ã€‚</p>
<p>â€‹    è¿™ä¸ªä¹Ÿæ²¡è¯•ç¡è¿‡ï¼Œå¬è¯´æ³°æ™®å°”çš„å¾ˆå¥½ï¼Œ20å¤šå…¬åˆ†å…¨æ˜¯è®°å¿†æ£‰ï¼Œæœ‰ç¡åœ¨äº‘ç«¯çš„æ„Ÿè§‰ã€‚ä¸è¿‡ä¸€ä¸ªå«å­ä¹Ÿåœ¨2wå·¦å³äº†ï¼Œä»·æ ¼ä¹Ÿæ˜¯ä¸ä½ã€‚</p>
<h2 id="å¼¹ç°§åºŠå«"><a href="#å¼¹ç°§åºŠå«" class="headerlink" title="å¼¹ç°§åºŠå«"></a>å¼¹ç°§åºŠå«</h2><h3 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h3><p>â€‹    ç»ˆäºåˆ°äº†æœ€å¤æ‚ã€æœ€å¸¸è§çš„å¼¹ç°§åºŠå«äº†ã€‚å¼¹ç°§åºŠå«æ€»å…±3éƒ¨åˆ†ç»„æˆï¼Œå¼¹ç°§ã€å¡«å……ã€é¢æ–™ã€‚</p>
<p>â€‹    å¼¹ç°§æ˜¯æ•´ä¸ªåºŠå«çš„æ ¸å¿ƒï¼Œæ”¯æ’‘æ€§å¦‚ä½•ã€æœ‰æ²¡æœ‰å¼‚å“ã€å¯ä»¥æ‰¿å—å¤šå°‘æ¬¡çš„å‹ç¼©ç­‰ï¼Œéƒ½å¯¹å¼¹ç°§åºŠå«çš„å¯¿å‘½æœ‰å½±å“ã€‚å¼¹ç°§ä¹Ÿæ˜¯äº”èŠ±å…«é—¨ï¼Œæ ¹æ®ææ–™ã€å½¢çŠ¶ã€é«˜åº¦ã€ä¸å¾„ç²—ç»†ã€æ’åˆ—æ–¹å¼ã€é»åˆæ–¹å¼ç­‰ä¸åŒåˆå¯ä»¥æœ‰å„ç§é«˜å¤§ä¸Šçš„åç§°ã€‚</p>
<p>â€‹    å¡«å……å±‚å†³å®šçš„æ˜¯åºŠå«è½¯ä¸è½¯ï¼Œè¿™å±‚ä¸€èˆ¬ä¼šæœ‰å¥½å‡ å±‚ï¼ŒXXæ£‰å•Šã€XXä¹³èƒ¶å•Šã€XX3Dææ–™å•Šã€XXæ£•å•Šï¼Œæ„Ÿè§‰ä»€ä¹ˆææ–™éƒ½å¯ä»¥å¾€æ”¾ï¼Œç„¶åå¯ä»¥è¹­ä¸ªæ¦‚å¿µã€‚æœ‰äº›å‚å®¶å¯èƒ½æ”¾äº†1å…¬åˆ†éƒ½ä¸åˆ°çš„ä¹³èƒ¶ï¼Œå°±å¼€å§‹å®£ä¼ æ˜¯ä¹³èƒ¶åºŠå«ã€‚</p>
<p>â€‹    é¢æ–™å±‚ç›¸å¯¹æ¥è¯´ç®€å•ä¸€ç‚¹ï¼Œä¸€èˆ¬ä¸»æ‰“é˜²è¨ã€é“¶ç¦»å­æ€èŒã€äº²è‚¤ä¹‹ç±»ã€‚</p>
<p>â€‹    æˆ‘ä¸ªäººè§‰å¾—é€‰è´­å¼¹ç°§åºŠå«ä¸ç”¨å¤ªæŠŠé”€å”®è¯´çš„å½“å›äº‹ã€‚æ¯”å¦‚æŸå®¶åºŠå«å¡«å……å±‚å°±ç‚’äº†ä¸ªæ¦‚å¿µç«å±±æ£‰ã€å†°é›ªæ£‰ï¼Œè¿˜å°åœ¨å®£ä¼ é¡µä¸Šã€‚å®é™…ç¡çš„æ—¶å€™æ˜¯å¦èƒ½å¤Ÿéš”ç€åºŠå•ã€é¢æ–™æ„Ÿå—åˆ°è¿™äº›è®¸å·®å¼‚ï¼ŒçœŸçš„è¦æ‰“ä¸ªé—®å·ã€‚</p>
<p>â€‹    å¦å¤–å‘¢ï¼Œå¾ˆå¤šäººä»¥ä¸ºå¼¹ç°§åºŠå«å°±å«å¸­æ¢¦æ€ï¼Œå…¶å®ä¸æ˜¯çš„ã€‚ç‹¬ç«‹è¢‹è£…å¼¹ç°§çš„ç”Ÿäº§æœºå™¨æœ€æ—©æ˜¯å¸­æ¢¦æ€ç ”å‘å‡ºæ¥çš„ï¼Œç„¶åå…¶ä»–åºŠå«çº·çº·ä½¿ç”¨ï¼Œä¸ºäº†è¥é”€ä¹Ÿéƒ½è¯´è‡ªå·±æ˜¯å¸­æ¢¦æ€ã€‚</p>
<h3 id="å¼¹ç°§ç±»å‹"><a href="#å¼¹ç°§ç±»å‹" class="headerlink" title="å¼¹ç°§ç±»å‹"></a>å¼¹ç°§ç±»å‹</h3><p>â€‹    å¼¹ç°§ç±»å‹äº”èŠ±å…«é—¨ï¼Œæ€»ä½“ä¸Šæ¥è¯´åˆ†3ç±»ï¼Œç‹¬ç«‹è¢‹ã€ç¾å§¿å¼¹ç°§ã€å¦™è€Œæ‰£ã€‚è¿™ä¹ˆåˆ†ä¸»è¦æ˜¯æ ¹æ®å¼¹ç°§ç»“æ„åˆ†çš„ï¼Œå…¶ä»–çš„ç§ç±»åŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥è¿™3ç§ä¸ºåŸºç¡€å»¶ä¼¸å‡ºæ¥çš„ï¼Œç„¶åèµ·ä¸ªæ–°å¥‡çš„åå­—ï¼Œå°±å¼€å§‹å®£ä¼ äº†ã€‚</p>
<h4 id="ç‹¬ç«‹è¢‹"><a href="#ç‹¬ç«‹è¢‹" class="headerlink" title="ç‹¬ç«‹è¢‹"></a>ç‹¬ç«‹è¢‹</h4><p>â€‹    æœ€å¸¸è§çš„å¼¹ç°§ç§ç±»ï¼Œç»“æ„å¾ˆç®€å•ï¼Œå°†ç­’çŠ¶çš„å¼¹ç°§è£…åœ¨çººç»‡è¢‹ä¸­ï¼Œæ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹çš„ä¸ªä½“ï¼Œç„¶åå°†ç­’å­ç»„è£…æ’åˆ—èµ·æ¥ã€‚æ ¹æ®å¼¹ç°§å¤§å°ä¸åŒï¼ŒåŒæ ·å°ºå¯¸çš„åºŠå«ä¸­ç­’å­ä¸ªæ•°ä¹Ÿä¸åŒã€‚ä¸€èˆ¬æ¥è¯´ä¸€å¼ 1.8*2mçš„åºŠå«å·®ä¸å¤š800ä¸ªå¼¹ç°§å·¦å³ã€‚</p>
<p>â€‹    ç‹¬ç«‹è¢‹æœ€å¤§çš„ç‰¹ç‚¹å‘¢å°±æ˜¯æŠ—å¹²æ‰°æ€§å¥½ï¼Œè¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œç­’å­ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„å˜›ã€‚ä»¥å‰çœ‹åˆ°è¿‡ä¸€ä¸ªåºŠå«æµ‹è¯„çš„è§†é¢‘ï¼Œåœ¨ä¸€è§’æ”¾äº†ä¸€ä¸ªğŸ·ï¼Œç„¶åæœ‰ä¸ªäººä»æ—è¾¹è·³åˆ°åºŠå«ä¸Šç©ºä¿æŒç›˜è…¿çš„å§¿åŠ¿è½åˆ°åºŠå«ä¸Šï¼Œé…’æ¯é‡Œçš„çº¢é…’è¿ä¸ªæ¶Ÿæ¼ªéƒ½æ²¡æœ‰ã€‚å½“æ—¶çœ‹äº†è¿˜è§‰å¾—å¥½ç¥å¥‡ï¼Œå“ˆå“ˆå“ˆã€‚</p>
<p>â€‹    å¦å¤–ç¯ä¿æ–¹é¢å¯èƒ½å·®ä¸€ç‚¹ï¼Œå› ä¸ºç­’å­ä¹‹é—´çš„çººç»‡è¢‹ä¹Ÿè¦å›ºå®šï¼Œæœ‰äº›å‚å®¶ä¼šç”¨èƒ¶ã€‚äº†è§£ä¸€ç‚¹å®¶è£…çŸ¥è¯†çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œèƒ¶é‡Œé¢åŸºæœ¬éƒ½ä¼šæœ‰ç”²é†›çš„ï¼Œè¿™ä¸ªä¸€å®šè¦æ³¨æ„ä¸€ä¸‹ã€‚ä¹Ÿæœ‰äº›å‚å®¶é‡‡ç”¨å…¶ä»–æ–¹å¼å›ºå®šï¼Œæ¯”å¦‚ç¼èµ·æ¥ï¼Œè¿™ç§å‘¢è´¹æ—¶è´¹åŠ›ï¼Œæ¯”è¾ƒå°‘ã€‚</p>
<p>â€‹    ä½¿ç”¨å¯¿å‘½æ–¹é¢åŸºæœ¬éƒ½æ˜¯10å¹´è´¨ä¿ï¼Œè¿™ä¸ªä»€ä¹ˆè¯´çš„ã€‚</p>
<p>â€‹    ä½¿ç”¨çš„æè´¨åŸºæœ¬ä¸Šé«˜é”°é’¢ã€é«˜çŒ›ç¢³é’¢ï¼Œå…·ä½“å·®åˆ«å¦‚ä½•æ²¡åšè¿‡æ·±ç©¶ï¼Œæˆ‘è§‰å¾—åº”è¯¥å·®åˆ«ä¸å¤§ã€‚</p>
<p>â€‹    å¦å¤–éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¼¹ç°§çš„ä¸å¾„å’Œé‡é‡ã€‚æœ‰äº›å‚å•†å‘¢å…‰å¹å˜˜è‡ªå·±åºŠå«çš„çš„æ•°é‡æœ€å¤šï¼Œæœ‰å¯èƒ½åœ¨å¼¹ç°§ä¸Šç¼©æ°´ï¼Œä¸å¾„å¤ªç»†æ”¯æ’‘æ€§å°±å·®å¾ˆå¤šï¼Œè€Œä¸”ä¹Ÿå®¹æ˜“æ–­ã€‚</p>
<h4 id="ç¾å§¿å¼¹ç°§"><a href="#ç¾å§¿å¼¹ç°§" class="headerlink" title="ç¾å§¿å¼¹ç°§"></a>ç¾å§¿å¼¹ç°§</h4><p>â€‹    ä¸æ¶Ÿçš„çœ‹å®¶æœ¬é¢†ï¼Œä¹Ÿå«LFKå¼€å£å¼¹ç°§ï¼Œç»“æ„æ˜¯ç›¸é‚»çš„å¼¹ç°§ä¹‹é—´è¢«ä¸€ç»„æ¨ªç€çš„å¼¹ç°§æ†ç»‘åœ¨äº†ä¸€èµ·ï¼Œå½“æœ‰é‡å‹çš„æ—¶å€™å¼¹ç°§å‘ä¸‹å‹ç¼©ï¼ŒåŒæ—¶æœ€ä¸Šé¢å¼€å£ä¹Ÿä¼šè¢«æ‹‰å¤§ã€‚å¦‚æœè„‘è¡¥ä¸å‡ºæ¥å‘¢å¯ä»¥ä¸Šç½‘æœä¸€ä¸‹åŠ¨å›¾ã€‚</p>
<p>â€‹    ç¾å§¿æœ€å¤§çš„ç‰¹ç‚¹æ˜¯è´´åˆæ€§å¥½ï¼Œä¼šéšç€é‡ç‰©çš„æ›²çº¿å˜åŒ–ã€‚è¿™ç‚¹å‘¢æˆ‘è§‰å¾—æ›´é€‚åˆè…°ä¸å¥½çš„åŒå­¦ã€‚</p>
<p>â€‹    ç¯ä¿æ–¹é¢æ¯”ç‹¬ç«‹è¢‹å¥½ï¼Œå› ä¸ºå¼¹ç°§ä¹‹é—´æ˜¯ç”¨é’¢ä¸è¿èµ·æ¥çš„ï¼Œè€Œä¸æ˜¯èƒ¶ã€‚</p>
<p>â€‹    å¯¿å‘½åŸºæœ¬ä¹Ÿæ˜¯10å¹´è´¨ä¿ã€‚</p>
<p>â€‹    æè´¨ä¹Ÿå·®ä¸å¤šã€‚å¼¹ç°§å˜›ï¼Œæœ€ç»ˆçš„å½¢çŠ¶å¯èƒ½ä¸åŒï¼ŒåŸææ–™éƒ½æ˜¯ä¸€æ ·å¤§çš„ã€‚</p>
<h4 id="å¦™è€Œæ‰£"><a href="#å¦™è€Œæ‰£" class="headerlink" title="å¦™è€Œæ‰£"></a>å¦™è€Œæ‰£</h4><p>â€‹    èˆ’è¾¾çš„æ‹›ç‰Œï¼ŒåŸºæœ¬ä¸Šåªæœ‰ä»–å®¶æœ‰ã€‚å®ƒçš„ç»“æ„ç¨å¾®å¤æ‚ä¸€ç‚¹ã€‚ç³–ç”»å¤§å®¶éƒ½è§è¿‡å§ï¼ŒæŠŠç³–åŠ çƒ­æˆæ¶²ä½“ï¼Œç„¶ååœ¨æ¿ä¸Šç”»å‡ºå„ç§å½¢çŠ¶ã€‚æ‰‹è‰ºäººä½œç”»æ—¶åŸºæœ¬ä¸Šéƒ½æ˜¯ä»å¤´åˆ°å°¾ä¸€æ°”å‘µæˆã€‚å¦™è€Œæ‰£ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä»å¤´åˆ°å°¾ä¸€ä¸ªé’¢ä¸è´¯ç©¿åˆ°åº•ã€‚</p>
<p>â€‹    å¦™è€Œæ‰£æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯æ‰¿é‡æ€§å¥½ï¼Œéšä¾¿ä½ æ€ä¹ˆå‹æ€ä¹ˆé€ ã€‚èˆ’è¾¾åº—é‡Œçš„é”€å”®å½“æ—¶è·Ÿæˆ‘ä»¬è¯´ï¼Œä¹‹å‰å…¬å¸ä¸“é—¨æ‰¾äº†è¾†å¤§å¡è½¦ä»å¦™è€Œæ‰£ä¸Šå‹è¿‡å»ï¼Œç¢¾è¿‡å»åå•¥äº‹å„¿æ²¡æœ‰ğŸ˜‚ï¼Œæƒ³æƒ³ä¹Ÿæ˜¯ç‰›é€¼ã€‚</p>
<p>â€‹    ç¯ä¿æ–¹é¢è·Ÿç¾å§¿å·®ä¸å¤šï¼Œéƒ½æ˜¯é’¢ä¸ä¸²è”çš„ã€‚</p>
<p>â€‹    å¯¿å‘½å°±å‰å®³äº†ï¼Œåˆ«å®¶éƒ½æ˜¯10å¹´è´¨ä¿ï¼Œèˆ’è¾¾ä¸ä¸€æ ·ï¼Œ25å¹´ã€‚ç”±æ­¤ä¹Ÿèƒ½çœ‹å‡ºæ¥è¿™ç§ç»“æ„ç¡®å®è€é€ ã€‚</p>
<p>â€‹    æè´¨ä¸è¯´äº†ï¼Œå¤§å·®ä¸å·®ã€‚</p>
<p>â€‹    å¦™è€Œæ‰£æ›´é€‚åˆå‡ ç™¾æ–¤çš„å¤§èƒ–å­ã€‚ç¾å›½äººèƒ–å­å¤šå˜›ï¼Œæ‰€ä»¥ä¸“é—¨ç ”å‘å‡ºæ¥äº†è¿™ç§ç»“æ„ã€‚</p>
<h1 id="å“ç‰Œ"><a href="#å“ç‰Œ" class="headerlink" title="å“ç‰Œ"></a>å“ç‰Œ</h1><h2 id="å›½å¤–"><a href="#å›½å¤–" class="headerlink" title="å›½å¤–"></a>å›½å¤–</h2><h3 id="ä¸æ¶Ÿ"><a href="#ä¸æ¶Ÿ" class="headerlink" title="ä¸æ¶Ÿ"></a>ä¸æ¶Ÿ</h3><p>â€‹    ä¸Šé¢ä¹Ÿè¯´äº†ï¼Œä¸»æ‰“æ˜¯ç¾å§¿æ„Ÿåº”å¼¹ç°§ã€‚ä½œä¸º3Sä¸­çš„ä¸€å‘˜ï¼Œä»·æ ¼ä¹Ÿæ˜¯ä¸ä½çš„ã€‚ä¸Šæµ·çº¢æ˜Ÿç¾å‡¯é¾™åŸºæœ¬éƒ½9kä»¥ä¸Šã€‚è¿™å®¶åºŠå«æˆ‘ä½“éªŒçš„å°‘ï¼Œå½“æ—¶ä¸æ€ä¹ˆäº†è§£ä¸æ¶Ÿï¼Œå°±åœ¨ä¸­é€”é€›ç´¯äº†çš„æ—¶å€™ï¼Œè·‘äººå®¶åº—é‡Œä¼‘æ¯å»äº†ğŸ˜‚ï¼Œåˆ«è¯´èººäº†20minè¿˜æŒºèˆ’æœçš„ã€‚</p>
<h3 id="èˆ’è¾¾"><a href="#èˆ’è¾¾" class="headerlink" title="èˆ’è¾¾"></a>èˆ’è¾¾</h3><p>â€‹    3Sä¹‹ä¸€ã€‚ä¸»æ‰“å¦™è€Œæ‰£ï¼Œä¸è¿‡ä¹Ÿæœ‰ç‹¬ç«‹è¢‹è£…å¼¹ç°§çš„äº§å“ã€‚å› ä¸ºèˆ’è¾¾æŠŠå¸­æ¢¦æ€æ”¶è´­äº†ï¼Œæ‰€ä»¥ç°åœ¨è¿™2Sæ˜¯åŒä¸€å®¶çš„2ä¸ªäº§å“å“ç‰Œâ€¦</p>
<p>â€‹    ä»–ä»¬å®¶æˆ‘è¯•äº†äºšç‰¹å…°å¤§ã€å¤©ç±ã€æ˜Ÿè¾°ã€‚å…¶ä¸­æ˜Ÿè¾°æ˜¯ç‹¬ç«‹è¢‹ï¼Œå¦å¤–ä¸¤æ¬¾æ˜¯å¦™è€Œæ‰£ã€‚äºšç‰¹å…°å¤§ç¡æ„Ÿæœ€è½¯ï¼Œä»·æ ¼1w2å‡ºå¤´ï¼›å…¶æ¬¡å¤©ç±ç¡¬ä¸€ç‚¹ï¼Œä»·æ ¼8.6kï¼›æœ€ç¡¬æ˜¯æ˜Ÿè¾°ï¼Œä»·æ ¼7.6kã€‚</p>
<p>â€‹    è¿™é‡Œæœ‰ä¸ªå°æ’æ›²ï¼Œæœ¬æ¥æˆ‘è·Ÿå¥³æœ‹å‹è¯•ç¡ä¸‹æ¥å¥½ä¸å®¹æ˜“è¾¾æˆå…±è¯†ï¼ˆå¥¹å–œæ¬¢è½¯çš„ï¼Œæˆ‘å–œæ¬¢ç¡¬çš„ï¼‰ï¼Œä¸‹å•è®¢äº†å¤©ç±ã€‚ç»“æœå›å»ä¸€æŸ¥ï¼Œæ²ˆé˜³çš„çº¢æ˜Ÿæ‰6kå¤šï¼Œç«‹é©¬å¿ƒé‡Œä¸å¹³è¡¡äº†ï¼Œç„¶åç»™é€€äº†â€¦</p>
<h3 id="å¸­æ¢¦æ€"><a href="#å¸­æ¢¦æ€" class="headerlink" title="å¸­æ¢¦æ€"></a>å¸­æ¢¦æ€</h3><p>â€‹    3Sä¹‹ä¸€ã€‚ä¸»æ‰“ç‹¬ç«‹è¢‹ï¼Œä»–ä»¬å®¶çš„ç‹¬ç«‹è¢‹è£…å¼¹ç°§åº”è¯¥æ˜¯æ‰€æœ‰åŒç±»äº§å“ä¸­æœ€å¥½çš„å§ï¼Œå¥½å¤šå…¶ä»–å“ç‰Œä¹Ÿåœ¨ç”¨ä»–ä»¬åŠ çš„å¼¹ç°§ã€‚äº§å“çº¿ä¹Ÿå¾ˆä¸°å¯Œï¼Œå„ç§åºŠå«ç”±è½¯åˆ°ç¡¬éƒ½æœ‰ã€‚</p>
<p>â€‹    ä»–ä»¬å®¶æˆ‘ä½“éªŒäº†é“¶ç¦§ã€ç‘è±ªã€‚é“¶ç¦§ç¡æ„Ÿè½¯ä¸€ç‚¹ï¼Œ7kå‡ºå¤´ï¼›ç‘è±ªç¡æ„Ÿåç¡¬ï¼Œ8kå‡ºå¤´ã€‚</p>
<h3 id="é‡‘å¯å„¿"><a href="#é‡‘å¯å„¿" class="headerlink" title="é‡‘å¯å„¿"></a>é‡‘å¯å„¿</h3><p>â€‹    è¿‘å‡ å¹´é‡‘å¯å„¿ä¹Ÿå¾ˆå‡ºåï¼ŒåŸºæœ¬ä¸3Sé½åäº†ã€‚æˆ‘è·Ÿå¥³æœ‹å‹æƒ³æ¢åºŠå«çš„æƒ³æ³•ï¼Œä¹Ÿæºäºåœ¨æµ·å—ç©ç¡äº†å¨æ–¯æ±€çš„å¤©æ¢¦ä¹‹åºŠä¹‹åç§äº†è‰ã€‚è€Œå¤©æ¢¦å°±æ˜¯å‡ºè‡ªé‡‘å¯å„¿ä¹‹æ‰‹ã€‚ä¸è¿‡å¤©æ¢¦æ˜¯é…’åº—ä¸“ä¾›æ¬¾ï¼Œä¸€èˆ¬å®¶ç”¨ä¹°ä¸åˆ°ã€‚æœ¬æ¥åˆ°çº¢æ˜Ÿä¹Ÿæƒ³è¯•è¯•ç¹æ˜ŸAæ¥ç€ï¼Œç»“æœçº¿ä¸‹æ²¡æœ‰ã€‚</p>
<p>â€‹    åœ¨ä»–ä»¬å®¶åªè¯•äº†ä¸€å¼ ï¼Œä¸“å®¶ä¹‹é€‰ï¼Œ2w+â€¦å—¯â€¦ä¹ŸæŒºå¥½çš„å°±æ˜¯æœ‰ç‚¹è´µâ€¦</p>
<h3 id="æ–¯æ—ç™¾å…°"><a href="#æ–¯æ—ç™¾å…°" class="headerlink" title="æ–¯æ—ç™¾å…°"></a>æ–¯æ—ç™¾å…°</h3><p>â€‹    è‹±å›½ç‰Œå­ï¼Œä¸»æ‰“æ˜¯ç‹¬ç«‹è¢‹+å¤©ç„¶ä¹³èƒ¶ã€‚çº¢æ˜Ÿçš„é”€å”®å‘Šè¯‰æˆ‘ä»¬ï¼Œä»–ä»¬å®¶çš„è½¯èƒ¶éƒ½æ˜¯ç‰©ç†å‘æ³¡ã€ä¹³èƒ¶å«é‡77%ä»¥ä¸Šã€‚ç„¶åè¿˜è¯´é€æ°”æ€§æ¯”æµ·ç»µå¥½å·´æ‹‰å·´æ‹‰ï¼Œæˆ‘çº æ­£å¥¹è¯´æµ·ç»µé€æ°”æ€§è¦æ¯”ä¹³èƒ¶å¥½çš„ï¼Œå¥¹è¿˜ä¸ä¿¡â€¦</p>
<p>â€‹    ä»–ä»¬å®¶è¯•äº†æ¸©åº¦æ™ºæ…§1200ã€æŠ¤è„Šæ™ºæ…§2060ã€æµ·æ´‹å¥‡ç¼˜ï¼ˆä¹Ÿä¸çŸ¥é“åˆ°åº•å“ªé‡Œæ™ºæ…§äº†â€¦ï¼‰ã€‚ç¡æ„Ÿéƒ½åè½¯ï¼Œå¥½åƒæ˜¯æµ·æ´‹å¥‡ç¼˜ï¼Œä¹³èƒ¶å±‚æœ‰10å…¬åˆ†ã€‚ä¸è¿‡æˆ‘ä¸å–œæ¬¢å¤ªè½¯çš„ï¼Œå°±æ’¤äº†ã€‚</p>
<h3 id="æ³°æ™®å°”"><a href="#æ³°æ™®å°”" class="headerlink" title="æ³°æ™®å°”"></a>æ³°æ™®å°”</h3><p>â€‹    å¥½åƒä¹Ÿæ˜¯è‹±å›½ç‰Œå­å§ï¼Œä¸“é—¨åšæµ·ç»µåºŠå«çš„ã€‚è¿™å®¶æˆ‘æ²¡è¯•ç¡è¿‡ã€‚å½“æ—¶ä¹Ÿä¸å¤ªäº†è§£æµ·ç»µåºŠå«ï¼Œæ€»è§‰å¾—ç¡ä¸Šå»å°±è·Ÿå¡Œä¸‹å»ä¸€æ ·ï¼Œæ‰€ä»¥çœ‹åˆ°é—¨åº—å°±ç»•è¿‡å»äº†ã€‚ä¸è¿‡åæ¥æŸ¥äº†äº›èµ„æ–™ï¼Œå‘ç°æœ‰äº›è…°éƒ¨æœ‰é—®é¢˜çš„äººä¹Ÿåœ¨æ¨èè¿™ä¸ªåºŠå«ï¼Œç¦é£ã€å¾®é£ç³»åˆ—ï¼Œæœ‰ç¡åœ¨äº‘ä¸Šçš„æ„Ÿè§‰ï¼Œè…°éƒ¨ä¹Ÿæœ‰æ”¯æ’‘ã€‚å’±æ²¡è¯•è¿‡ä¹Ÿä¸çŸ¥é“åˆ°æ˜¯çœŸæ˜¯å‡ã€‚</p>
<h2 id="å›½å†…"><a href="#å›½å†…" class="headerlink" title="å›½å†…"></a>å›½å†…</h2><h3 id="å–œä¸´é—¨"><a href="#å–œä¸´é—¨" class="headerlink" title="å–œä¸´é—¨"></a>å–œä¸´é—¨</h3><p>â€‹    å›½å†…çŸ¥åå“ç‰Œï¼Œåå­—å¥½å¬ï¼Œè€Œä¸”å¹¿å‘ŠåŠ›åº¦ä¹Ÿå¾ˆå¤§ã€‚å»ä»–ä»¬åº—é‡Œé€›äº†é€›ï¼Œäººç¡®å®æŒºå¤šã€‚è¯•äº†ä¼˜çœ 6926ã€é™çœ S26ã€èœœæœˆå­£é’»çŸ³ã€‚åä¸¤æ¬¾ç¡æ„Ÿè·Ÿå¸­æ¢¦æ€çš„ç‘è±ªå·®ä¸å¤šï¼Œç»“æœä»·æ ¼æ¯”å¸­æ¢¦æ€è¿˜è´µâ€¦çœŸä¸çŸ¥é“ä¸ºå•¥â€¦</p>
<p>â€‹    å¦å¤–å–œä¸´é—¨çš„é”€å”®ä½ èƒ½æ„Ÿè§‰åˆ°ä»–ä»¬çš„ä¸ä¸“ä¸šã€‚é¦–å…ˆæ˜¯å¯¹è‡ªå·±å®¶äº§å“å°±ä¸äº†è§£ï¼Œå…¶æ¬¡æ˜¯å¯¹åºŠå«ä¹Ÿä¸æ€ä¹ˆäº†è§£ã€‚é—®ä¸ªé—®é¢˜æ”¯æ”¯å¾å¾çš„ã€‚è€Œä¸”æœåŠ¡æ„è¯†å¾ˆä¸å¥½ï¼Œæˆ‘ä»¬åœ¨åº—é‡Œå‘†äº†ä¹Ÿå°±10æ¥åˆ†é’Ÿï¼Œå‰åæ¢äº†3ä¸ªé”€å”®â€¦æ€»ä¹‹ç»™æˆ‘çš„å°è±¡æå·®ï¼Œä¸œè¥¿åˆè´µåˆä¸ä¸“ä¸šçš„å°è±¡ã€‚</p>
<h3 id="æ…•æ–¯"><a href="#æ…•æ–¯" class="headerlink" title="æ…•æ–¯"></a>æ…•æ–¯</h3><p>â€‹    ä¹Ÿæ˜¯å›½å†…çŸ¥åå“ç‰Œï¼Œå¹¿å‘Šä¹Ÿä¸å°‘ã€‚ç›¸ä¿¡å¾ˆå¤šäººéƒ½çœ‹åˆ°è¿‡ä¸€ä¸ªå¤–å›½è€å¤´å¸¦ç€çœ¼é•œçš„å®£ä¼ æµ·æŠ¥ã€‚ä»–ä»¬å®¶æˆ‘å°±è¯•äº†ä¸€æ¬¾ï¼Œ233Bï¼Œ16kï¼Œ3dææ–™çš„ï¼Œä¹Ÿè¿˜è¡Œã€‚ä¸è¿‡è¯•ç©æ²¡ä»€ä¹ˆç‰¹åˆ«çš„å°è±¡ã€‚å¦å¤–ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œç½‘ä¸Šå¥½å¤šäººéƒ½åœ¨å–·æ…•æ–¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ°´å†›è¯·çš„å¤ªå¤šäº†å§ã€‚</p>
<h3 id="çˆ±èˆ’"><a href="#çˆ±èˆ’" class="headerlink" title="çˆ±èˆ’"></a>çˆ±èˆ’</h3><p>â€‹    ä¸Šæµ·è€ç‰Œå­ï¼Œä»·æ ¼ç›¸å¯¹äº²æ°‘ä¸€ç‚¹ã€‚å“ªæ€•åœ¨ä¸Šæµ·ï¼Œ5kä¹Ÿèƒ½ä¹°åˆ°ä»–ä»¬å®¶æ¯”è¾ƒå¥½çš„åºŠå«äº†ã€‚è¯•ç¡äº†èˆ’å¿ƒEã€çˆ±ä¹‹éŸµmã€‚èˆ’å¿ƒEåç¡¬ï¼Œ2.8kï¼›çˆ±ä¹‹éŸµmè½¯ä¸€ç‚¹ï¼Œ4.5kã€‚ä¸ªäººæ„Ÿè§‰æ€§ä»·æ¯”è¾ƒé«˜ã€‚</p>
<h3 id="é¾™å‡¤"><a href="#é¾™å‡¤" class="headerlink" title="é¾™å‡¤"></a>é¾™å‡¤</h3><p>â€‹    ä¹Ÿæ˜¯å›½å†…å“ç‰Œã€‚ä»–ä»¬å®¶è¯•äº†å‡ ä¸ªåºŠå«éƒ½å¾ˆè½¯ï¼Œæœ€åè¯•äº†è‡³æ¬£è¿˜ä¸é”™ï¼Œåˆšèººä¸Šå»è½¯è½¯çš„ï¼Œæ—¶é—´ä¹…äº†ä¹Ÿèƒ½æ„Ÿå—åˆ°æ”¯æ’‘ï¼Œå¥½åƒæ˜¯ä»–ä»¬å®¶è‡³å°Šç³»åˆ—ä¸­çš„ä¸€æ¬¾ã€‚7.5kå·¦å³ã€‚</p>
<h1 id="è´­ä¹°æ¸ é“"><a href="#è´­ä¹°æ¸ é“" class="headerlink" title="è´­ä¹°æ¸ é“"></a>è´­ä¹°æ¸ é“</h1><p>â€‹    æ— éçº¿ä¸Šã€çº¿ä¸‹ä¸¤ç§ã€‚ä¸è¿‡ç°åœ¨å‚å®¶éƒ½å­¦èªæ˜äº†ï¼Œçº¿ä¸Šã€çº¿ä¸‹2ä¸ªäº§å“çº¿ï¼Œç›¸äº’éš”ç¦»ã€‚ä¹Ÿå°±æ˜¯çº¿ä¸Šå®˜æ–¹ç»å¯¹ä¹°ä¸åˆ°çº¿ä¸‹çš„æ¬¾å¼ï¼Œçº¿ä¸‹ä¹Ÿä¸ä¼šæ‘†çº¿ä¸Šçš„æ¬¾ã€‚ä¸€èˆ¬æ¥è®²ï¼Œçº¿ä¸‹éƒ½ä¼šæ¯”çº¿ä¸Šè´µã€‚çº¿ä¸Šå¤§å¤šåœ¨6kå·¦å³ã€‚çº¿ä¸‹6kå¯èƒ½æ˜¯æœ€åŸºç¡€æ¬¾ã€‚ä¸è¿‡æ²¡åŠæ³•ï¼Œäººå®¶èµšçš„å°±æ˜¯ä½ çº¿ä¸‹ä½“éªŒçš„é’±ã€‚</p>
<p>â€‹    ä¸è¿‡è¿‘æ¥å€’æ˜¯æœ‰äº›å‚å®¶ï¼Œæ¯”å¦‚çº¢æ˜Ÿï¼Œä¹Ÿä¼šå¼€ç½‘åº—ï¼Œæ‰€ä»¥èƒ½çœ‹åˆ°ä¸€äº›çº¿ä¸‹çš„æ¬¾åœ¨å–ã€‚è€Œä¸”è¿™ç§ä¸€èˆ¬åªä¹°æœ¬å¸‚ï¼Œä¸ä¼šè·¨å¸‚å‡ºå”®çš„ã€‚åƒæˆ‘è·Ÿå¥³æœ‹å‹ï¼Œçœ‹åˆ°æ²ˆé˜³çš„çº¢æ˜Ÿæœ‰å–å¤©ç±ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ³•å­ä¹°ã€‚ä¸è¿‡å¦‚æœä½ æœ‰æœ‹å‹æ­£å¥½åœ¨é‚£è¾¹ï¼Œå¯ä»¥å¸®å¿™ä¹°ä¸€å¼ ï¼Œç„¶åå‘ç‰©æµã€‚ç°åœ¨ç‰©æµä¹Ÿä¾¿å®œã€‚</p>
<p>â€‹    å¦å¤–æ·˜å®ä¸Šä¹Ÿæœ‰ä¸€äº›ä»£è´­ï¼Œæ¯”å®˜æ–¹ä»·æ ¼ä¼šä¾¿å®œä¸ª1-2kï¼ŒåŸºæœ¬éƒ½æ˜¯å‰ªæ ‡çš„ã€‚ä¸ºä»€ä¹ˆå‰ªæ ‡å‘¢ï¼Œå› ä¸ºæ ‡ç­¾ä¸Šä¼šæœ‰æŒ‡å®šå‡ºå”®çš„åŸå¸‚ï¼ˆç›¸åŒäº§å“åœ¨ä¸åŒåŸå¸‚å®˜æ–¹å”®ä»·ä¸åŒï¼Œæ¶å¿ƒå§ï¼‰ï¼Œå¦‚æœè·¨åŸå¸‚å‡ºå”®å®˜æ–¹ä¼šè¿½ç©¶è´£ä»»çš„ï¼Œæ‰€ä»¥ä»£ç†å•†ä¸€èˆ¬ä¹Ÿä¸ä¼šè·¨åŸå¸‚å‡ºå”®ã€‚å½“ç„¶ä¹Ÿæœ‰ç§¯å‹äº†å¾ˆå¤šåº“å­˜ï¼Œå®åœ¨æ²¡åŠæ³•æƒ³å›ç¬¼èµ„é‡‘çš„ï¼Œä¹Ÿä¼šå‡ºå”®åˆ°å¼‚åœ°ï¼Œè¿™ç§æƒ…å†µå°±å¾—å‰ªæ ‡ã€‚</p>
<h2 id="çº¿ä¸‹"><a href="#çº¿ä¸‹" class="headerlink" title="çº¿ä¸‹"></a>çº¿ä¸‹</h2><h1 id="å¤§Væ¨è"><a href="#å¤§Væ¨è" class="headerlink" title="å¤§Væ¨è"></a>å¤§Væ¨è</h1><h2 id="è…¿æ¯›"><a href="#è…¿æ¯›" class="headerlink" title="è…¿æ¯›"></a>è…¿æ¯›</h2><p>â€‹    äººæ˜¯å››å·çš„ï¼Œä¹Ÿæ˜¯åºŠå«è¡Œä¸šçš„ï¼Œä¹Ÿæœ‰è‡ªå·±çš„æ·˜å®åº—ã€‚æ‹†äº†å¾ˆå¤šåºŠå«ï¼Œæ¯”è¾ƒä¸“ä¸šã€‚ä¸»è¦æ´»è·ƒåœ¨çŸ¥ä¹ã€‚</p>
<h2 id="å®¶å±…ç ´åç‹"><a href="#å®¶å±…ç ´åç‹" class="headerlink" title="å®¶å±…ç ´åç‹"></a>å®¶å±…ç ´åç‹</h2><p>â€‹    éåºŠå«è¡Œä¸šçš„ç´ äººï¼Œä¹Ÿæ˜¯ä¸“é—¨æ‹†åºŠå«çš„ï¼Œç›¸å¯¹æ¥è¯´ä¸“ä¸šæ€§æ²¡é‚£ä¹ˆå¼ºã€‚ä¸è¿‡ä¹Ÿæä¾›äº†æ™®é€šäººçš„è§†è§’ã€‚çŸ¥ä¹ã€Bç«™ä¸Šéƒ½æœ‰ã€‚</p>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>â€‹    ä¹°åºŠå«å‘¢ä¸€å®šä¸èƒ½å·æ‡’ï¼Œæ¯•ç«Ÿä¸æ˜¯ç»å¸¸æ¢çš„ç‰©ä»¶ï¼Œæ‰€ä»¥èƒ½åˆ°çº¿ä¸‹ä½“éªŒçš„ä¸€å®šè¦åˆ°çº¿ä¸‹ä½“éªŒã€‚ç¡æ„Ÿè¿™ä¸ªä¸œè¥¿ï¼Œç½‘ä¸Šçœ‹å†å¤šæ”»ç•¥ã€è§†é¢‘ä¹Ÿæ˜¯ä½“éªŒä¸å‡ºæ¥çš„ã€‚</p>
<p>â€‹    å¦å¤–è¯•ç¡å‘¢ä¸è¦ç”¨å±è‚¡è¯•ã€‚å¥½å¤šäººéƒ½æ˜¯å¾€é‚£ä¸€åï¼Œè¯•è¯•è½¯ä¸è½¯å°±ä¹°äº†ã€‚ä¸€å®šè¦å¤šèººä¼šï¼Œèººä¸ª10æ¥åˆ†é’Ÿï¼Œæ„Ÿè§‰è…°éƒ¨æœ‰æ²¡æœ‰æ”¯æŒã€‚ç„¶åä¾§èº«ç¡æ„Ÿå—è‚©è†€ä¼šä¸ä¼šæœ‰æŒ¤å‹ã€‚</p>
<p>â€‹    æœ€åå‘¢ä¸è¦æ€•èŠ±é’±ï¼ŒåºŠå«è¿™ä¸ªä¸œè¥¿æ˜¯çœŸçš„å¯¹ä½ çš„èº«ä½“å¥åº·æœ‰å½±å“çš„ã€‚èŠ±ä¸ªå‡ åƒå—ï¼Œä¹°ä¸ªæ¯æ™šçš„èˆ’é€‚ç¡çœ ï¼Œä»¥åŠå°†æ¥å¥åº·çš„èº¯å¹²ï¼Œè¿˜æ˜¯å€¼å¾—çš„ã€‚ä¸è¿‡ä¹Ÿä¸èƒ½ç›²ç›®èŠ±é’±ã€‚1wä»¥å†…çš„åºŠå«èƒ½æ»¡è¶³å¤§éƒ¨åˆ†äººçš„éœ€æ±‚ï¼Œ2wä»¥ä¸Šéƒ½æœ‰ç‚¹ç„å­¦çš„æˆåˆ†ã€‚</p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>åºŠå«</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ€èƒ½å›¾è°±-Apolloè‡ªåŠ¨é©¾é©¶</title>
    <url>/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-Apollo%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/</url>
    <content><![CDATA[<p>â€‹    ä»Šå¹´å‚åŠ AIConå¤§ä¼šæ—¶ï¼Œå‚ä¸æ´»åŠ¨è·å¾—äº†ä¸€äº›çŸ¥è¯†å›¾è°±æ‰‹å†Œï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶</p>
<img data-src="/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-Apollo%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/Apollo%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1.png" class="">
]]></content>
      <categories>
        <category>æŠ€èƒ½å›¾è°±</category>
      </categories>
      <tags>
        <tag>Apollo</tag>
        <tag>æŠ€èƒ½å›¾è°±</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ€æœ¯æ ˆ</title>
    <url>/2017/08/13/%E6%8A%80%E6%9C%AF%E6%A0%88/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th align="center">åç§°</th>
<th align="center">è¯­è¨€</th>
<th align="center">é¢†åŸŸ</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Solr</td>
<td align="center">lucene</td>
<td align="center">æœç´¢å¼•æ“</td>
<td align="center">æ”¯æŒå¤šç§æ ¼å¼</td>
</tr>
<tr>
<td align="center">ElasticSearch</td>
<td align="center">lucene</td>
<td align="center"></td>
<td align="center">å®æ—¶æ€§å¥½ï¼›åªæ”¯æŒjsonï¼›åˆ†å¸ƒå¼æ˜“æ‰©å±•<br /><a href="https://www.cnblogs.com/wenbronk/p/6432990.html">https://www.cnblogs.com/wenbronk/p/6432990.html</a><br /><a href="https://www.jianshu.com/p/8bb84384566a">https://www.jianshu.com/p/8bb84384566a</a></td>
</tr>
<tr>
<td align="center">Freemarker</td>
<td align="center"></td>
<td align="center">æ¨¡æ¿</td>
<td align="center">æ¨¡æ¿å¼•æ“ï¼Œjavaç«¯ç”Ÿæˆæ¨¡æ¿</td>
</tr>
<tr>
<td align="center">Shiro</td>
<td align="center">java</td>
<td align="center">å®‰å…¨æ¡†æ¶</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Rhino.js</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">åŸºäºJavaçš„javascriptå®ç°ã€‚å¯ä»¥å†javaä¸­è°ƒjsï¼Œä¹Ÿå¯ä»¥åœ¨jsä¸­è°ƒç”¨java</td>
</tr>
<tr>
<td align="center">growingio</td>
<td align="center"></td>
<td align="center">æ— åŸ‹ç‚¹</td>
<td align="center">ç”¨æˆ·è¡Œä¸ºåŸ‹ç‚¹</td>
</tr>
<tr>
<td align="center">mybatis-plus</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ç®€åŒ–mybatisè¯­å¥æ¨¡æ¿</td>
</tr>
<tr>
<td align="center">Echartsã€AntVï¼ˆG2ï¼‰</td>
<td align="center">js</td>
<td align="center">å›¾è¡¨</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">walle</td>
<td align="center"></td>
<td align="center">éƒ¨ç½²</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Android-Things</td>
<td align="center"></td>
<td align="center">IoT</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">TensorFlow</td>
<td align="center"></td>
<td align="center">DL</td>
<td align="center">Googleå®¶çš„</td>
</tr>
<tr>
<td align="center">PaddlePaddle</td>
<td align="center"></td>
<td align="center">DL</td>
<td align="center">Baiduå®¶çš„</td>
</tr>
<tr>
<td align="center">Docsifyã€Docuteã€Showdocã€MinDocã€apidoc</td>
<td align="center"></td>
<td align="center">APIæ–‡æ¡£</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">WebAssembly</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">jsä¸­è¿è¡ŒC<br /><a href="https://blog.csdn.net/garfielder007/article/details/68215694">https://blog.csdn.net/garfielder007/article/details/68215694</a></td>
</tr>
<tr>
<td align="center">Web3.js</td>
<td align="center">js</td>
<td align="center">ä»¥å¤ªåŠDapp</td>
<td align="center"><a href="http://web3.tryblockchain.org/">http://web3.tryblockchain.org/</a></td>
</tr>
<tr>
<td align="center">Solidity</td>
<td align="center"></td>
<td align="center">åŒºå—é“¾</td>
<td align="center"><a href="http://me.tryblockchain.org/getting-up-to-speed-on-ethereum.html">http://me.tryblockchain.org/getting-up-to-speed-on-ethereum.html</a></td>
</tr>
<tr>
<td align="center">Redisson</td>
<td align="center"></td>
<td align="center">redis</td>
<td align="center"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ€èƒ½å›¾è°±-å‰ç«¯</title>
    <url>/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%89%8D%E7%AB%AF/</url>
    <content><![CDATA[<p>â€‹    ä»Šå¹´å‚åŠ AIConå¤§ä¼šæ—¶ï¼Œå‚ä¸æ´»åŠ¨è·å¾—äº†ä¸€äº›çŸ¥è¯†å›¾è°±æ‰‹å†Œï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶</p>
<img data-src="/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%89%8D%E7%AB%AF/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88.png" class="">
]]></content>
      <categories>
        <category>æŠ€èƒ½å›¾è°±</category>
      </categories>
      <tags>
        <tag>æŠ€èƒ½å›¾è°±</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ€èƒ½å›¾è°±-åç«¯</title>
    <url>/2018/05/29/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%90%8E%E7%AB%AF/</url>
    <content><![CDATA[<p><img data-src="../%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/back.png"></p>
]]></content>
      <categories>
        <category>æŠ€èƒ½å›¾è°±</category>
      </categories>
      <tags>
        <tag>æŠ€èƒ½å›¾è°±</tag>
        <tag>å¤§æ•°æ®</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ€èƒ½å›¾è°±-å¤§æ•°æ®</title>
    <url>/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%A4%A7%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<p>â€‹    ä»Šå¹´å‚åŠ AIConå¤§ä¼šæ—¶ï¼Œå‚ä¸æ´»åŠ¨è·å¾—äº†ä¸€äº›çŸ¥è¯†å›¾è°±æ‰‹å†Œï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶</p>
<img data-src="/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E5%A4%A7%E6%95%B0%E6%8D%AE/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1.png" class="">
]]></content>
      <categories>
        <category>æŠ€èƒ½å›¾è°±</category>
      </categories>
      <tags>
        <tag>æŠ€èƒ½å›¾è°±</tag>
        <tag>å¤§æ•°æ®</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºshadowsocksæœåŠ¡</title>
    <url>/2018/05/06/%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAshadowsocks%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<h2 id="å®‰è£…shadowsocksæœåŠ¡"><a href="#å®‰è£…shadowsocksæœåŠ¡" class="headerlink" title="å®‰è£…shadowsocksæœåŠ¡"></a>å®‰è£…shadowsocksæœåŠ¡</h2><h3 id="Centos"><a href="#Centos" class="headerlink" title="Centos"></a>Centos</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum install python-pip</span><br><span class="line">sudo pip install shadowsocks</span><br><span class="line">sudo pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo -s</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install python-pip</span><br><span class="line">pip install shadowsocks</span><br><span class="line">pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir /etc/shadowsocks</span><br><span class="line">vim /etc/shadowsocks/ss.json</span><br><span class="line"></span><br><span class="line">//æ‹·è´ï¼Œåˆ«å¿˜äº†æ”¹å¯†ç </span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;server&quot;</span>:<span class="string">&quot;0.0.0.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;server_port&quot;</span>:443,</span><br><span class="line">    <span class="string">&quot;local_address&quot;</span>:<span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;local_port&quot;</span>:1080,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>:<span class="string">&quot;XXXXXXX&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timeout&quot;</span>:300,</span><br><span class="line">    <span class="string">&quot;method&quot;</span>:<span class="string">&quot;aes-256-cfb&quot;</span>,</span><br><span class="line">    <span class="string">&quot;fast_open&quot;</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;workers&quot;</span>: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>server_portä¸­é…çš„ç«¯å£ï¼Œéœ€è¦æœåŠ¡å™¨ä¸Šå¯¹å¤–å¼€æ”¾</p>
<h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo /usr/<span class="built_in">local</span>/bin/ssserver  -c /etc/shadowsocks/ss.json -d start</span><br><span class="line">sudo /usr/<span class="built_in">local</span>/bin/ssserver  -c /etc/shadowsocks/ss.json -d stop</span><br><span class="line">sudo /usr/<span class="built_in">local</span>/bin/ssserver  -c /etc/shadowsocks/ss.json -d restart</span><br><span class="line"></span><br><span class="line">//è®¾ç½®å¼€æœºè‡ªå¯</span><br><span class="line">vim /etc/rc.local</span><br><span class="line">//æœ«å°¾æ·»åŠ </span><br><span class="line">sudo /usr/<span class="built_in">local</span>/bin/ssserver  -c /etc/shadowsocks/ss.json -d start</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>shadowsocks</category>
      </categories>
      <tags>
        <tag>shadowsocks</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ€èƒ½å›¾è°±-æœºå™¨å­¦ä¹ </title>
    <url>/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>â€‹    ä»Šå¹´å‚åŠ AIConå¤§ä¼šæ—¶ï¼Œå‚ä¸æ´»åŠ¨è·å¾—äº†ä¸€äº›çŸ¥è¯†å›¾è°±æ‰‹å†Œï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶</p>
<img data-src="/2018/03/17/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.png" class="">
]]></content>
      <categories>
        <category>æŠ€èƒ½å›¾è°±</category>
      </categories>
      <tags>
        <tag>ML</tag>
        <tag>æŠ€èƒ½å›¾è°±</tag>
      </tags>
  </entry>
  <entry>
    <title>å…»çŠ¬æœ‰é“ã®ç¦å¿Œé£Ÿç‰©ç¯‡</title>
    <url>/2018/09/09/%E6%9F%B4%E7%8A%AC%E4%B8%8D%E8%83%BD%E5%90%83%E7%9A%84%E7%9A%84%E9%82%A3%E4%BA%9B%E5%A5%BD%E5%90%83%E7%9A%84/</url>
    <content><![CDATA[<h1 id="ç¦å¿Œé£Ÿç‰©"><a href="#ç¦å¿Œé£Ÿç‰©" class="headerlink" title="ç¦å¿Œé£Ÿç‰©"></a>ç¦å¿Œé£Ÿç‰©</h1><ol>
<li>å·§å…‹åŠ›ã€‚æœ‰äº›çŠ¬é£Ÿç”¨åæŒ¯å¥‹ä¸å®‰ï¼Œä¸”å·§å…‹åŠ›ä¸­å¯Œå«è®¸å¤šçš„ç³–åˆ†ï¼Œå¯¹çŠ¬çš„å®‰åº·æœ‰å®³æ— å®œã€‚ </li>
<li>è‘±ã€æ´‹è‘±ç­‰ç±»é£Ÿç‰©ã€‚æœ‰äº›çŠ¬é£Ÿå…¥æ­¤ç±»é£Ÿç‰©å¯è‡´ä½¿ç»†èƒæº¶è¡€ï¼Œå‘ˆç°å°¿è¡€çš„è¡¨è±¡ã€‚ </li>
<li>è‚è„ã€‚é•¿æ—¶é—´é£Ÿç”¨å¯å½¢æˆç»´ç”Ÿç´ Aè¿‡é‡ä¹ƒè‡³ä¸­æ¯’ã€‚</li>
<li>æµ·é²œç­‰æ˜“è¿‡æ•çš„é£Ÿç‰©ã€‚</li>
<li>é«˜ç³–ã€é«˜è„‚è‚ªã€é«˜ç›åˆ†çš„é£Ÿç‰©ã€‚é«˜è„‚è‚ªã€é«˜ç³–é£Ÿç‰©æ˜“ä½¿çŠ¬å‘èƒ–è€Œè¯±å‘ä¸€ç³»åˆ—ç–¾ç—…ï¼›è¿‡é‡çš„ç›åˆ†ï¼Œå¿…ç„¶åŠ å‰§è‚¾è„çš„åˆ†æ³Œçš„æ‹…è´Ÿï¼Œå½±å“è‚¾è„å®‰åº·ï¼Œæ‰“ç ´ä½“æ¶²å¹³è¡¡ï¼Œå½¢æˆå„ç§è‚Œè‚¤ç–¾ç—…ã€‚ </li>
<li>ç‰›å¥¶ã€‚è®¸å¤šç‹—ç‹—æœ‰ä¹³ç³–ä¸é€‚åº”ç—‡ï¼Œè‹¥æ˜¯ç‹—å–äº†ç‰›å¥¶åå‘ˆç°æ”¾å±ã€è…¹æ³„ã€è„±æ°´æˆ–è‚Œè‚¤å‘ç‚ç­‰ã€‚</li>
<li>ç”Ÿé¸¡è›‹ã€‚ç”Ÿè›‹ç™½å¯Œå«ä¸€ç§åµç™½ç´ çš„è›‹ç™½è´¨ï¼Œå®ƒä¼šè€—å°½ç‹—ç‹—ä½“å†…çš„ç»´ç”Ÿç´ Hï¼Œä¼šè‡´ä½¿è‚Œè‚¤ç—…åŠèƒŒæ¯›ç–‘é—®ã€‚</li>
<li>è‚¥è‚‰ã€‚è‡´ä½¿èƒ°è…ºç‚ã€‚</li>
<li>å«é…’ç²¾çš„é¥®æ–™ã€çƒ­å¯å¯ã€å’–å•¡ã€èŒ¶ã€‚</li>
<li>è‘¡è„ã€æ¢…å­ã€æå­ã€æ¨±æ¡ƒã€æ‡æ·ã€è èï¼ˆç”Ÿç‰©ç¢±å’Œè èè›‹ç™½ç®€å•å½¢æˆè¿‡æ•ï¼ŒPHå€¼è¿‡é…¸ï¼‰ã€æ¡ƒå­ã€èŠ’æœã€æœªæˆç†Ÿçš„è¥¿çº¢æŸ¿ç­‰ç”Ÿçš„æ°´æœã€‚</li>
<li>èŠ¹èœã€é¦™èœã€ç”˜è–¯ã€å¤§éº¦ã€å°éº¦ã€ç‰ç±³ï¼ˆå«è›‹ç™½é…¶æŒ‰æºç‰©ï¼‰ã€å¸¦çš®ä¸å‘èŠ½çš„é©¬é“ƒè–¯ã€æ²¹èœç­‰è”¬èœã€‚</li>
<li>ç¢éª¨å¤´ã€‚å°¤å…¶æ˜¯é¸¡é¸­ä¸€ç±»å°–åˆ©çš„éª¨å¤´ï¼Œå¯èƒ½å¯¹ç‹—ç‹—è‚ èƒƒé€ æˆæŸå®³ã€‚</li>
<li>å†·è—çš„ç‰›å¥¶ã€å†°æ·‡æ·‹å’Œå…¶å®ƒä¹³åˆ¶å“ã€‚ç‰¹åˆ«æ˜¯å¯¹å‘è‚²æœªå½»åº•çš„å¹¼çŠ¬å½±å“æœ€å¤§ï¼Œä¸€èˆ¬å‡ å£å†·ç‰›å¥¶å°±ä¼šå½¢æˆå¹¼çŠ¬è…¹æ³„ï¼Œé•¿æ—¶é—´å¦‚æ­¤ä¼šå½¢æˆä¹ æ°”æ€§è…¹æ³„ï¼Œè‡´ä½¿çŠ¬ä½“è¡°å¼±ï¼ŒçŠ¬çš„è‚ èƒƒä¸é€‚åº”æ­¤ç±»é£Ÿç‰©ã€‚ </li>
<li>çŒªè‚‰ã€‚çŒªè‚‰å†…çš„è„‚è‚ªçƒæ¯”å…¶å®ƒè‚‰ç±»å¤§ï¼Œèƒ½å¤Ÿå µå¡ç‹—ç‹—çš„å¾®è¡€ç®¡ã€‚é˜²æ­¢çŒªåˆ¶å“ï¼Œå°¤å…¶æ˜¯å«ç¡é…¸é’ çš„ç«è…¿ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>å…»çŠ¬æœ‰é“</category>
      </categories>
      <tags>
        <tag>ç‹—ç‹—</tag>
      </tags>
  </entry>
  <entry>
    <title>å…»çŠ¬æœ‰é“ã®å‡†å¤‡ç¯‡</title>
    <url>/2018/09/12/%E6%9F%B4%E7%8A%AC%E5%9B%9E%E5%AE%B6%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87/</url>
    <content><![CDATA[<h1 id="ä½çš„"><a href="#ä½çš„" class="headerlink" title="ä½çš„"></a>ä½çš„</h1><p><strong>æ‰“æ‰«å«ç”Ÿï¼Œæ¶ˆæ¯’ï¼š</strong>å®¶é‡Œçš„å«ç”Ÿè¦æ”¶æ‹¾ä¸‹ï¼Œæ¶ˆä¸‹æ¯’ã€‚æ¯•ç«Ÿå°ç‹—æŠµæŠ—åŠ›ä½</p>
<p><strong>å›´æ ã€ç¬¼å­ï¼š</strong>æ ¹æ®ä¸ªäººéœ€è¦é€‰æ‹©ã€‚å¦‚æœå®¶é‡Œä¸€ç›´æœ‰äººï¼Œç‹—å­ç»å¸¸æ”¾åœ¨å¤–é¢ï¼Œå¯ä»¥ç¬¼å­ä¹Ÿå¯ä»¥å›´æ ã€‚å¦‚æœç™½å¤©ä¸Šç­å®¶é‡Œæ²¡äººï¼Œå¿…é¡»æŠŠç‹—ç‹—å…³ç€ï¼Œæ¨èå›´æ ï¼Œæ´»åŠ¨ç©ºé—´å¤§äº›ã€‚æœ‰æœ‹å‹å›´æ ä¹Ÿä¸å›ºå®šï¼Œç‹—å­é•¿å¤§åå¸¦ç€å›´æ èµ°ï¼Œå°±æ˜¯ä¸€åº§ç§»åŠ¨å ¡å’~</p>
<p><strong>ç‹—çªã€å«å­ï¼š</strong>ä¹Ÿçœ‹æƒ…å†µã€‚å¤å¤©ç‹—å­æ›´å–œæ¬¢è¶´åœ°æ¿ã€ç¡åœ°æ¿ï¼Œä¹°å›å®¶ä»–ä¹Ÿä¸ç¡ï¼Œåªä¼šåœ¨ä¸Šé¢æ’’å°¿ï¼Œæ‰€ä»¥ä¸ç”¨é‚£ä¹ˆç€æ€¥ã€‚å¤©æ°”è½¬å‡‰çš„æ—¶å€™å¯ä»¥çœ‹æƒ…å†µä¹°ï¼Œå…¶å®æˆ‘è§‰å¾—ä¹°ä¸€ä¸ªå°±å¤Ÿäº†ã€‚å¦å¤–è¿˜æœ‰ä¸€ç§å® ç‰©ç”¨è¡Œå†›åºŠï¼Œä½åœ¨ä¸€æ¥¼ï¼Œå®¶é‡Œæ¹¿æ°”é‡å¯ä»¥ä¹°ï¼Œä¹Ÿæ¯”è¾ƒé€æ°”ã€‚</p>
<h1 id="åƒçš„"><a href="#åƒçš„" class="headerlink" title="åƒçš„"></a>åƒçš„</h1><p><strong>å¥¶ç³•/å¹¼çŠ¬ç²®ï¼š</strong>8ä¸ªæœˆä¹‹å‰å°½é‡å–‚å¹¼çŠ¬ç²®ã€‚</p>
<p><strong>ç¾Šå¥¶ç²‰ï¼š</strong>3ä¸ªæœˆä¹‹å‰åœ¨ç‹—ç²®é‡ŒåŠ ç¾Šå¥¶ç²‰ã€‚</p>
<p><strong>è¥å…»å“ï¼š</strong>è¥å…»è†ã€ç¾æ¯›è†ã€çˆ†æ¯›ç²‰ã€é’™ç‰‡ã€åµç£·è„‚ã€å¾®é‡å…ƒç´ ç‰‡ç­‰ï¼Œè¿™äº›éƒ½æ²¡å¿…è¦ä¹°ï¼Œåªè¦æ˜¯è¿˜å¯ä»¥çš„ç‹—ç²®ï¼Œå„æ–¹é¢è¥å…»éƒ½æ˜¯è¶³å¤Ÿçš„ã€‚æœ‰å¼‚é£Ÿç™–å†åƒå¾®é‡å…ƒç´ ï¼›åµç£·è„‚å®Œå…¨å¯ä»¥è‡ªå·±ç…®é¸¡è›‹ç»™ä»–åƒè›‹é»„ã€‚å¹¼çŠ¬è‚ èƒƒä¸å¥½ï¼Œå°½é‡ä¸è¦åƒä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ã€‚</p>
<p><strong>ç›Šç”ŸèŒï¼š</strong>å¯ä»¥å¤‡ä¸€ç‚¹ï¼Œè‚ èƒƒæ¶ˆåŒ–ä¸å¥½å¼„ä¸€äº›æ”¾åœ¨ç‹—ç²®é‡Œã€‚</p>
<p><strong>é›¶é£Ÿï¼š</strong>ä¸»è¦ç”¨äºè®­ç»ƒç”¨ï¼Œå¹¼çŠ¬é˜¶æ®µåƒä¸‡ä¸è¦ç»™å¤ªå¤šé›¶é£Ÿï¼Œä»¥å…æŠŠèƒƒå£å…»åˆäº†ï¼ŒæŒ‘é£Ÿã€‚</p>
<h1 id="ç”¨çš„"><a href="#ç”¨çš„" class="headerlink" title="ç”¨çš„"></a>ç”¨çš„</h1><p><strong>é£Ÿç›†ã€æ°´ç›†ï¼š</strong> å¿…å¤‡ã€‚</p>
<p><strong>å°¿ç‰‡ï¼š</strong> åœ¨æ²¡å­¦ä¼šå¤–å‡ºæ†‹å°¿ã€å¤§å°ä¾¿ä¹‹å‰ï¼Œå¿…é¡»çš„ã€‚</p>
<p><strong>æ’¸æ¯›æ¢³å­ï¼š</strong>æ¯”è¾ƒå‡ºåçš„æœ‰å¯Œç¾å†…ç‰¹ï¼Œä¸è¿‡æ¢³æ¯›æ•ˆæœå¤ªå¥½ï¼Œæ’¸å¤šäº†ä¼šç§ƒçš„ã€‚</p>
<p><strong>é©±è™«ï¼š</strong>å¿…å¤‡ã€‚</p>
<p><strong>æ²æµ´éœ²ï¼š</strong>å®¶é‡Œæ´—æ¾¡å¿…å¤‡ã€‚</p>
<p><strong>æ¶ˆæ¯’æ¶²ï¼š</strong>å¿…å¤‡ï¼Œæ‰“æ‰«å«ç”Ÿæ—¶ç”¨ã€‚</p>
<p><strong>æ´—è€³æ¶²ï¼š</strong>æœ‰è€³è¨å†ç”¨ã€‚å»ºè®®é—®ä¸‹å® ç‰©åŒ»ç”Ÿæœ‰ä»€ä¹ˆä¿¡å¾—è¿‡ç‰Œå­ã€‚</p>
<p><strong>æ´ç‰™å‡èƒ¶ï¼š</strong>å»ºè®®æ¢ç‰™åå†ç”¨ã€‚æˆ–è€…åˆ·ç‰™ï¼Œè¿™ä¸ªæ–¹ä¾¿ä¸€ç‚¹ã€‚</p>
<p><strong>é¡¹åœˆã€èƒ¸èƒŒã€ç‰µå¼•ç»³ï¼š</strong>å¿…å¤‡ã€‚</p>
<h1 id="ç©çš„"><a href="#ç©çš„" class="headerlink" title="ç©çš„"></a>ç©çš„</h1><p><strong>çƒï¼š</strong>ç‹—å­éƒ½å¾ˆå–œæ¬¢ç©çƒï¼Œå°¤å…¶æ˜¯å°çš„ã€‚</p>
<p><strong>æ¼é£Ÿçƒï¼š</strong>æ˜Ÿé™…æ¼é£Ÿçƒï¼Œæ¨èã€‚</p>
<p><strong>ç£¨ç‰™æ£’ï¼š</strong>é¹¿è§’ï¼Œæ€§ä»·æ¯”è¶…é«˜ã€‚</p>
<p><strong>å¸ƒå¶ï¼š</strong>ä¸€å®šè¦è€è‰¹ã€‚</p>
<h1 id="è¾…åŠ©çš„"><a href="#è¾…åŠ©çš„" class="headerlink" title="è¾…åŠ©çš„"></a>è¾…åŠ©çš„</h1><p><strong>ç›‘è§†å™¨ï¼š</strong>ä¸åœ¨å®¶çš„æ—¶å€™ï¼Œæˆ–è€…æ™šä¸Šï¼Œä¸€å®šå¾ˆå¥½å¥‡å°å®¶ä¼™åœ¨å¹²å˜›ã€‚ç”¨è¿‡ä¸¤æ¬¾ï¼Œä¸€æ¬¾æµ·åº·å¨è§†c6cï¼Œä¸€æ¬¾å¤§æ–¹ã€‚æ¨èå¤§æ–¹.</p>
<p>å°ç±³å¤§æ–¹ï¼šæ€§ä»·æ¯”é«˜ï¼Œé…ç½®ç®€å•ï¼Œè§†è§’å¹¿ï¼Œè½¬åŠ¨å“åº”å¿«ï¼Œçº¢å¤–æ¸…æ™°ï¼Œæ–­ç”µé‡å¯ä¸ç”¨é‡æ–°è®¾ç½®ç½‘ç»œï¼Œè¯­éŸ³å¯ä»¥å®æ—¶é€šä¿¡ã€‚ç¼ºç‚¹æ˜¯è§†é¢‘å­˜æ”¾åªèƒ½é tfå¡ã€uç›˜ï¼Œæ²¡æœ‰äº‘å­˜å‚¨ï¼›ç”µæºçº¿æ¯”è¾ƒçŸ­ï¼Œ1.8ç±³ï¼›åªèƒ½è¿5Ghzçš„ç½‘ç»œã€‚</p>
<p>æµ·åº·c6cï¼šæµ·åº·å¨è§†æ˜¯æ‘„åƒå¤´è¡Œä¸šé¾™å¤´ï¼Œæ‰€ä»¥ä¹Ÿä¹°æ¥ä½“éªŒäº†ä¸€æŠŠï¼ŒçœŸçš„â€¦æ— åŠ›åæ§½ã€‚æ¯æ¬¡æ–­ç”µéƒ½è¦é‡æ–°è®¾ç½®ç½‘ç»œï¼Œè½¬åŠ¨ç‰¹åˆ«æ…¢ï¼Œçº¢å¤–ä¸æ¸…æ™°ï¼Œè´¨æ„Ÿå·®ï¼Œå½•åƒåŠŸèƒ½ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ™šä¸Šæ²¡æœ‰å½•ï¼Œè¯­éŸ³æ˜¯å¯¹è®²æœºé‚£ç§ï¼Œå½•å®Œå†å‘ï¼Œä¸æ˜¯å®æ—¶çš„ã€‚æœ¬æ¥æˆ‘å…ˆä¹°çš„è¿™æ¬¾ï¼Œæ²¡åŠæ³•ï¼Œé€€äº†ï¼Œæ‰ä¹°çš„å°ç±³å¤§æ–¹ï¼Œå‘ç°å°ç±³æœç„¶æ˜¯ä¸é”™â€¦</p>
]]></content>
      <categories>
        <category>å…»çŠ¬æœ‰é“</category>
      </categories>
      <tags>
        <tag>ç‹—ç‹—</tag>
      </tags>
  </entry>
  <entry>
    <title>å®¶æœ‰å°æŸ´ã®æŸ´çŠ¬èº«é«˜ä½“é‡å‚ç…§è¡¨</title>
    <url>/2018/08/23/%E6%9F%B4%E7%8A%AC%E5%85%BB%E6%88%90/</url>
    <content><![CDATA[<h1 id="èº«é«˜ä½“é‡å‚ç…§è¡¨"><a href="#èº«é«˜ä½“é‡å‚ç…§è¡¨" class="headerlink" title="èº«é«˜ä½“é‡å‚ç…§è¡¨"></a>èº«é«˜ä½“é‡å‚ç…§è¡¨</h1><p>æ¯åªæŸ´çŠ¬ä½“è´¨éƒ½ä¸ä¸€æ ·ï¼Œæˆ‘ä¹Ÿé‡åˆ°è¿‡3ä¸ªæœˆæ‰4æ–¤å¤šï¼Œç‹—ç‹—å¥åº·å°±å¥½ï¼Œä¸ç”¨éå¾—é€¼ç€ä»–å¤šåƒã€‚</p>
<img data-src="/2018/08/23/%E6%9F%B4%E7%8A%AC%E5%85%BB%E6%88%90/weight.jpg" class="" title="èº«é«˜ä½“é‡å‚ç…§è¡¨">

]]></content>
      <categories>
        <category>å®¶æœ‰å°æŸ´</category>
      </categories>
      <tags>
        <tag>æŸ´çŠ¬</tag>
      </tags>
  </entry>
  <entry>
    <title>å…»çŠ¬æœ‰é“ã®é©±è™«ç¯‡</title>
    <url>/2018/09/09/%E6%9F%B4%E7%8A%AC%E9%A9%B1%E8%99%AB/</url>
    <content><![CDATA[<h1 id="å¸¸ç”¨é©±è™«è¯"><a href="#å¸¸ç”¨é©±è™«è¯" class="headerlink" title="å¸¸ç”¨é©±è™«è¯"></a>å¸¸ç”¨é©±è™«è¯</h1><p>ä¸»è¦åˆ†ä¸ºå†…é©±å’Œå¤–é©±ï¼Œæ¯æœˆä¸€æ¬¡ã€‚ä¸åŒå“ç‰Œçš„é©±è™«è¯æ—¶æ•ˆä¸åŒï¼Œæœ‰çš„ä¸€ä¸ªå­£åº¦ä¸€æ¬¡ï¼Œæœ‰çš„ä¸€ä¸ªæœˆä¸€æ¬¡ï¼Œæ ¹æ®è¯´æ˜ä¹¦ä½¿ç”¨ã€‚</p>
<p>æˆ‘ç›®å‰çš„ç»„åˆæ˜¯ç¦æ¥æ©+çŠ¬å¿ƒä¿ã€‚ä¸»è¦ç‹—å­ç»å¸¸å»è‰åœ°ï¼Œæ‰€ä»¥å¯èƒ½æœ‰èœ±è™«ï¼Œç¦æ¥æ©å¯ä»¥é©±èœ±è™«ã€‚</p>
<p>å¦‚æœä¸ç»å¸¸å»è‰åœ°ï¼Œå¯ä»¥ç›´æ¥ç”¨å¤§å® çˆ±ã€‚</p>
<p>å¦å¤–æœ‰æœ‹å‹çš„ç»„åˆæ˜¯å¤å¤©çŠ¬å¿ƒå®ï¼Œå†¬å¤©æ‹œå® æ¸…ï¼Œå¶å°”ç©¿æ’åƒé©±çƒè™«çš„ã€‚</p>
<p>ä¸è¦åªç”¨ä¸€ç§é©±è™«è¯ï¼Œå› ä¸ºæœ‰äº›è¦†ç›–ä¸åˆ°ï¼Œå¯ä»¥ç©¿æ’ä½¿ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>å…»çŠ¬æœ‰é“</category>
      </categories>
      <tags>
        <tag>ç‹—ç‹—</tag>
      </tags>
  </entry>
  <entry>
    <title>å®¶æœ‰å°æŸ´ã®æŸ´çŠ¬æŒ‘é€‰ç¯‡</title>
    <url>/2018/08/07/%E6%9F%B4%E7%8A%AC%E6%8C%91%E9%80%89/</url>
    <content><![CDATA[<p>â€‹    å¤§æ¦‚åœ¨5æœˆä»½ï¼Œæœ‹å‹çš„æœ‹å‹ï¼Œæ‰“ç®—åˆ°åˆ«çš„åŸå¸‚å‘å±•ï¼Œå®¶é‡Œæœ‰ä¸€åªé›ªçº³ç‘ï¼Œæ‰“ç®—é€ç»™åˆ«äººé¢†å…»ã€‚æœ‹å‹çŸ¥é“æˆ‘æ¯”è¾ƒå–œæ¬¢ğŸ¶ï¼Œæ‰€ä»¥å‘Šè¯‰äº†æˆ‘ï¼Œå½“æ—¶å¼€å¿ƒçš„ç¡ä¸ç€ï¼Œç¬¬äºŒå¤©è¯·äº†åŠå¤©å‡ï¼Œå¼€è½¦è¿‡å»æ¥ç‹—å­ï¼Œåˆ°å°åŒºé—¨å£è¢«å‘ŠçŸ¥ï¼Œæœ‰æƒ…å†µï¼Œä¸é€äº†ã€‚å½“æ—¶åˆ«æå¤šéƒé—·ï¼Œä½†æ˜¯ä¹Ÿæ²¡åŠæ³•â”(ï¾Ÿï½ï¾Ÿ)â”Œã€‚ç»è¿™äº‹å„¿ä¸€æ’©ï¼Œå¤§å­¦æ—¶å°±èŒç”Ÿçš„å…»ç‹—çš„å¿µå¤´ï¼Œå†ä¹Ÿæ†‹ä¸ä½ï¼ŒæŠŠè¿™äº‹æä¸Šäº†æ—¥ç¨‹ã€‚</p>
<h1 id="å…³äºé¢†å…»"><a href="#å…³äºé¢†å…»" class="headerlink" title="å…³äºé¢†å…»"></a>å…³äºé¢†å…»</h1><p>â€‹    å†™åœ¨æœ€å‰é¢ï¼Œä¹Ÿæ˜¯é¼“åŠ±å¤§å®¶é¢†å…»ä»£æ›¿è´­ä¹°ï¼Œé¢†å…»çš„æ¸ é“æœ‰å¾ˆå¤šï¼Œå½“åœ°çš„æµæµªç‹—/æµæµªçŒ«æ”¶å®¹æ‰€ï¼Œæ•‘åŠ©ç«™ç­‰ï¼Œæˆ–è€…è‡ªå·±å°åŒºï¼Œæˆ–è€…æœ‹å‹å®¶ã€‚æˆ‘æœ¬èº«æœ‰ä¸€äº›å¼ºè¿«ç—‡ï¼Œå¦‚æœå…»ç‹—å°±ä¸€å®šè¦ä»å¤´å¼€å§‹ï¼Œè‡ªå·±å¸¦ï¼Œæ‰€ä»¥é€‰æ‹©äº†ä¹°å°ç‹—ã€‚æˆ‘æœ‹å‹é¢†å…»äº†ä¸€åªè¢«é—å¼ƒçš„å¾·ç‰§ä¸²ä¸²ï¼Œé•¿å¾—ä¹Ÿå¾ˆå¯çˆ±ï¼Œç°åœ¨ä¹Ÿç‰¹åˆ«ä¹–ã€‚ç‹—ç‹—åªè¦ä½ å¯¹ä»–å¥½ï¼Œä»–ä¸€å®šä¼šå¯¹ä½ å¥½çš„ã€‚å°‘ä¸€äº›ä¹°å–ï¼Œå¤šä¸€äº›å…³çˆ±ã€‚</p>
<p>â€‹    ä¸ç®¡æ˜¯é¢†å…»ï¼Œè¿˜æ˜¯è´­ä¹°ï¼Œåœ¨é¢†å›å®¶ä¹‹å‰ï¼Œä¸€å®šè¦è€ƒè™‘æ¸…æ¥šã€‚å¦‚æœä½ ä¸æ¸…æ¥šæ˜¯å¦åšå¥½å‡†å¤‡ï¼Œå¯ä»¥é—®è‡ªå·±ä¸‹é¢å‡ ä¸ªé—®é¢˜ï¼šâ€‹</p>
<ul>
<li>å®¶äººæ˜¯å¦åŒæ„æ¥çº³ä½ çš„æ–°æˆå‘˜ï¼Ÿå¦‚æœé‡åˆ°äº†å®¶åº­é˜»åŠ›ï¼Œä½ æ˜¯å¦æœ‰èƒ½åŠ›å¯¹æŠ—é‚ªæ¶åŠ¿åŠ›ï¼Œä¿æŠ¤ä»–ï¼Ÿ</li>
<li>æ˜¯å¦å‡†å¤‡å¥½æ¡å±æ“¦å°¿ï¼Ÿç‹—ç‹—åœ¨æ²¡å­¦ä¼šå®šç‚¹ä¹‹å‰ï¼Œå®¶é‡Œä»»ä½•ä¸€ä¸ªåœ°æ–¹éƒ½æ˜¯ğŸš¾ï¼›</li>
<li>æ˜¯å¦æœ‰è€å¿ƒé™ªä»–æˆé•¿ï¼Ÿåœ¨ä»–æ‡‚äº‹ä¹‹å‰ï¼Œä»–æ˜¯ä¸ªå°æ·˜æ°”ï¼Œä¼šä¹±å«ã€å’¬ä¸œè¥¿ï¼Œå¤§å‹çŠ¬è¿˜ä¼šæ‹†å®¶ï¼›</li>
<li>æ˜¯å¦å¯ä»¥ä¸ºäº†ä»–å­¦ä¹ ï¼Œäº†è§£ä¹‹å‰æœªæ›¾æ¶‰åŠçš„é¢†åŸŸï¼Ÿæ¯”å¦‚ç‹—ç²®æˆåˆ†ã€å¦‚ä½•è®­ç»ƒã€ç–¾ç—…çŸ¥è¯†ç­‰ï¼›</li>
<li>æ˜¯å¦æœ‰æ—¶é—´ã€æœ‰ç²¾åŠ›é™ªä»–ç©è€ï¼Œå¸¦ä»–å‡ºå»é›ç‹—ï¼Ÿå¥½åŠ¨æ˜¯ç‹—çš„å¤©æ€§ï¼Œæ— å¤„å‘æ³„çš„ç²¾åŠ›åªèƒ½ç”¨åœ¨ç ´åå®¶å…·ä¸Šï¼›</li>
<li>æ˜¯å¦æœ‰ç»æµåŸºç¡€ï¼Ÿç–«è‹—ã€çœ‹ç—…ã€ç‹—ç²®ã€é›¶é£Ÿã€ç©å…·ã€å°¿ç‰‡ã€è£…å¤‡ç­‰ï¼Œéƒ½æ˜¯moneyï¼›</li>
</ul>
<p>è€ƒè™‘æ¸…æ¥šï¼Œèƒ½æ»¡è¶³æ¡ä»¶çš„ï¼Œå¯ä»¥æ‰“ä¸ªå‹¾ã€‚å¦‚æœè¿˜ä¸åˆ°ä¸€åŠçš„ï¼Œå¯ä»¥æ”¾å¼ƒäº†ã€‚</p>
<p>â€‹    ä¸€æ—¦é¢†å›å®¶ï¼Œå°±è¦æ‹…è´Ÿèµ·ç…§é¡¾ä»–ä¸€ç”Ÿçš„è´£ä»»ã€‚</p>
<h1 id="è´­ä¹°æ¸ é“"><a href="#è´­ä¹°æ¸ é“" class="headerlink" title="è´­ä¹°æ¸ é“"></a>è´­ä¹°æ¸ é“</h1><p>â€‹    è´­ä¹°çš„è¯ï¼Œæ— å¤–ä¹ä¸‹é¢å‡ ç§æ¸ é“ï¼š</p>
<ol>
<li><p>çŠ¬èˆã€‚ä»·æ ¼é€šå¸¸è¾ƒé«˜ï¼Œå°¤å…¶æ˜¯çŸ¥åçŠ¬èˆï¼Œç¨å¾®å“ç›¸å¥½ä¸€äº›çš„å´½ï¼Œä¸Šä¸‡æ˜¯å¾ˆæ­£å¸¸çš„ã€‚è¿™ä¸ªæ¸ é“ç›¸å¯¹é è°±ï¼Œè€Œä¸”æœ‰äº›è¿˜ä¼šå¸¦å‡ºç”Ÿçº¸ï¼ˆæ³¨1ï¼‰ã€‚<strong>é€‚åˆä¸å·®é’±ã€æ–°æ‰‹çš„åŒå­¦</strong>ã€‚è®°å¾—ä»¥å‰æœ‰ä¸€å¼ å›¾ï¼Œå›½å†…12å¤§æŸ´çŠ¬çŠ¬èˆåˆç…§ï¼Œå…·ä½“æœ‰å“ªäº›çŠ¬èˆå¿˜äº†ï¼Œå¯ä»¥åœ¨å½“åœ°æ‰“å¬æ‰“å¬ã€‚å¦å¤–ä¹Ÿæœ‰ä¸€äº›å°çŠ¬èˆï¼Œä¹Ÿæœ‰ä¸é”™çš„ç‹—å­ï¼Œå°½é‡å¤šçœ‹ä¸€äº›ã€‚æˆ‘æœ‰æœ‹å‹åœ¨æŸ´å¤šé…±ä¹°çš„ï¼Œä¹Ÿä¸é”™ã€‚çŠ¬èˆä»·æ ¼è‡³å°‘5kèµ·ï¼Œä¸Šä¸å°é¡¶ã€‚</p>
</li>
<li><p>ä¸ªäººå®¶å…»ã€‚ä¸€èˆ¬æ˜¯å®¶å…»çš„ç‹—é…å‡ºæ¥çš„ï¼Œä»·æ ¼ä¸ä¼šå¤ªé«˜ï¼Œæ¯•ç«Ÿä¸æ˜¯ä¸“é—¨åšè¿™ä¸ªç”Ÿæ„ã€‚é€šå¸¸åœ¨è±†ç“£ã€è½¬è½¬ã€é—²é±¼ä¸Šå‘å¸–ï¼Œä¸è¿‡æ¯”è¾ƒå°‘ã€‚è±†ç“£æœ‰ä¸ªæŸ´çŠ¬å°ç»„ï¼Œè¿˜ç®—é è°±ã€‚è½¬è½¬ã€é—²é±¼ä¸Šå¤§å¤šæ˜¯éª—äººçš„ï¼ˆæ³¨2ï¼‰ï¼Œæ³¨æ„ä¸è¦ä¸Šå½“å—éª—ã€‚è¿™ä¸ªæ¸ é“é£é™©è¾ƒé«˜ï¼Œ<strong>ä¸é€‚åˆæ–°æ‰‹</strong>ã€‚æˆ‘æ˜¯åœ¨ç ”ç©¶ã€å­¦ä¹ äº†1ä¸ªå¤šæœˆä¹‹åï¼Œæ‰ä¸“é—¨æ‰¾å®¶å…»ï¼Œå¹¶ä¸”ç°åœºæŒ‘ç‹—ä¹°çš„ã€‚è¿™å°±æœ‰ç‚¹åƒé€›å¤ç©å¸‚åœºï¼Œå¥½å­¬éƒ½æœ‰ï¼Œçœ¼åŠ›å¥½æ‰èƒ½æ¡æ¼ã€‚ä»·æ ¼åœ¨3k~5kä¹‹é—´ï¼Œå¤ªä¾¿å®œçš„ä¸€å®šä¸è¦ä¿¡ï¼åˆ«äººéƒ½å–3kä»¥ä¸Šï¼Œä»–å–å‡ ç™¾ã€1kã€2kï¼Œä»–å‚»å˜›ï¼Ÿ</p>
</li>
<li><p><strong>æ­£è§„</strong>å® ç‰©åº—ã€‚å®¶å…»ç‹—ç‹—ç”Ÿçš„å®å®ï¼Œå› ä¸ºæ²¡æœ‰æ¸ é“å–ä¸å‡ºå»ï¼Œæˆ–è€…çŠ¬èˆå› ä¸ºå“ç›¸ä¸å¥½å–ä¸å‡ºå»ï¼Œå¤§å¤šä¼šé€åˆ°å® ç‰©åº—ï¼Œå® ç‰©åº—æŒ‰æ‰¹å‘ä»·æ”¶ã€‚çœ‹åˆ°è¿™ä½ æ‡‚äº†å§ï¼Œå¤§å¤šæ˜¯åˆ«äººæŒ‘å‰©ä¸‹çš„æ‰ä¼šåœ¨å® ç‰©åº—é‡Œã€‚å½“ç„¶ä¹Ÿä¸æ’é™¤æœ‰äº›åº—åšçš„æ¯”è¾ƒå¥½ï¼Œæœ‰å¥½çš„åˆä½œä¼™ä¼´ã€‚æ‰€ä»¥è¿™ä¸ªæ¸ é“è‰¯è ä¸é½ï¼Œä¹Ÿç®—è€ƒçœ¼åŠ›ï¼Œä»·æ ¼ä¹Ÿæ¯”è¾ƒè´µã€‚å¦å¤–å°±æ˜¯ï¼Œæœ‰ä¸€äº›ä¸“é—¨éª—äººçš„å® ç‰©åº—ï¼Œä¸“é—¨å–ç—…ç‹—ã€‚ä¹‹å‰åœ¨å® ç‰©åŒ»é™¢ç¢°åˆ°ä¸€ä¸ªç‹—ä¸»äººï¼Œä»¥å‰åœ¨ä¸€å®¶å® ç‰©åº—ä¹°è¿‡ä¸¤åªç‹—ï¼Œéƒ½ä¸åˆ°ä¸¤ä¸ªæ˜ŸæœŸå°±æ­»äº†ã€‚æ‰€ä»¥å»å® ç‰©ç‚¹çš„è¯ä¹Ÿè¦æ³¨æ„ç‚¹ã€‚æ¥è§¦æ¯”è¾ƒå°‘ï¼Œä»·æ ¼ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œä¸è¿‡æœ‰æœ‹å‹è¯´ä¹Ÿæ˜¯ä¸Šä¸‡èµ·çš„ã€‚</p>
</li>
<li><p>è´´å§ã€‚ç™¾åº¦ä½ æ‡‚çš„ï¼Œå‡ ä¸ªå¤§ä¸€ç‚¹çš„æŸ´çŠ¬å§ï¼Œæ®è¯´å·²ç»è¢«å„ç§ç‹—å•†å„æ–­ï¼Œåªæœ‰ä»–ä»¬èƒ½å‘å–ç‹—ä¿¡æ¯çš„å¸–å­ï¼Œä¸€äº›å°çŠ¬èˆå‘å¸–ç›´æ¥è¢«åˆ ã€‚åœ¨è´´å§çœ‹çœ‹åˆ«äººå®¶çš„ç‹—å­ï¼Œå­¦ä¹ äº›çŸ¥è¯†è¿˜æ˜¯å¯ä»¥çš„ï¼Œä¹°ç‹—å°±ç®—äº†ã€‚ä¸æ˜¯è¯´æ²¡æœ‰è‰¯å¿ƒå–å®¶ï¼Œæ°´å¤ªæ·±ï¼Œ<strong>ä¸é€‚åˆæ–°æ‰‹</strong>ã€‚ä¸è¿‡è´´å§é‡Œè¿˜æ˜¯æœ‰ä¸€äº›çƒ­å¿ƒç½‘å‹ï¼Œä¼šå¸®äººé‰´åˆ«çœŸå‡ã€‚</p>
</li>
<li><p>ä¹°ç‹—ç½‘ç«™ã€‚è¿™ä¸ªäº†è§£ä¸å¤šï¼Œä¸è¿‡ä¹Ÿä¸æ¨èã€‚ä¹°ç‹—æ³¨é‡å®åœ°æŒ‘é€‰ï¼Œæœ€å¥½åœ¨å½“åœ°ä¹°ã€‚ä¹°ç‹—ç½‘ç«™ä¸Šä¹Ÿå……æ–¥ç€å¤§é‡æ— è‰¯å–å®¶åœ¨å–å‡å†’æŸ´çŠ¬ã€‚</p>
<p>è¯´è¿™ä¹ˆå¤šï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œåšè¶³åŠŸè¯¾ï¼Œä¸è´ªå°ä¾¿å®œï¼Œå°±ä¸æ€•ä¸Šå½“ã€‚</p>
</li>
</ol>
<p><u>æ³¨1ï¼šè¡€ç»Ÿè¯æ˜ï¼Œåªè¦çˆ¶æ¯åŒæ–¹éƒ½æœ‰è¡€ç»Ÿè¯ä¹¦ï¼Œç”Ÿçš„å®å®å¯ä»¥ç”³è¯·å‡ºç”Ÿçº¸ã€‚ç­‰åˆ°ä¸€å®šå¹´é¾„å¯ä»¥åˆ°æœºæ„æ¢è¡€ç»Ÿè¯ä¹¦ï¼Œæ¢è¯è´¹è²Œä¼¼200ã€‚ä¸€äº›çŠ¬èˆä¼šç»™ç‹—å­è´´æ ‡ç­¾ï¼Œâ€œåŒè¡€ç»Ÿå¸¦çº¸â€ï¼Œå°±æ˜¯è¿™ä¸ªæ„æ€ã€‚è‡ªå·±å®¶å…»çš„è¯ï¼Œç”¨å¤„ä¸å¤§ï¼Œä¸€èˆ¬å‚èµ›éœ€è¦ã€‚å¦å¤–çš„ç”¨å¤„å°±æ˜¯é•¿å¤§åé…ç§æˆåŠŸï¼Œå¦‚æœå¦å¤–ä¸€åªä¹Ÿæœ‰è¯ä¹¦ï¼Œå®å®å°±å¯ä»¥ç”³è¯·å‡ºç”Ÿçº¸ï¼Œå‡ºå”®ä»·æ ¼ä¼šç¨å¾®é«˜ä¸€äº›ã€‚å¦å¤–è¡¥ä¸€å¥ï¼Œè¿™ä¸ªå‡ºç”Ÿçº¸ä¹Ÿä¸ç»å¯¹å°±æ˜¯çœŸçš„ï¼ŒæŸå®ä¸Šå°±å¯ä»¥ä¹°</u>ã€‚</p>
<p><u>æ³¨2ï¼šé—²é±¼ã€è½¬è½¬ä¸Šï¼Œå¤§å¤šæ˜¯ä¸€äº›éª—å­ï¼Œæ”¾ä¸€äº›å·æ¥çš„ç…§ç‰‡ã€è§†é¢‘ï¼Œå¸å¼•ä½ è·Ÿä»–èŠå¤©ï¼Œæ²¡å‡ å¥å°±è¯´åŠ å¾®ä¿¡ï¼Œç„¶åçº¦ä½ çœ‹ç‹—ã€‚é‡ç‚¹æ¥äº†ï¼Œç­‰åˆ°æ—¶é—´ä½ åˆ°æŒ‡å®šåœ°æ–¹ï¼Œä»–ä¸€å®šè¯´æœ‰äº‹æ²¡æ—¶é—´ï¼Œè®©æœ‹å‹å¸¦ä½ å»çœ‹ã€‚è€Œä»–æœ‹å‹å¦‚æœå¸¦ä½ å»å® ç‰©åº—ï¼Œä¸€å®šä¸è¦ä¹°ï¼ä¸å‡ºæ„å¤–ï¼Œè¿™äº›éƒ½æ˜¯æ˜ŸæœŸç‹—ã€‚ä»€ä¹ˆæ˜¯æ˜ŸæœŸç‹—ï¼Ÿå°±æ˜¯ç—…ç‹—ï¼Œä½ å¸¦å›å®¶ï¼Œ1ã€2å¤©å°±ä¼šç”Ÿç—…ï¼Œä¸åˆ°ä¸€ä¸ªæ˜ŸæœŸå°±æ­»æ‰ã€‚å»æ‰¾å® ç‰©åº—ç†è®ºä¹Ÿæ²¡ç”¨ï¼Œä»–ä»¬ä¼šè¯´ç»™ä½ æ¢ç‹—ï¼Œä½ æŒ‘å®Œäº†è¿˜è®©ä½ è¡¥å·®ä»·ã€‚ä¸¾æŠ¥ä¹Ÿæ²¡ç”¨ï¼Œäººå®¶è¯ä»¶é½å…¨ï¼Œæœ‰å…³éƒ¨é—¨ä¹Ÿæ²¡åŠæ³•ã€‚</u></p>
<h1 id="æŒ‘é€‰æ³¨æ„äº‹é¡¹"><a href="#æŒ‘é€‰æ³¨æ„äº‹é¡¹" class="headerlink" title="æŒ‘é€‰æ³¨æ„äº‹é¡¹"></a>æŒ‘é€‰æ³¨æ„äº‹é¡¹</h1><p>â€‹    æŒ‘é€‰çš„æ—¶å€™å‘¢ï¼Œä¹Ÿæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li>æœ€å¥½åœ¨å½“åœ°ä¹°ï¼Œå®åœ°ã€ç°åœºæŒ‘é€‰ã€‚ä¹‹å‰ç»™ä½ å‘çš„è§†é¢‘æ˜¯ä¸æ˜¯çœŸçš„ç‹—å•Šï¼ŒçŠ¬èˆç¯å¢ƒæ€ä¹ˆæ ·å•Šï¼Œç‹—ç‹—æ€§æ ¼æ€ä¹ˆæ ·å•Šï¼Œèº«ä½“æœ‰æ²¡æœ‰éšç–¾å•Šï¼Œå…·ä½“é•¿å¾—æ€ä¹ˆæ ·å•Šï¼Œç­‰ç­‰ç­‰ç­‰ï¼Œéƒ½è¦ç°åœºçœ‹äº†æ‰çŸ¥é“ã€‚è€Œä¸”ç°åœºæŒ‘é€‰ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸€å †ç‹—ç‹—ï¼Œä½ å¯ä»¥å¯¹æ¯”ï¼Œå“ªä¸ªæ›´åˆå¾—æ¥ï¼Œé€‰æ‹©ä¹Ÿæ›´å¤šä¸€ç‚¹ã€‚å¦‚æœå®åœ¨æ— æ³•ç°åœºæŒ‘ï¼Œä¹Ÿä¸€å®šè¦è·Ÿä¹°å®¶è§†é¢‘ï¼Œç¡®ä¿ç‹—çœŸçš„åœ¨ä»–é‚£ï¼Œè€Œä¸æ˜¯å·äº†åˆ«äººçš„è§†é¢‘ã€‚å¦å¤–ä¹Ÿå¯ä»¥è§†é¢‘è·Ÿç‹—ç‹—äº’åŠ¨ï¼Œè¿›ä¸€æ­¥æŒ‘é€‰ã€‚</li>
<li>è·Ÿå–å®¶è¦çˆ¶æ¯çš„ç…§ç‰‡ã€äº¤é…è§†é¢‘ç­‰ï¼Œç¡®ä¿è¿™åªç‹—å­çœŸçš„æ˜¯æŸ´çŠ¬çš„å´½ã€‚å¦ä¸€æ–¹é¢ï¼Œçœ‹çˆ¶æ¯çš„æ ·å­ï¼Œå¯¹äºå´½ä»¥åé•¿ä»€ä¹ˆæ ·å¿ƒé‡Œä¹Ÿæœ‰ä¸ªæ•°ï¼Œå°çš„åŸºæœ¬ä¸Šè¿˜æ˜¯éšçˆ¶æ¯çš„ã€‚</li>
<li>åŒ—äº¬ã€ä¸Šæµ·åŸºæœ¬ä¸Šéƒ½è¦4kèµ·ï¼Œä¸Šä¸‡å¾ˆæ­£å¸¸ã€‚å—äº¬ç­‰æ–°ä¸€çº¿åŸå¸‚ä¹Ÿä¸ä¾¿å®œï¼ŒäºŒä¸‰çº¿å¯èƒ½ä¼šä¾¿å®œç‚¹ã€‚ä»Šå¹´2018å¹´æ˜¯ç‹—å¹´ï¼Œå¾ˆå¤šäººå…»ç‹—æ‰“ç®—æ±ªä¸€ä¸‹ï¼Œè€Œä¸”æŸ´çŠ¬é»„è‰²é‚£ç§å«èµ¤æŸ´ï¼Œåˆçº¢åˆæ—ºï¼Œå¯“æ„å¥½ï¼Œä»·æ ¼ä¹Ÿå°±ä¸Šæ¥äº†ã€‚</li>
<li>ä¹°å¹¼çŠ¬çš„è¯ï¼Œä¸€èˆ¬é€‰æ‹©2~4ä¸ªæœˆä¹‹é—´ã€‚2ä¸ªæœˆä¹‹å‰ï¼Œå¤ªå°ï¼Œæ–­å¥¶æ²¡å¤šä¹…ï¼Œä¸å¥½ç…§é¡¾ã€‚4ä¸ªæœˆä¹‹åæ€§æ ¼åŸºæœ¬å…»æˆï¼Œè°ƒæ•™ä¼šéº»çƒ¦äº›ã€‚ä¸è¿‡ä¹Ÿä¸æ˜¯è¯´ä¸€å®šè¦åœ¨è¿™ä¸ªåŒºé—´å†…ï¼Œä¸»è¦è¿˜æ˜¯ä¸»äººè¦æœ‰è€å¿ƒç…§é¡¾ä»–ï¼Œé™ªä»–ä¸€èµ·æˆé•¿ã€‚æˆ‘å®¶èŠ±ç”Ÿï¼Œåœ¨ä»–40å¤šå¤©æ–­å¥¶æ²¡å¤šä¹…æˆ‘å°±æŠ±å›å®¶äº†ã€‚</li>
<li>æŸ´çŠ¬å°æ—¶å€™è·ŸåœŸç‹—ç‰¹åˆ«ç›¸ä¼¼ï¼Œæ‰€ä»¥æœ‰å¾ˆå¤šâ€œå±±å¯¨â€æŸ´çŠ¬ï¼Œå°½é‡åšå¥½åŠŸè¯¾å†å»ä¹°ï¼Œä»¥å…ä¹°åˆ°å¤§é»„ï¼Œæˆ–è€…ä¸²ä¸²ã€‚</li>
</ol>
<h1 id="å¹¼çŠ¬ç‰¹å¾"><a href="#å¹¼çŠ¬ç‰¹å¾" class="headerlink" title="å¹¼çŠ¬ç‰¹å¾"></a>å¹¼çŠ¬ç‰¹å¾</h1><p>â€‹    è¿™é‡Œè®²çš„æ˜¯2ä¸ªæœˆå·¦å³çš„ç‹—ç‹—ç‰¹å¾ï¼š</p>
<ol>
<li>å¤´éƒ¨ã€‚å°ç‹—çš„å¤´éƒ¨ä»¥å¤§ä¸€ç‚¹çš„ä¸ºä½³ï¼Œåè„‘å‹ºä¹Ÿè¦æœ‰é€‚åº¦åœ°éš†èµ·è¾ƒå¥½ã€‚é¢å¤´è¦é€‚åº¦åœ°å®½ï¼Œå¹¼çŠ¬æ—¶æœŸå¸¦ç‚¹åœ†å¼§ï¼Œé•¿å¤§ä¹‹åå°±ä¼šå¥½äº†ï¼Œä½†æ˜¯è‹¥å¤ªçªå‡ºå°±ä¸å¤§å¥½äº†ã€‚å°ç‹—çš„é¼»æ¢åœ¨å¹¼çŠ¬æ—¶ä¼šæ¯”è¾ƒæ·±ï¼Œè€ƒè™‘åˆ°è¿™ä¸€ç‚¹æ—¶å°±è¦æ³¨æ„é€‰æ‹©å¹¼çŠ¬æ—¶è¦é€‰é¼»æ¢ä¸è¿‡æ·±ä¹Ÿä¸è¿‡æµ…è€…ã€‚ï¼ˆæŒ‘æŸ´çŠ¬å°ç‹—ï¼Œè¦ä»¥å¤´å¤§ä¸€ç‚¹çš„å¥½ï¼Œé¢å¤´è¦å®½ï¼Œåè„‘å‹ºéš†èµ·çš„ï¼Œé¼»æ¢ä¸æ·±ä¸æµ…çš„ã€‚ï¼‰</li>
<li>å˜´å·´ã€‚è¦ç²—è€ŒçŸ­ï¼Œè¿™æ ·é•¿å¤§å˜´å·´ä¸ä¼šå¤ªå°–ï¼Œä¸ä¼šåƒç‹å‹è„¸ã€‚å°æ—¶å€™å¾ˆå¤šé»‘å˜´ç®¡ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼Œé•¿å¤§å°±ä¼šè¤ªäº†ã€‚</li>
<li>é¼»å­ã€‚é¼»å­è¦å°è€Œé»‘ï¼Œç¨å¾®æœ‰äº›æ¹¿æ¶¦ï¼Œä¸æ˜¯å¤ªæ¹¿ï¼Œå¤ªæ¹¿å¯èƒ½ç”Ÿç—…äº†ã€‚</li>
<li>çœ¼ç›ã€‚åœ†çœ¼ï¼Œçœ¼ç›ä¸èƒ½è¿‡å¤§æˆ–è€…çœ¼çƒçªå‡ºï¼Œè¦å‘ˆæä»å½¢ï¼Œé…åˆå¤´éƒ¨ï¼Œçœ¼è‰²è¦ä¹Œé»‘ï¼Œä¸¤çœ¼çš„è·ç¦»ä¸èƒ½è¿‡å¼€ã€‚</li>
<li>è€³æœµã€‚è€³æœµè¦å°ï¼Œè€³ä½ä¸èƒ½è¿‡ä½ï¼Œä¸¤è€³çš„è·ç¦»ä¸èƒ½å¤ªå¼€ã€‚è¦æŒ‘è€³æœµå‘ˆä¸‰è§’å½¢çš„ï¼Œåœ¨å°ç‹—é™„è¿‘æ‹æ‹æ‰‹ï¼Œçœ‹çœ‹å°ç‹—çš„å¬åŠ›ï¼Œè€³æœµçš„å¤§å°è¦å’ŒæŸ´çŠ¬çš„å¤´ç›¸åŒ¹é…ï¼Œè€³æœµè¦æœ‰é€‚å½“çš„åšåº¦ï¼Œä¿æŒå‰å€¾çš„ã€‚</li>
<li>é¢ˆéƒ¨ç²—å£®ï¼Œä¸¤é¢Šæ¯›å‘æ—ºç››ã€‚</li>
<li>å°¾å·´ã€‚å¤§å¤šæ˜¯èœ·ç¼©å‹ã€‚</li>
</ol>
<p>è¿™äº›ç‰¹å¾éƒ½æ˜¯å±€éƒ¨æœ€ä¼˜ï¼Œæ»¡è¶³æ‰€æœ‰æ¡ä»¶çš„æŸ´çŠ¬å¾ˆå°‘ã€‚æ‰€ä»¥ä¸å¿…å¤ªè¿‡å¼ºæ±‚ï¼Œåªæ˜¯è®©å¤§å®¶å¿ƒé‡Œæœ‰ä¸ªæ ‡å‡†ï¼Œé‡è¦çš„æ˜¯ç‹—å­å¥å¥åº·åº·ï¼Œå°±å¤Ÿäº†ã€‚</p>
<h1 id="æˆçŠ¬ç‰¹å¾"><a href="#æˆçŠ¬ç‰¹å¾" class="headerlink" title="æˆçŠ¬ç‰¹å¾"></a>æˆçŠ¬ç‰¹å¾</h1><p>â€‹    æœ‰äº›æœ‹å‹ä¹°çš„æ˜¯æˆçŠ¬ï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ¯”è¾ƒå¥½åŒºåˆ†ä¸€ç‚¹ï¼Œä¸‹é¢ä¹Ÿæœ‰ä¸€äº›ç‰¹å¾ï¼š</p>
<ol>
<li>ä¸‰è§’çœ¼ã€‚çœ¼ç›è¦ç¨ç¨å‘ˆä¸‰è§’å½¢ï¼Œä¸‹çœ¼å¸˜è¦æ¥è¿‘ç›´çº¿ï¼Œä¸Šçœ¼çš®åœ¨ç¦»çœ¼å¤´ä¸‰åˆ†ä¹‹ä¸€å¤„å¼€å§‹å¼§åº¦è¾ƒå¤§ï¼Œè¿™ç§çœ¼å‹æ‰æ˜¯æ­£ç¡®çš„çœ¼å‹ã€‚</li>
<li>ç«‹è€³ã€‚æŠ˜è€³ä¸€å®šæ˜¯å‡çš„ã€‚</li>
<li>æ¯›å‘ã€‚æŸ´çŠ¬æœ‰åŒå±‚æ¯›ï¼Œå¤–å±‚åˆšæ¯›ç›´ç«‹ï¼Œå†…å±‚ç»’æ¯›ç»†è½¯ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>å®¶æœ‰å°æŸ´</category>
      </categories>
      <tags>
        <tag>æŸ´çŠ¬</tag>
      </tags>
  </entry>
  <entry>
    <title>å…»çŠ¬æœ‰é“ã®ç–«è‹—ç¯‡</title>
    <url>/2018/08/26/%E6%9F%B4%E7%8A%AC%E7%96%AB%E8%8B%97%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/</url>
    <content><![CDATA[<p><strong>ç–«è‹—æ²¡æœ‰æ³¨å°„å®Œä»¥å‰ï¼Œä¸è¦å¸¦å® ç‰©å‡ºé—¨ã€æ´—æ¾¡ï¼</strong></p>
<p><strong>ç–«è‹—æ²¡æœ‰æ³¨å°„å®Œä»¥å‰ï¼Œä¸è¦å¸¦å® ç‰©å‡ºé—¨ã€æ´—æ¾¡ï¼</strong></p>
<p><strong>ç–«è‹—æ²¡æœ‰æ³¨å°„å®Œä»¥å‰ï¼Œä¸è¦å¸¦å® ç‰©å‡ºé—¨ã€æ´—æ¾¡ï¼</strong></p>
<h1 id="ç–«è‹—å“ç‰Œ"><a href="#ç–«è‹—å“ç‰Œ" class="headerlink" title="ç–«è‹—å“ç‰Œ"></a>ç–«è‹—å“ç‰Œ</h1><p>å°½é‡é€‰å›½å¤–çš„å§ï¼Œå‰æ®µæ—¶é—´é•¿ç”Ÿç”Ÿç‰©çˆ†å‡ºçš„ä¸‘é—»ï¼Œè¿ç»™äººæ³¨å°„çš„ç–«è‹—éƒ½ä¸é è°±ï¼Œè¿˜æŒ‡æœ›å® ç‰©ç–«è‹—å¤šå®‰å…¨å—ï¼Ÿä¸æ˜¯å´‡æ´‹åªšå¤–ï¼Œå®åœ¨æ˜¯å›½å†…è®©äººä¸æ”¾å¿ƒã€‚</p>
<p>Xè”å›½å¤–å“ç‰Œä¸»è¦æœ‰ï¼š</p>
<ul>
<li><p>è·å…°è‹±ç‰¹å¨å…¬å¸ï¼Œç–«è‹—å“ç‰Œåå«å® å¿…å¨ï¼›</p>
<p>åˆ†2è”ï¼ˆå¹¼çŠ¬å®ï¼‰ã€4è”ï¼ˆä¼˜å…åº·ï¼‰ã€6è”ï¼ˆä¹å¿…å¦¥ï¼‰ã€‚æ®è¯´6è”å›½å†…ä¸è®©è¿›å£ï¼Œæ‰€ä»¥å¸‚é¢ä¸Šå¾ˆå°‘ã€‚</p>
<img data-src="/2018/08/26/%E6%9F%B4%E7%8A%AC%E7%96%AB%E8%8B%97%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/yingtewei.jpg" class="" title="è‹±ç‰¹å¨ç–«è‹—"></li>
<li><p>ç¾å›½ç¡•è…¾å…¬å¸ï¼ˆè¾‰ç‘å­å…¬å¸ï¼‰ï¼Œç–«è‹—å“ç‰Œåå«å«ä½³ï¼›</p>
<p>åˆ†5è”ã€8è”ï¼Œä¸€èˆ¬å«å«ä½³ä¼ã€å«ä½³æŒã€‚å® ç‰©åŒ»é™¢åŸºæœ¬éƒ½æ˜¯å«ä½³æŒã€‚</p>
<img data-src="/2018/08/26/%E6%9F%B4%E7%8A%AC%E7%96%AB%E8%8B%97%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/weijia.jpg" class="" title="å«ä½³ç–«è‹—"></li>
<li><p>æ³•å›½æ¢…é‡Œäºšå…¬å¸ï¼Œç–«è‹—å“ç‰Œåå«ä¼˜ä¹åº·ï¼›</p>
<p>è¿™ä¸ªæ¯”è¾ƒå°‘ï¼Œå¤§å¤šæ˜¯å® å¿…å¨ã€å«ä½³ã€‚</p>
<img data-src="/2018/08/26/%E6%9F%B4%E7%8A%AC%E7%96%AB%E8%8B%97%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/meiliya.jpg" class="" title="æ¢…é‡Œäºšç–«è‹—"></li>
</ul>
<p>ç‹‚çŠ¬å›½å¤–å“ç‰Œä¸»è¦æœ‰ï¼š</p>
<ul>
<li><p>è·å…°è‹±ç‰¹å¨å…¬å¸ï¼Œç–«è‹—å“ç‰Œåå«å® å¿…å¨*é”å¿…å¨ï¼›</p>
</li>
<li><p>ç¾å›½ç¡•è…¾å…¬å¸ï¼ˆè¾‰ç‘å­å…¬å¸ï¼‰ï¼Œç–«è‹—å“ç‰Œåå«ç‘æ¯”å…‹ï¼›</p>
</li>
<li><p>æ³•å›½æ¢…é‡Œäºšå…¬å¸ï¼Œç–«è‹—å“ç‰Œåå«ç‘è´åº·ï¼›</p>
<img data-src="/2018/08/26/%E6%9F%B4%E7%8A%AC%E7%96%AB%E8%8B%97%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/crazydog.jpg" class="" title="ç‹‚çŠ¬ç–«è‹—"></li>
</ul>
<h1 id="ç–«è‹—ç§ç±»"><a href="#ç–«è‹—ç§ç±»" class="headerlink" title="ç–«è‹—ç§ç±»"></a>ç–«è‹—ç§ç±»</h1><p>ä¸»è¦ä¸¤ç±»ï¼ŒçŠ¬ç˜Ÿã€ç»†å°ç­‰<strong>Xè”ç–«è‹—</strong>ï¼Œå’Œ<strong>ç‹‚çŠ¬ç–«è‹—</strong>ã€‚</p>
<p>çŠ¬ç˜Ÿã€ç»†å°æ˜¯å¹¼çŠ¬æœ€å®¹æ˜“å¾—çš„ç—…ï¼Œè€Œä¸”ä¸å®¹æ˜“æ²»å¥½ï¼Œä¸Šé¢è¯´çš„2è”å°±æ˜¯è¿™ä¸¤ç§çš„è”åˆç–«è‹—ã€‚å…¶ä»–çš„4è”ã€6è”ã€8è”ï¼Œéƒ½æ˜¯ä»¥è¿™ä¸ªä¸ºåŸºç¡€å¢åŠ äº†å…¶ä»–ç§ç±»çš„ç–«è‹—ã€‚çŠ¬ç˜Ÿã€ç»†å°ç–«è‹—è¦æ³¨å°„3æ¬¡ï¼Œæ‰€ä»¥ç»„åˆæœ‰å¤šæ ·ï¼Œå¯ä»¥246ï¼Œæˆ–è€…666ï¼Œä¹Ÿå¯ä»¥888ã€‚</p>
<p>ç‹‚çŠ¬ç–«è‹—å¤§å®¶éƒ½çŸ¥é“ï¼Œäººç•œéƒ½ä¼šå¾—ï¼Œä¸ºäº†é¿å…ä¼ æŸ“ï¼Œä¹Ÿæ˜¯è¦æ³¨å°„çš„ã€‚</p>
<h1 id="æ³¨å°„æ—¶é—´"><a href="#æ³¨å°„æ—¶é—´" class="headerlink" title="æ³¨å°„æ—¶é—´"></a>æ³¨å°„æ—¶é—´</h1><p><strong>Xè”</strong>ï¼šä¸€èˆ¬6å‘¨å·¦å³æ³¨å°„ç¬¬ä¸€é’ˆï¼Œæ¯éš”3~4å‘¨å†æ³¨å°„ã€‚ä¸è¿‡æœ‰äº›çŠ¬èˆä¸ºäº†è®©å®¢æˆ·å°½æ—©æ‹¿åˆ°ç‹—ç‹—ï¼Œä¼šæå‰æ³¨å°„ï¼Œå¤§æ¦‚æ˜¯4å‘¨å·¦å³å°±ä¼šæ³¨å°„ç¬¬ä¸€é’ˆã€‚è‹±ç‰¹å¨çš„2è”åœ¨ç¬¬4å‘¨çš„æ—¶å€™å°±å¯ä»¥æ³¨å°„äº†ã€‚ä¹‹åæ¯å¹´ä¸€é’ˆåŠ å¼ºã€‚</p>
<p><strong>ç‹‚çŠ¬</strong>ï¼šç†è®ºä¸Šæ¥è®²ï¼Œæ³¨å°„æœ€åä¸€é’ˆXè”æ—¶ï¼Œè¿‡ä¸€ä¼šå°±å¯ä»¥æ³¨å°„ç‹‚çŠ¬äº†ã€‚ä½†æ˜¯ç‹‚çŠ¬ä¼šå¯¹å¹¼çŠ¬è„‘éƒ¨å‘è‚²æœ‰å½±å“ï¼Œæ‰€ä»¥å°½é‡ç­‰å¹¼çŠ¬4æœˆä»¥ä¸Šï¼Œå†æ³¨å°„ã€‚ä¹‹åæ¯å¹´ä¸€é’ˆã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç‹‚çŠ¬åªèƒ½åœ¨é˜²ç–«ç«™ï¼Œæˆ–è€…é˜²ç–«ç«™æŒ‡å®šçš„å® ç‰©åŒ»é™¢æ³¨å°„ã€‚åƒåŒ—äº¬ã€ä¸Šæµ·éœ€è¦åŠç†â€œç‹—ç‹—æˆ·å£â€ï¼Œå¿…é¡»æœ‰ç‹‚çŠ¬æ³¨å°„è¯æ˜æ‰èƒ½ä¸åŠç†ã€‚ä¹‹åæ¯å¹´ä¸€é’ˆåŠ å¼ºã€‚</p>
<p>æ¥ç§æ—¶è¦æ³¨æ„ç‹—ç‹—èº«ä½“çŠ¶å†µï¼Œä¸€å®šè¦èº«ä½“å¥åº·æ‰èƒ½æ¥ç§ã€‚æ¥ç§åä¹Ÿè¦æ³¨æ„ï¼Œä¸è¦æ¢ç²®ã€æ¢ç¯å¢ƒç­‰ï¼Œä»¥å…æ¥ç§å¤±è´¥ã€‚</p>
<h1 id="æ³¨å°„åœ°ç‚¹"><a href="#æ³¨å°„åœ°ç‚¹" class="headerlink" title="æ³¨å°„åœ°ç‚¹"></a>æ³¨å°„åœ°ç‚¹</h1><ol>
<li><p>é˜²ç–«ç«™</p>
<p>è¿™ä¸ªç½‘ä¸Šä¸€æŸ¥éƒ½çŸ¥é“ã€‚</p>
</li>
<li><p>å® ç‰©åŒ»é™¢</p>
<p>ç™¾åº¦åœ°å›¾ã€å¤§ä¼—ç‚¹è¯„æœç´¢å°±æœ‰ã€‚</p>
</li>
</ol>
<h1 id="æ³¨å°„ä¹‹å"><a href="#æ³¨å°„ä¹‹å" class="headerlink" title="æ³¨å°„ä¹‹å"></a>æ³¨å°„ä¹‹å</h1><p>3å¤©å†…ä¸è¦æ¢ç²®ã€æ¢ç¯å¢ƒã€å¸¦å‡ºå»æºœç­‰ï¼Œç‹—ç‹—æƒ…ç»ªæ³¢åŠ¨å¤ªä¼šå¯¼è‡´å…ç–«å¤±è´¥ã€‚</p>
<p>æœ€åä¸€é’ˆæ³¨å°„1å‘¨ä¹‹åï¼Œå¯ä»¥å¸¦å‡ºå»æºœäº†ã€‚</p>
<p>æœ€åä¸€é’ˆæ³¨å°„3å‘¨ä¹‹åï¼Œå¯ä»¥å¸¦åˆ°åŒ»é™¢é‡Œæ£€æŸ¥æŠ—ä½“ã€‚</p>
<h1 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h1><p>ä¸€èˆ¬æ¥è®²ï¼ŒXè”ä¸‰é’ˆæœ€å¥½ä½¿ç”¨åŒä¸€ä¸ªå“ç‰Œã€‚å¦‚æœé‡åˆ°ä¸€äº›çªå‘çŠ¶å†µï¼Œéœ€è¦æ³¨å°„å…¶ä»–å“ç‰Œçš„ç–«è‹—ï¼Œè™½ç„¶ä¸å»ºè®®ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ã€‚æˆ‘ä»¬å®¶å°±æ˜¯å‰ä¸¤é’ˆè‹±ç‰¹å¨2è”ã€4è”ï¼Œç”±äºè‹±ç‰¹å¨6è”å›½å†…å¾ˆå°‘ï¼Œæ²¡æ‰¾åˆ°ï¼Œåªå¥½æ³¨å°„äº†å«ä½³8ï¼Œç°åœ¨ä¹Ÿæ´»è¹¦ä¹±è·³ã€‚ä¸è¿‡æ¯ä¸ªç‹—ç‹—ä½“è´¨éƒ½ä¸ä¸€æ ·ï¼Œå°½é‡ä¸è¦éšä¾¿æ›´æ¢ã€‚</p>
]]></content>
      <categories>
        <category>å…»çŠ¬æœ‰é“</category>
      </categories>
      <tags>
        <tag>ç‹—ç‹—</tag>
      </tags>
  </entry>
  <entry>
    <title>com.sun.image.codec.jpegä¸å­˜åœ¨</title>
    <url>/2017/09/18/%E9%94%99%E8%AF%AF-%E7%A8%8B%E5%BA%8F%E5%8C%85com-sun-image-codec-jpeg%E4%B8%8D%E5%AD%98%E5%9C%A8/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>â€‹    æœ€è¿‘é¡¹ç›®ä¸­æœ‰ä¸ªåº”ç”¨ï¼Œéœ€è¦å°†ä¸Šä¼ å›¾ç‰‡å‹ç¼©ä¸ºç¼©ç•¥å›¾ï¼Œç”¨åˆ°äº†JPEGCodecç­‰ç±»ã€‚å¼€å‘è¿‡ç¨‹ä¸­ä¸€åˆ‡æ­£å¸¸ï¼Œç¨‹åºä¹Ÿèƒ½è¿è¡Œã€‚å½“ä½¿ç”¨mavenå‘å¸ƒæ—¶ï¼Œç¨‹åºæŠ¥é”™äº†ï¼š</p>
<img data-src="/2017/09/18/%E9%94%99%E8%AF%AF-%E7%A8%8B%E5%BA%8F%E5%8C%85com-sun-image-codec-jpeg%E4%B8%8D%E5%AD%98%E5%9C%A8/jpeg_error.png" class="" title="é”™è¯¯ä¿¡æ¯">

<h2 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h2><p>â€‹    åº¦å¨˜äº†ä¸€ä¸‹ï¼Œmavençš„æ’ä»¶maven-compiler-pluginåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œæ²¡æœ‰åŠ è½½/jre/libå†…çš„åŒ…ã€‚è€Œæˆ‘ä»¬ç”¨åˆ°çš„JPEGCodecç­‰ç±»ï¼Œæ°å¥½åœ¨/jre/lib/rt.jaråŒ…å†…ã€‚ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨bootclasspathæ ‡ç­¾ã€‚è¯¥æ ‡ç­¾ä¼šå°†ä½ æŒ‡å®šè·¯å¾„ä¸‹çš„åŒ…ï¼Œé€šçŸ¥åˆ°mavenè¿›è¡ŒåŠ è½½ã€‚</p>
<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span></span><br><span class="line"><span class="xml">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="xml">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="xml">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line"><span class="xml">	<span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="comment">&lt;!-- è®¾ç½®æŒ‡å®šåŒ…çš„è·¯å¾„ --&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">compilerArguments</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">verbose</span> /&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="comment">&lt;!-- æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ --&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">bootclasspath</span>&gt;</span>$</span><span class="template-variable">&#123;env.JAVA_HOME&#125;</span><span class="xml">/jre/lib/rt.jar:$</span><span class="template-variable">&#123;env.JAVA_HOME&#125;</span><span class="xml">/jre/lib/jce.jarr<span class="tag">&lt;/<span class="name">bootclasspath</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;/<span class="name">compilerArguments</span>&gt;</span></span></span><br><span class="line"><span class="xml">	<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>Attention:</p>
<ol>
<li><p>${JAVA_HOME}è®¾ç½®ä¸ºå…¨å±€å˜é‡ã€‚æˆ‘ç”¨çš„æ˜¯Mac+IDEAï¼Œåˆšå¼€å§‹æ”¹è¿‡ä¹‹åï¼ŒIDEAçš„ç¼–è¾‘å™¨æ˜¾ç¤ºä¸€ç›´ä¸ºçº¢è‰²ã€‚å› ä¸ºè¿‡åº¦ç›¸ä¿¡å·¥å…·ï¼Œæ‰€ä»¥ä¸€ç›´ä»¥ä¸ºå…¨å±€å˜é‡è®¾ç½®çš„æœ‰é—®é¢˜ï¼Œèµ°äº†å¼¯è·¯ã€‚æ‰€ä»¥åªè¦echoæ­£å¸¸ï¼Œå°±ä¸è¦æ€€ç–‘ã€‚</p>
<img data-src="/2017/09/18/%E9%94%99%E8%AF%AF-%E7%A8%8B%E5%BA%8F%E5%8C%85com-sun-image-codec-jpeg%E4%B8%8D%E5%AD%98%E5%9C%A8/JAVA_HOME_ERROR.png" class="" title="IDEAä¸‹JAVA_HOMEæ˜¾ç¤ºä¸ºçº¢è‰²"></li>
<li><p>å½“bootclasspathæ ‡ç­¾å†…ï¼Œæœ‰å¤šä¸ªå˜é‡æ—¶ï¼ŒMac/Linuxç³»ç»Ÿä»¥ ï¼šåˆ†éš”ï¼ŒWindowsç³»ç»Ÿä»¥ ; åˆ†éš”ã€‚å¦åˆ™ä¹Ÿä¼šæœ‰å¼‚å¸¸ã€‚â€‹</p>
</li>
</ol>
]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œäº‘ECSå‡çº§HTTPS</title>
    <url>/2018/02/06/%E9%98%BF%E9%87%8C%E4%BA%91ECS%E5%8D%87%E7%BA%A7HTTPS/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    æœ€è¿‘ç³»ç»Ÿå‡†å¤‡å¼€å‘å°ç¨‹åºï¼Œå¢åŠ æµé‡å…¥å£ï¼Œè€Œå°ç¨‹åºçš„åç«¯æ¥å£éœ€è¦æ”¯æŒhttpsåè®®ï¼Œé¡ºä¾¿ç»™ç½‘ç«™å®‰å…¨å‡ä¸‹çº§ã€‚</p>
<h2 id="åˆ¶ä½œè¯ä¹¦"><a href="#åˆ¶ä½œè¯ä¹¦" class="headerlink" title="åˆ¶ä½œè¯ä¹¦"></a>åˆ¶ä½œè¯ä¹¦</h2><p>â€‹    é˜¿é‡Œäº‘ä¸Šæœ‰è¯ä¹¦æœåŠ¡ï¼Œå¡«å†™å®Œæ•´ä¿¡æ¯å¯ä»¥åœ¨çº¿åˆ¶ä½œï¼Œçœæ—¶çœåŠ›ã€‚ç™»å½•é˜¿é‡Œäº‘åï¼Œç‚¹å¼€å®‰å…¨ï¼ˆäº‘ç›¾ï¼‰- CAè¯ä¹¦æœåŠ¡ï¼Œç‚¹å‡»å³ä¸Šè§’è´­ä¹°è¯ä¹¦ï¼Œå¡«å†™ä¿¡æ¯ï¼ŒåŸŸåéªŒè¯ç±»å‹é€‰æ‹©DNSï¼Œå› ä¸ºåŸŸåä¹Ÿæ˜¯åœ¨é˜¿é‡Œä¹°çš„ï¼Œæ‰€ä»¥å‹¾ä¸Šè‡ªåŠ¨å®ŒæˆåŸŸåæˆæƒéªŒè¯ï¼Œå®Œæˆã€‚å¾ˆå¿«ï¼Œ10minå·¦å³å°±å®¡æ ¸é€šè¿‡äº†ã€‚</p>
<h2 id="é…ç½®å®‰å…¨ç»„"><a href="#é…ç½®å®‰å…¨ç»„" class="headerlink" title="é…ç½®å®‰å…¨ç»„"></a>é…ç½®å®‰å…¨ç»„</h2><p>â€‹    åœ¨ECSä¸­ç‚¹å‡»ç®¡ç†å®ä¾‹ï¼Œæ·»åŠ å®‰å…¨ç»„è§„åˆ™ï¼Œå…¬ç½‘å…¥æ–¹å‘ä¸­åŠ å…¥443/443ï¼Œåœ°å€æ®µä¸º0.0.0.0/0ã€‚</p>
<h2 id="é˜²ç«å¢™æ‰“å¼€443ç«¯å£"><a href="#é˜²ç«å¢™æ‰“å¼€443ç«¯å£" class="headerlink" title="é˜²ç«å¢™æ‰“å¼€443ç«¯å£"></a>é˜²ç«å¢™æ‰“å¼€443ç«¯å£</h2><p>â€‹    æ‰“å¼€é˜²ç«å¢™ç«¯å£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘</span></span><br><span class="line">vim /etc/sysconfig/iptables</span><br><span class="line"><span class="comment"># æ·»åŠ è®°å½•</span></span><br><span class="line">-A INPUT -p tcp -m tcp --dport 443 -j ACCEPT </span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure>

<h2 id="Nginxé…ç½®"><a href="#Nginxé…ç½®" class="headerlink" title="Nginxé…ç½®"></a>Nginxé…ç½®</h2><p>â€‹    å°†è¯ä¹¦ä¸‹è½½ï¼Œåœ¨æœåŠ¡å™¨ä¸Šnginxç›®å½•ä¸‹å»ºç«‹/certï¼Œå°†è¯ä¹¦è§£å‹ï¼Œscpåˆ°/certç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åœ¨conf.dä¸‹å»ºç«‹å•ç‹¬confæ–‡ä»¶</span></span><br><span class="line">vim ssl.yuming.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¢åŠ å¦‚ä¸‹é…ç½®</span></span><br><span class="line">server &#123;</span><br><span class="line">  listen       443;</span><br><span class="line">  server_name  åŸŸå;</span><br><span class="line">  ssl          on;</span><br><span class="line">  root html;</span><br><span class="line">  index index.html; </span><br><span class="line"></span><br><span class="line">  ssl_certificate   /etc/nginx/cert/XXXXXXXXXX.pem;</span><br><span class="line">  ssl_certificate_key  /etc/nginx/cert/XXXXXXXXXXX.key;</span><br><span class="line">  ssl_session_timeout 5m;</span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#éœ€è¦åŠ ä¸Šï¼Œä¸€å¼€å§‹æ²¡åŠ ï¼Œè®¿é—®ä¸€ç›´404ï¼Œæ‰¾äº†åŠå¤©åŸå› </span></span><br><span class="line">  location / &#123;</span><br><span class="line">		proxy_pass	http://localhost:8080;</span><br><span class="line">		proxy_set_header Host	<span class="variable">$host</span>;</span><br><span class="line">		proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">		proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">		proxy_set_header X-Forwarded-Proto  <span class="variable">$scheme</span>; 		<span class="comment">#ä¸ä¸‹æ–¹tomcaté…ç½®å¯¹åº”ï¼Œè§£å†³request.getScheme()é—®é¢˜ã€‚ä¸éœ€è¦å¯ä»¥ä¸ç”¨é…</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯nginx</span></span><br><span class="line">service nginx restart</span><br></pre></td></tr></table></figure>

<h2 id="Tomcaté…ç½®"><a href="#Tomcaté…ç½®" class="headerlink" title="Tomcaté…ç½®"></a>Tomcaté…ç½®</h2><p>â€‹    åšå®Œä¸Šé¢çš„é…ç½®ä¹‹åï¼Œå¯ä»¥é€šè¿‡httpsåè®®è®¿é—®ç½‘ç«™ï¼Œä¸è¿‡ä»£ç ä¸­ä½¿ç”¨request.getScheme()å–åˆ°çš„åè®®ä»æ˜¯httpï¼Œä¸æ˜¯httpsï¼Œæœ‰æŠ¥é”™ï¼Œè¿˜éœ€åœ¨server.xmlä¸­çš„Engineæ¨¡å—ä¸­æ·»åŠ ï¼Œéœ€é‡å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;Valve className=<span class="string">&quot;org.apache.catalina.valves.RemoteIpValve&quot;</span>  </span><br><span class="line">remoteIpHeader=<span class="string">&quot;X-Forwarded-For&quot;</span>  </span><br><span class="line">protocolHeader=<span class="string">&quot;X-Forwarded-Proto&quot;</span>  </span><br><span class="line">protocolHeaderHttpsValue=<span class="string">&quot;https&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>

<h2 id="one-more-thing"><a href="#one-more-thing" class="headerlink" title="one more thing"></a>one more thing</h2><p>â€‹    å¦‚æœéœ€è¦å°†æ‰€æœ‰è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨httpsåè®®ï¼Œåœ¨ç›‘å¬80ç«¯å£å¤„å¢åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rewrite ^(.*)$ https://<span class="variable">$&#123;server_name&#125;</span><span class="variable">$1</span> permanent;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å®‰å…¨</category>
      </categories>
      <tags>
        <tag>SSL</tag>
      </tags>
  </entry>
</search>
